(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{746:function(e,t,a){"use strict";a.r(t);var o=a(1),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"go-relayer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-relayer"}},[e._v("#")]),e._v(" Go Relayer")]),e._v(" "),a("HighlightBox",{attrs:{type:"prerequisite"}},[a("p",[e._v("Before you dive into Go relayers, make sure to:")]),e._v(" "),a("ul",[a("li",[e._v("Install Go.")]),e._v(" "),a("li",[e._v("Install Docker.")]),e._v(" "),a("li",[e._v("Install Rust.")])]),e._v(" "),a("p",[e._v("For all installations, please see the "),a("RouterLink",{attrs:{to:"/academy/3-my-own-chain/setup.html"}},[e._v("setup page")]),e._v(".")],1)]),e._v(" "),a("HighlightBox",{attrs:{type:"learning"}},[a("p",[e._v("Have you considered running a relayer?\n"),a("br"),a("br"),e._v("\nIn this section, you will learn:")]),e._v(" "),a("ul",[a("li",[e._v("How to get started with the Go relayer")]),e._v(" "),a("li",[e._v("Basic Go relayer commands")])])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/cosmos/relayer",target:"_blank",rel:"noopener noreferrer"}},[e._v("The Go relayer"),a("OutboundLink")],1),e._v(" is a relayer implementation written in Golang. It can create clients, connections, and channels, as well as relay packets, and update and upgrade clients.")]),e._v(" "),a("p",[e._v("The Go relayer aims to get your relayer up and running with minimal manual configuration and abstracts away a lot of the more complex IBC concepts. The objective is that users can spin up their own relayer and relay packets. To provide this functionality, it automates a lot of work to fetch configuration data from the chain registry.")]),e._v(" "),a("p",[e._v("After the installation, you will get started with relaying on mainnet chains and do some local testing.")]),e._v(" "),a("h2",{attrs:{id:"installation-and-getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-getting-started"}},[e._v("#")]),e._v(" Installation and getting started")]),e._v(" "),a("p",[e._v("The repository offers a script to start two chains, which we need to test the relayer.")]),e._v(" "),a("ol",[a("li",[e._v("First, create a folder for this section:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciByZWxheS1nby10ZXN0CiQgY2QgcmVsYXktZ28tdGVzdAo="}}),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Clone the "),a("a",{attrs:{href:"https://github.com/cosmos/relayer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Go relayer repository"),a("OutboundLink")],1),e._v(":")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9yZWxheWVyLmdpdAo="}}),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Now clone the "),a("a",{attrs:{href:"https://github.com/cosmos/gaia",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gaia"),a("OutboundLink")],1),e._v(" repository into it:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9nYWlhLmdpdAo="}}),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Build Gaia:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjZCBnYWlhCiQgbWFrZSBpbnN0YWxsCg=="}}),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Now build the Go relayer:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjZCAuLi9yZWxheWVyCiQgbWFrZSBpbnN0YWxsCg=="}}),e._v(" "),a("p",[e._v("Make sure that your "),a("code",[e._v("$GOPATH")]),e._v(" is set correctly and "),a("code",[e._v("$GOPATH/bin")]),e._v(" is included in your "),a("code",[e._v("$PATH")]),e._v(".")]),e._v(" "),a("p",[e._v("To check the available commands, run the help command on the "),a("code",[e._v("rly")]),e._v(" binary.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgLWgK"}}),e._v(" "),a("p",[e._v("Which returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"undefined",base64:"cmx5IGhhczoKICAgMS4gQ29uZmlndXJhdGlvbiBtYW5hZ2VtZW50IGZvciBDaGFpbnMgYW5kIFBhdGhzCiAgIDIuIEtleSBtYW5hZ2VtZW50IGZvciBtYW5hZ2luZyBtdWx0aXBsZSBrZXlzIGZvciBtdWx0aXBsZSBjaGFpbnMKICAgMy4gUXVlcnkgYW5kIHRyYW5zYWN0aW9uIGZ1bmN0aW9uYWxpdHkgZm9yIElCQwoKICAgTk9URTogTW9zdCBvZiB0aGUgY29tbWFuZHMgaGF2ZSBhbGlhc2VzIHRoYXQgbWFrZSB0eXBpbmcgdGhlbSBtdWNoIHF1aWNrZXIKICAgICAgICAgKGkuZS4gJ3JseSB0eCcsICdybHkgcScsIGV0Yy4uLikKClVzYWdlOgogIHJseSBbY29tbWFuZF0KCkF2YWlsYWJsZSBDb21tYW5kczoKICBjb25maWcgICAgICBNYW5hZ2UgY29uZmlndXJhdGlvbiBmaWxlCiAgY2hhaW5zICAgICAgTWFuYWdlIGNoYWluIGNvbmZpZ3VyYXRpb25zCiAgcGF0aHMgICAgICAgTWFuYWdlIHBhdGggY29uZmlndXJhdGlvbnMKICBrZXlzICAgICAgICBNYW5hZ2Uga2V5cyBoZWxkIGJ5IHRoZSByZWxheWVyIGZvciBlYWNoIGNoYWluCgogIHRyYW5zYWN0ICAgIElCQyB0cmFuc2FjdGlvbiBjb21tYW5kcwogIHF1ZXJ5ICAgICAgIElCQyBxdWVyeSBjb21tYW5kcwogIHN0YXJ0ICAgICAgIFN0YXJ0IHRoZSBsaXN0ZW5pbmcgcmVsYXllciBvbiBhIGdpdmVuIHBhdGgKCiAgdmVyc2lvbiAgICAgUHJpbnQgdGhlIHJlbGF5ZXIgdmVyc2lvbiBpbmZvCiAgaGVscCAgICAgICAgSGVscCBhYm91dCBhbnkgY29tbWFuZAogIGNvbXBsZXRpb24gIEdlbmVyYXRlIHRoZSBhdXRvY29tcGxldGlvbiBzY3JpcHQgZm9yIHRoZSBzcGVjaWZpZWQgc2hlbGwKCkZsYWdzOgogIC1kLCAtLWRlYnVnICAgICAgICAgICAgICAgZGVidWcgb3V0cHV0CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICBoZWxwIGZvciBybHkKICAgICAgLS1ob21lIHN0cmluZyAgICAgICAgIHNldCBob21lIGRpcmVjdG9yeSAoZGVmYXVsdCAmcXVvdDsvVXNlcnMvJmx0O3VzZXJuYW1lJmd0Oy8ucmVsYXllciZxdW90OykKICAgICAgLS1sb2ctZm9ybWF0IHN0cmluZyAgIGxvZyBvdXRwdXQgZm9ybWF0IChhdXRvLCBsb2dmbXQsIGpzb24sIG9yIGNvbnNvbGUpIChkZWZhdWx0ICZxdW90O2F1dG8mcXVvdDspCgpVc2UgJnF1b3Q7cmx5IFtjb21tYW5kXSAtLWhlbHAmcXVvdDsgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgYSBjb21tYW5kLgo="}}),e._v(" "),a("p",[e._v("Notice how the categories reflect the requirements you saw in the last section: to manage chain and path information, manage keys, query, and transact. The configuration data is added to the config file, stored at "),a("code",[e._v("$HOME/.relayer/config/config.yaml")]),e._v(" by default. If this is the first time you run the relayer, first initialize the config with the following command:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY29uZmlnIGluaXQK"}}),e._v(" "),a("p",[e._v("And check the config with:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY29uZmlnIHNob3cK"}}),e._v(" "),a("p",[e._v("Now you are all set to add the chains and paths you want to relay on, add your keys and start relaying. You will investigate two different scenarios: setting up a relayer between two chains on the mainnet (this would enable you to start relaying in production), and setting up two local chains for testing purposes.")]),e._v(" "),a("h2",{attrs:{id:"relaying-in-production"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#relaying-in-production"}},[e._v("#")]),e._v(" Relaying in production")]),e._v(" "),a("p",[e._v("As stated earlier, the Go relayer strives to get your relayer up and running in a short amount of time. You will follow the tutorial from the "),a("a",{attrs:{href:"https://github.com/cosmos/relayer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github repository"),a("OutboundLink")],1),e._v(" to start relaying between the Cosmos Hub and Osmosis, one of the most popular paths.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Configure the chains you want to relay between.")]),e._v(" "),a("p",[e._v("In this example, you will configure the relayer to operate on the canonical path between the Cosmos Hub and Osmosis.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("rly chains add")]),e._v(" command fetches chain metadata from the "),a("a",{attrs:{href:"https://github.com/cosmos/chain-registry",target:"_blank",rel:"noopener noreferrer"}},[e._v("chain registry"),a("OutboundLink")],1),e._v(" and adds it to your config file:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY2hhaW5zIGFkZCBjb3Ntb3NodWIgb3Ntb3Npcwo="}}),e._v(" "),a("p",[e._v("Adding chains from the chain registry randomly selects a publicly available RPC address from the registry entry. If you are running your own node (which is recommended if you are running relaying services professionally), manually go into the config and adjust the "),a("code",[e._v("rpc-addr")]),e._v(" setting to the RPC endpoint you have exposed.")]),e._v(" "),a("HighlightBox",{attrs:{type:"note"}},[a("p",[a("code",[e._v("rly chains add")]),e._v(" will check the liveliness of the available RPC endpoints for that chain in the chain registry. It is possible that the command will fail if none of these RPC endpoints are available. In this case, you will want to manually add the chain config.")])]),e._v(" "),a("p",[e._v("To add the chain config files manually, example config files have been included "),a("a",{attrs:{href:"https://github.com/cosmos/relayer/tree/main/docs/example-configs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("in the Cosmos relayer documentation"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY2hhaW5zIGFkZCAtLXVybCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY29zbW9zL3JlbGF5ZXIvbWFpbi9kb2NzL2V4YW1wbGUtY29uZmlncy9jb3Ntb3NodWItNC5qc29uCiQgcmx5IGNoYWlucyBhZGQgLS11cmwgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Nvc21vcy9yZWxheWVyL21haW4vZG9jcy9leGFtcGxlLWNvbmZpZ3Mvb3Ntb3Npcy0xLmpzb24K"}})],1),e._v(" "),a("li",[a("p",[e._v("Import OR create new keys for the relayer to use when signing and relaying transactions.")]),e._v(" "),a("HighlightBox",{attrs:{type:"info"}},[a("p",[a("code",[e._v("key-name")]),e._v(" is an identifier of your choosing.")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("If you need to generate a new private key you can use the "),a("code",[e._v("add")]),e._v(" subcommand:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkga2V5cyBhZGQgY29zbW9zaHViLTQgW2tleS1uYW1lXSAgCiQgcmx5IGtleXMgYWRkIG9zbW9zaXMtMSBba2V5LW5hbWVdICAK"}})],1),e._v(" "),a("li",[a("p",[e._v("If you already have a private key and want to restore it from your mnemonic you can use the "),a("code",[e._v("restore")]),e._v(" subcommand:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkga2V5cyByZXN0b3JlIGNvc21vc2h1Yi00IFtrZXktbmFtZV0gJnF1b3Q7bW5lbW9uaWMgd29yZHMgaGVyZSZxdW90OwokIHJseSBrZXlzIHJlc3RvcmUgb3Ntb3Npcy0xIFtrZXktbmFtZV0gJnF1b3Q7bW5lbW9uaWMgd29yZHMgaGVyZSZxdW90Owo="}})],1)])],1),e._v(" "),a("li",[a("p",[e._v("Edit the relayer's "),a("code",[e._v("key")]),e._v(" values in the config file to match the "),a("code",[e._v("key-name")]),e._v("s chosen above.")]),e._v(" "),a("HighlightBox",{attrs:{type:"info"}},[a("p",[e._v("This step is necessary if you chose a "),a("code",[e._v("key-name")]),e._v(' other than "default".')])]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"LSB0eXBlOiBjb3Ntb3MKICB2YWx1ZToKICBrZXk6IFlPVVItS0VZLU5BTUUtSEVSRQogIGNoYWluLWlkOiBjb3Ntb3NodWItNAogIHJwYy1hZGRyOiBodHRwOi8vbG9jYWxob3N0OjI2NjU3Cg=="}})],1),e._v(" "),a("li",[a("p",[e._v("Ensure the keys associated with the configured chains are funded.")]),e._v(" "),a("HighlightBox",{attrs:{type:"best-practice"}},[a("p",[a("strong",[e._v("ATTENTION:")]),e._v(" Your configured addresses will need to contain some of the respective native tokens to pay relayer fees.")])]),e._v(" "),a("p",[e._v("You can query the balance of each configured key by running:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcSBiYWxhbmNlIGNvc21vc2h1Yi00CiQgcmx5IHEgYmFsYW5jZSBvc21vc2lzLTEK"}})],1),e._v(" "),a("li",[a("p",[e._v("Configure path metadata in the config file.")]),e._v(" "),a("p",[e._v("You configured the "),a("em",[e._v("chain")]),e._v(" metadata, now you need "),a("em",[e._v("path")]),e._v(" metadata. This scenario assumes that there is already a canonical channel, so there is no need for light client creation, nor connection and channel handshakes to set these up.")]),e._v(" "),a("p",[e._v("There is one easy command to get this path information - initially from the "),a("a",{attrs:{href:"https://github.com/cosmos/relayer/tree/main/interchain",target:"_blank",rel:"noopener noreferrer"}},[e._v("Interchain folder"),a("OutboundLink")],1),e._v(" in the Go relayer repository, but this will soon be replaced by "),a("a",{attrs:{href:"https://github.com/cosmos/chain-registry/tree/master/_IBC",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBC data in the chain registry"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcGF0aHMgZmV0Y2gK"}}),e._v(" "),a("HighlightBox",{attrs:{type:"note"}},[a("p",[e._v("Do not see the path metadata for paths you want to relay on? Please open a Push Request (PR) to add this metadata to the GitHub repository!")])]),e._v(" "),a("p",[e._v("At minimum, this command will add two paths. In our case it will add one path from the Cosmos Hub to Osmosis, and another path from Osmosis to the Cosmos Hub.")])],1),e._v(" "),a("li",[a("p",[e._v("Configure the channel filter.")]),e._v(" "),a("p",[e._v("By default, the relayer will relay packets over all channels on a given connection.")]),e._v(" "),a("p",[e._v("Each path has an "),a("code",[e._v("src-channel-filter")]),e._v(", which you can utilize to specify which channels you would like to relay on.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("rule")]),e._v(" can be one of three values:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("allowlist")]),e._v(", which tells the relayer to relay on "),a("em",[e._v("ONLY")]),e._v(" the channels in "),a("code",[e._v("channel-list")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("denylist")]),e._v(", which tells the relayer to relay on all channels "),a("em",[e._v("EXCEPT")]),e._v(" the channels in "),a("code",[e._v("channel-list")]),e._v(".")]),e._v(" "),a("li",[e._v("Empty value, which is the default setting and tells the relayer to relay on all channels.")])]),e._v(" "),a("p",[e._v("Since you should be only worried about the canonical channel between the Cosmos Hub and Osmosis, our filter settings would look like the following:")]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"aHVib3NtbzoKICBzcmM6CiAgICBjaGFpbi1pZDogY29zbW9zaHViLTQKICAgIGNsaWVudC1pZDogMDctdGVuZGVybWludC0yNTkKICAgIGNvbm5lY3Rpb24taWQ6IGNvbm5lY3Rpb24tMjU3CiAgZHN0OgogICAgY2hhaW4taWQ6IG9zbW9zaXMtMQogICAgY2xpZW50LWlkOiAwNy10ZW5kZXJtaW50LTEKICAgIGNvbm5lY3Rpb24taWQ6IGNvbm5lY3Rpb24tMQogIHNyYy1jaGFubmVsLWZpbHRlcjoKICAgIHJ1bGU6IGFsbG93bGlzdAogICAgY2hhbm5lbC1saXN0OiBbY2hhbm5lbC0xNDFdICAK"}}),e._v(" "),a("HighlightBox",{attrs:{type:"info"}},[a("p",[e._v("Because two channels between chains are tightly coupled, there is no need to specify the dst channels.")])])],1),e._v(" "),a("li",[a("p",[e._v("Do a status check.")]),e._v(" "),a("p",[e._v("Before starting to relay and after making some changes to the config, you can check the status of the chains and paths in the config:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY2hhaW5zIGxpc3QK"}}),e._v(" "),a("p",[e._v("Which returns this output when healthy:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"undefined",base64:"MDogY29zbW9zaHViLTQgICAgICAgICAgLSZndDsgdHlwZShjb3Ntb3MpIGtleSjinJQpIGJhbCjinJQpIHBhdGgo4pyUKQoxOiBvc21vc2lzLTEgICAgICAgICAgICAtJmd0OyB0eXBlKGNvc21vcykga2V5KOKclCkgYmFsKOKclCkgcGF0aCjinJQpCg=="}}),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcGF0aHMgbGlzdAo="}}),e._v(" "),a("p",[e._v("Which return this output when healthy:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"undefined",base64:"MDogaHVib3NtbyAgICAgICAgICAgICAgLSZndDsgY2hucyjinJQpIGNsbnRzKOKclCkgY29ubijinJQpIChjb3Ntb3NodWItNCZsdDsmZ3Q7b3Ntb3Npcy0xKQoxOiBvc21vaHViICAgICAgICAgICAgICAtJmd0OyBjaG5zKOKclCkgY2xudHMo4pyUKSBjb25uKOKclCkgKG9zbW9zaXMtMSZsdDsmZ3Q7Y29zbW9zaHViLTQpCg=="}}),e._v(" "),a("p",[e._v("In case one of the checks receives a "),a("code",[e._v("✘")]),e._v(" instead of "),a("code",[e._v("✔")]),e._v(", you will need to check if you completed all the previous steps correctly.")])],1),e._v(" "),a("li",[a("p",[e._v("Finally, start the relayer on the desired path.")]),e._v(" "),a("p",[e._v("The relayer will periodically update the clients and listen for IBC messages to relay.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgc3RhcnQgW3BhdGhdCg=="}}),e._v(" "),a("p",[e._v("You will need to start a separate shell instance for each path you wish to relay over.")]),e._v(" "),a("p",[e._v("When running multiple instances of "),a("code",[e._v("rly start")]),e._v(", you will need to use the "),a("code",[e._v("--debug-addr")]),e._v(" flag and provide an "),a("code",[e._v("address:port")]),e._v(". You can also pass an empty string "),a("code",[e._v("''")]),e._v("  to turn off this feature, or pass "),a("code",[e._v("localhost:0")]),e._v(" to randomly select a port.")])],1)]),e._v(" "),a("h2",{attrs:{id:"testing-locally"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-locally"}},[e._v("#")]),e._v(" Testing locally")]),e._v(" "),a("p",[e._v("Besides running a relayer between mainnet chains, you can also run a relayer between public testnet chains or locally run chains to do some testing of particular scenarios. Here you will use two local "),a("code",[e._v("gaia")]),e._v(" chains and run a relayer between them. This is based on the demo in the "),a("a",{attrs:{href:"https://github.com/cosmos/relayer/blob/main/docs/demo.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Go relayer repository"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Make sure you are in the "),a("code",[e._v("relayer")]),e._v(" folder. Now use the offered script to spin up two chains, "),a("strong",[e._v("ibc-0")]),e._v(" and "),a("strong",[e._v("ibc-1")]),e._v(", which will run in the background.")]),e._v(" "),a("HighlightBox",{attrs:{type:"note"}},[a("p",[e._v("This script will remove the "),a("code",[e._v("~/.relayer")]),e._v(" folder with your current config. Copy it to another folder if you want to keep your current config.")])]),e._v(" "),a("p",[e._v("To stop, use "),a("code",[e._v("killall gaiad")]),e._v(":")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCAuL3NjcmlwdHMvdHdvLWNoYWluego="}}),e._v(" "),a("p",[e._v("The relayer "),a("code",[e._v("--home")]),e._v(" directory is now ready for normal operations between "),a("strong",[e._v("ibc-0")]),e._v(" and "),a("strong",[e._v("ibc-1")]),e._v(".")]),e._v(" "),a("p",[e._v("It is helpful to examine the folder structure of the relayer:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCB0cmVlIH4vLnJlbGF5ZXIK"}}),e._v(" "),a("p",[e._v("There you can see the addresses of the users created by the script.")]),e._v(" "),a("p",[e._v("Check the relayer configuration with:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjYXQgfi8ucmVsYXllci9jb25maWcvY29uZmlnLnlhbWwK"}}),e._v(" "),a("p",[e._v("Now see if the chains and path(s) are ready to relay over:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgY2hhaW5zIGxpc3QKJCBybHkgcGF0aHMgbGlzdAo="}}),e._v(" "),a("p",[e._v("You can now connect the two chains with the "),a("code",[e._v("link")]),e._v(" command. Note that if any clients, connections, and channels were not previously created (which would have shown up in the previous status check) the "),a("code",[e._v("link")]),e._v(" command will attempt to create the missing objects. You can also check "),a("code",[e._v("rly tx -h")]),e._v(" to find out the separate commands for these actions.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgdHggbGluayBkZW1vIC1kIC10IDNzCg=="}}),e._v(" "),a("p",[e._v("Next, check the token balances on both chains:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcSBiYWxhbmNlIGliYy0wCiQgcmx5IHEgYmFsIGliYy0xCg=="}}),e._v(" "),a("p",[e._v("Finally, send some tokens between the chains:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgdHggdHJhbnNmZXIgaWJjLTAgaWJjLTEgMTAwMDAwMHNhbW9sZWFucyAkKHJseSBjaGFpbnMgYWRkcmVzcyBpYmMtMSkgY2hhbm5lbC0wCg=="}}),e._v(" "),a("p",[e._v("Now you have created the commitment proof on ibc-0 to send the packet, but no relaying has taken place yet.")]),e._v(" "),a("h3",{attrs:{id:"relay-packets-acknowledgments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#relay-packets-acknowledgments"}},[e._v("#")]),e._v(" Relay packets/acknowledgments")]),e._v(" "),a("p",[e._v("Running "),a("code",[e._v("rly start demo")]),e._v(" essentially loops these two commands:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgdHggcmVsYXktcGt0cyBkZW1vIGNoYW5uZWwtMCAtZAokIHJseSB0eCByZWxheS1hY2tzIGRlbW8gY2hhbm5lbC0wIC1kCg=="}}),e._v(" "),a("p",[e._v("Check that the transfer has completed:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcSBiYWwgaWJjLTAKJCBybHkgcSBiYWwgaWJjLTEK"}}),e._v(" "),a("p",[e._v("Send the tokens back to the account on ibc-0:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgdHggdHJhbnNmZXIgaWJjLTEgaWJjLTAgMTAwMDAwMGliYy8yN0E2Mzk0QzNGOUZGOUM5RENGNURGRkFERjlCQjVGRTlBMzdDN0U5MkIwMDYxOTk4OTRDRjE4MjRERjlBQzdDICQocmx5IGNoYWlucyBhZGRyIGliYy0wKSBjaGFubmVsLTAKJCBybHkgdHggcmVsYXktcGt0cyBkZW1vIGNoYW5uZWwtMCAtZAokIHJseSB0eCByZWxheS1hY2tzIGRlbW8gY2hhbm5lbC0wIC1kCg=="}}),e._v(" "),a("p",[e._v("Check that the return trip has completed:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBybHkgcSBiYWwgaWJjLTAKJCBybHkgcSBiYWwgaWJjLTEK"}}),e._v(" "),a("p",[e._v("You can see that the stake balances decreased on each chain because of the set fees in the configuration.")]),e._v(" "),a("h2",{attrs:{id:"next-up"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-up"}},[e._v("#")]),e._v(" Next up")]),e._v(" "),a("p",[e._v("After having taken a look at the Go relayer, it is now time to turn to the Hermes relayer in the "),a("RouterLink",{attrs:{to:"/academy/4-ibc/hermes-relayer.html"}},[e._v("next section")]),e._v(".")],1)],1)}),[],!1,null,null,null);t.default=s.exports}}]);