(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{773:function(e,g,c){"use strict";c.r(g);var l=c(1),o=Object(l.a)({},(function(){var e=this,g=e.$createElement,c=e._self._c||g;return c("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[c("h1",{attrs:{id:"extend-the-checkers-game-with-a-leaderboard"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#extend-the-checkers-game-with-a-leaderboard"}},[e._v("#")]),e._v(" Extend the Checkers Game With a Leaderboard")]),e._v(" "),c("HighlightBox",{attrs:{type:"learning"}},[c("p",[e._v("In this section, you will learn:")]),e._v(" "),c("ul",[c("li",[e._v("How to make an existing chain IBC-enabled.")]),e._v(" "),c("li",[e._v("How to extend your chains with additional modules.")])])]),e._v(" "),c("h2",{attrs:{id:"what-you-will-be-building-and-why"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#what-you-will-be-building-and-why"}},[e._v("#")]),e._v(" What you will be building and why")]),e._v(" "),c("p",[e._v("The checkers blockchain you have built has the ability to create games, play them, forfeit them, and wager on them (potentially with cross-chain tokens). A further optimization would be to include a leaderboard. This could be executed locally on the checkers blockchain to rank the best players on the checkers blockchain. You can see an example of this in the "),c("RouterLink",{attrs:{to:"/hands-on-exercise/4-run-in-prod/2-migration-info.html"}},[e._v("migration sections")]),e._v(".")],1),e._v(" "),c("p",[e._v("But what if there is more than one checkers chain? Or better yet, other game chains that allow players to play competitive games. Would it not be great to enable a standard to send the game data from the local game chain to an application-specific chain that keeps a global leaderboard? This is exactly what you will be building in the next few sections.")]),e._v(" "),c("HighlightBox",{attrs:{type:"remember"}},[c("p",[e._v("Remember the "),c("RouterLink",{attrs:{to:"/academy/3-ibc/1-what-is-ibc.html#internet-of-blockchains"}},[e._v("appchain thesis that is an integral part of the Interchain philosophy")]),e._v(" - where every application has its own chain and can be optimized for the application-specific logic it executes. Then IBC can be used to interoperate between all the chains that have specialized functionality. This is the idea behind the prototype checkers and leaderboard chains you're building, enabling IBC packets to be sent between those chains to create cross-chain applications.")],1)]),e._v(" "),c("h2",{attrs:{id:"adding-a-local-leaderboard-module-to-the-checkers-chain"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#adding-a-local-leaderboard-module-to-the-checkers-chain"}},[e._v("#")]),e._v(" Adding a local leaderboard module to the checkers chain")]),e._v(" "),c("p",[e._v("Currently, your checkers game contains the checkers module but is not IBC-enabled. It is now time to extend your checkers game with a leaderboard by adding a new module to make it IBC-enabled.")]),e._v(" "),c("p",[e._v("Letâ€™s dive right into it.")]),e._v(" "),c("p",[e._v("Go to your checkers folder and make sure that you are checked out on the "),c("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/tree/cosmjs-elements",target:"_blank",rel:"noopener noreferrer"}},[e._v("cosmjs-elements"),c("OutboundLink")],1),e._v(" branch.")]),e._v(" "),c("p",[e._v("In the checkers chain folder, you can scaffold a leaderboard module with Ignite:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgbW9kdWxlIGxlYWRlcmJvYXJkIC0taWJjCg=="}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGlnbml0ZWhxL2NsaTowLjIyLjEgXAogICAgc2NhZmZvbGQgbW9kdWxlIGxlYWRlcmJvYXJkIC0taWJjCg=="}})],1)],1),e._v(" "),c("p",[e._v("In order to create and maintain a leaderboard, you need to store the player information. Scaffold a structure with:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgbWFwIHBsYXllckluZm8gXAogICAgd29uQ291bnQ6dWludCBsb3N0Q291bnQ6dWludCBmb3JmZWl0ZWRDb3VudDp1aW50IFwKICAgIGRhdGVVcGRhdGVkOnN0cmluZyBcCiAgICAtLW1vZHVsZSBsZWFkZXJib2FyZCBcCiAgICAtLW5vLW1lc3NhZ2UK"}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovbGVhZGVyYm9hcmQgXAogICAgLXcgL2xlYWRlcmJvYXJkIFwKICAgIGlnbml0ZWhxL2NsaTowLjIyLjEgXAogICAgc2NhZmZvbGQgbWFwIHBsYXllckluZm8gXAogICAgd29uQ291bnQ6dWludCBsb3N0Q291bnQ6dWludCBmb3JmZWl0ZWRDb3VudDp1aW50IFwKICAgIGRhdGVVcGRhdGVkOnN0cmluZyBcCiAgICAtLW1vZHVsZSBsZWFkZXJib2FyZCBcCiAgICAtLW5vLW1lc3NhZ2UK"}})],1)],1),e._v(" "),c("p",[e._v("Now you can use this structure to create the board itself:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgc2luZ2xlIGJvYXJkIFwKICAgIFBsYXllckluZm86UGxheWVySW5mbyBcCiAgICAtLW1vZHVsZSBsZWFkZXJib2FyZCBcCiAgICAtLW5vLW1lc3NhZ2UK"}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovbGVhZGVyYm9hcmQgXAogICAgLXcgL2xlYWRlcmJvYXJkIFwKICAgIGlnbml0ZWhxL2NsaTowLjIyLjEgXAogICAgc2NhZmZvbGQgc2luZ2xlIGJvYXJkIFwKICAgIFBsYXllckluZm86UGxheWVySW5mbyBcCiAgICAtLW1vZHVsZSBsZWFkZXJib2FyZCBcCiAgICAtLW5vLW1lc3NhZ2UK"}})],1)],1),e._v(" "),c("p",[e._v("The structures created by Ignite are "),c("a",{attrs:{href:"https://en.wikipedia.org/wiki/Nullable_type",target:"_blank",rel:"noopener noreferrer"}},[e._v("nullable types"),c("OutboundLink")],1),e._v(" by default, but you do not want that. So a few adjustments are needed - especially because you do not have a null value for an address.")]),e._v(" "),c("p",[e._v("You need to make the adjustments in the Protobuf files "),c("code",[e._v("proto/leaderboard/board.proto")]),e._v(" and "),c("code",[e._v("proto/leaderboard/genesis.proto")]),e._v(". Make sure to import "),c("code",[e._v("gogoproto/gogo.proto")]),e._v(" and use "),c("code",[e._v("[(gogoproto.nullable) = false];")]),e._v(" for the "),c("code",[e._v("PlayerInfo")]),e._v(" and the "),c("a",{attrs:{href:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/proto/leaderboard/genesis.proto#L17",target:"_blank",rel:"noopener noreferrer"}},[c("code",[e._v("Board")]),c("OutboundLink")],1),e._v(".")]),e._v(" "),c("p",[e._v("For example, for "),c("code",[e._v("proto/leaderboard/board.proto")]),e._v(" try this:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-protobuf",base64:"ICAgIHN5bnRheCA9ICZxdW90O3Byb3RvMyZxdW90OzsKICAgIHBhY2thZ2UgYjlsYWIuY2hlY2tlcnMubGVhZGVyYm9hcmQ7CgogICAgb3B0aW9uIGdvX3BhY2thZ2UgPSAmcXVvdDtnaXRodWIuY29tL2I5bGFiL2NoZWNrZXJzL3gvbGVhZGVyYm9hcmQvdHlwZXMmcXVvdDs7CiAgICBpbXBvcnQgJnF1b3Q7bGVhZGVyYm9hcmQvcGxheWVyX2luZm8ucHJvdG8mcXVvdDs7CisgIGltcG9ydCAmcXVvdDtnb2dvcHJvdG8vZ29nby5wcm90byZxdW90OzsKCiAgICBtZXNzYWdlIEJvYXJkIHsKLSAgICAgIFBsYXllckluZm8gcGxheWVySW5mbyA9IDE7CisgICAgICByZXBlYXRlZCBQbGF5ZXJJbmZvIHBsYXllckluZm8gPSAxIFsoZ29nb3Byb3RvLm51bGxhYmxlKSA9IGZhbHNlXTsKICAgIH0K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/proto/leaderboard/board.proto#L9"}}),e._v(" "),c("HighlightBox",{attrs:{type:"note"}},[c("p",[e._v("After re-compilation, you will also have to modify the "),c("code",[e._v("x/leaderboard/genesis.go")]),e._v(". In it, look for:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgIGlmIGdlblN0YXRlLkJvYXJkICE9IG5pbCB7Ci0gICAgICAgay5TZXRCb2FyZChjdHgsICpnZW5TdGF0ZS5Cb2FyZCkKLSAgIH0KKyAgIGsuU2V0Qm9hcmQoY3R4LCBnZW5TdGF0ZS5Cb2FyZCkK",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/genesis.go#L17"}}),e._v(" "),c("p",[e._v("And:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGlmIGZvdW5kIHsKLSAgICAgIGdlbmVzaXMuQm9hcmQgPSAmYW1wO2JvYXJkCisgICAgICBnZW5lc2lzLkJvYXJkID0gYm9hcmQKICAgIH0KCg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/genesis.go#L44"}}),e._v(" "),c("p",[e._v("Next, in the "),c("code",[e._v("x/leaderboard/genesis_test.go")]),e._v(", look for:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgQm9hcmQ6ICZhbXA7dHlwZXMuQm9hcmR7Ci0gICAgICBQbGF5ZXJJbmZvOiBuZXcodHlwZXMuUGxheWVySW5mbyksCisgIEJvYXJkOiB0eXBlcy5Cb2FyZHsKKyAgICAgIFBsYXllckluZm86IFtddHlwZXMuUGxheWVySW5mb3t9LAogICAgfSwK",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/genesis_test.go#L25-L27"}}),e._v(" "),c("p",[e._v("Next, in "),c("code",[e._v("x/leaderboard/types/genesis.go")]),e._v(", look for:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgIEJvYXJkOiAgICAgICAgICBuaWwsCisgICBCb2FyZDogQm9hcmR7CisgICAgICAgUGxheWVySW5mbzogW11QbGF5ZXJJbmZve30sCisgICB9LAo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/genesis.go#L16-L18"}}),e._v(" "),c("p",[e._v("Now, in its associated test:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgIEJvYXJkOiAmYW1wO3R5cGVzLkJvYXJkewotICAgICAgIFBsYXllckluZm86IG5ldyh0eXBlcy5QbGF5ZXJJbmZvKSwKLSAgIH0sCisgICBCb2FyZDogdHlwZXMuQm9hcmR7CisgICAgICAgUGxheWVySW5mbzogW110eXBlcy5QbGF5ZXJJbmZve30sCisgICB9LAo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/genesis_test.go#L33-L35"}}),e._v(" "),c("p",[e._v("Lastly in:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgIGJvYXJkIDo9ICZhbXA7dHlwZXMuQm9hcmR7fQorICAgYm9hcmQgOj0gdHlwZXMuQm9hcmR7fQogICAgLi4uCi0gICByZXR1cm4gbmV0d29yay5OZXcodCwgY2ZnKSwgKnN0YXRlLkJvYXJkCisgICByZXR1cm4gbmV0d29yay5OZXcodCwgY2ZnKSwgc3RhdGUuQm9hcmQK",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/client/cli/query_board_test.go#L24-L30"}})],1),e._v(" "),c("p",[e._v("Continue preparing your new leaderboard module.")]),e._v(" "),c("p",[e._v("The checkers module is the authority when it comes to who won and who lost; the leaderboard module is the authority when it comes to how to tally scores and rank players. Therefore, the leaderboard module will only expose to the checkers module functions to inform on wins and losses, like "),c("code",[e._v("MustAddWonGameResultToPlayer(...)")]),e._v(".")]),e._v(" "),c("p",[e._v("To achieve this, first you need to write those functions. Create a "),c("code",[e._v("x/leaderboard/keeper/player_info_handler.go")]),e._v(" file with the following code:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCiAgICAmcXVvdDtnaXRodWIuY29tL2I5bGFiL2NoZWNrZXJzL3gvbGVhZGVyYm9hcmQvdHlwZXMmcXVvdDsKICAgIHNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CikKCmZ1bmMgbXVzdEFkZERlbHRhR2FtZVJlc3VsdFRvUGxheWVyKAogICAgayAqS2VlcGVyLAogICAgY3R4IHNkay5Db250ZXh0LAogICAgcGxheWVyIHNkay5BY2NBZGRyZXNzLAogICAgd29uRGVsdGEgdWludDY0LAogICAgbG9zdERlbHRhIHVpbnQ2NCwKICAgIGZvcmZlaXRlZERlbHRhIHVpbnQ2NCwKKSAocGxheWVySW5mbyB0eXBlcy5QbGF5ZXJJbmZvKSB7CiAgICBwbGF5ZXJJbmZvLCBmb3VuZCA6PSBrLkdldFBsYXllckluZm8oY3R4LCBwbGF5ZXIuU3RyaW5nKCkpCiAgICBpZiAhZm91bmQgewogICAgICAgIHBsYXllckluZm8gPSB0eXBlcy5QbGF5ZXJJbmZvewogICAgICAgICAgICBJbmRleDogICAgICAgICAgcGxheWVyLlN0cmluZygpLAogICAgICAgICAgICBXb25Db3VudDogICAgICAgMCwKICAgICAgICAgICAgTG9zdENvdW50OiAgICAgIDAsCiAgICAgICAgICAgIEZvcmZlaXRlZENvdW50OiAwLAogICAgICAgICAgICBEYXRlVXBkYXRlZDogICAgY3R4LkJsb2NrVGltZSgpLlVUQygpLkZvcm1hdCh0eXBlcy5UaW1lTGF5b3V0KSwKICAgICAgICB9CiAgICB9CiAgICBwbGF5ZXJJbmZvLldvbkNvdW50ICs9IHdvbkRlbHRhCiAgICBwbGF5ZXJJbmZvLkxvc3RDb3VudCArPSBsb3N0RGVsdGEKICAgIHBsYXllckluZm8uRm9yZmVpdGVkQ291bnQgKz0gZm9yZmVpdGVkRGVsdGEKICAgIGsuU2V0UGxheWVySW5mbyhjdHgsIHBsYXllckluZm8pCiAgICByZXR1cm4gcGxheWVySW5mbwp9CgpmdW5jIChrIEtlZXBlcikgTXVzdEFkZFdvbkdhbWVSZXN1bHRUb1BsYXllcihjdHggc2RrLkNvbnRleHQsIHBsYXllciBzZGsuQWNjQWRkcmVzcykgdHlwZXMuUGxheWVySW5mbyB7CiAgICByZXR1cm4gbXVzdEFkZERlbHRhR2FtZVJlc3VsdFRvUGxheWVyKCZhbXA7aywgY3R4LCBwbGF5ZXIsIDEsIDAsIDApCn0KCmZ1bmMgKGsgS2VlcGVyKSBNdXN0QWRkTG9zdEdhbWVSZXN1bHRUb1BsYXllcihjdHggc2RrLkNvbnRleHQsIHBsYXllciBzZGsuQWNjQWRkcmVzcykgdHlwZXMuUGxheWVySW5mbyB7CiAgICByZXR1cm4gbXVzdEFkZERlbHRhR2FtZVJlc3VsdFRvUGxheWVyKCZhbXA7aywgY3R4LCBwbGF5ZXIsIDAsIDEsIDApCn0KCmZ1bmMgKGsgS2VlcGVyKSBNdXN0QWRkRm9yZmVpdGVkR2FtZVJlc3VsdFRvUGxheWVyKGN0eCBzZGsuQ29udGV4dCwgcGxheWVyIHNkay5BY2NBZGRyZXNzKSB0eXBlcy5QbGF5ZXJJbmZvIHsKICAgIHJldHVybiBtdXN0QWRkRGVsdGFHYW1lUmVzdWx0VG9QbGF5ZXIoJmFtcDtrLCBjdHgsIHBsYXllciwgMCwgMCwgMSkKfQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/keeper/player_info_handler.go"}}),e._v(" "),c("p",[e._v("For the code above to function, you need to define "),c("code",[e._v("TimeLayout")]),e._v(" in "),c("code",[e._v("x/leaderboard/types/keys.go")]),e._v(". Add the following piece of code at the end of the file:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Y29uc3QgKAogICAgVGltZUxheW91dCAgICAgICAgICAgICAgPSAmcXVvdDsyMDA2LTAxLTAyIDE1OjA0OjA1Ljk5OTk5OTk5OSArMDAwMCBVVEMmcXVvdDsKICAgIExlYWRlcmJvYXJkV2lubmVyTGVuZ3RoID0gdWludDY0KDEwMCkKKQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/keys.go#L39-L42"}}),e._v(" "),c("p",[e._v("Now it is time to allow the checkers module access to the leaderboard module. This is very similar to what you did when giving access to the bank keeper when handling wager tokens.")]),e._v(" "),c("p",[e._v("Declare the leaderboard functions that the checkers needs:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aW1wb3J0ICgKICAgIGxlYWRlcmJvYXJkVHlwZXMgJnF1b3Q7Z2l0aHViLmNvbS9iOWxhYi9jaGVja2Vycy94L2xlYWRlcmJvYXJkL3R5cGVzJnF1b3Q7CikKCnR5cGUgQ2hlY2tlcnNMZWFkZXJib2FyZEtlZXBlciBpbnRlcmZhY2UgewogICAgTXVzdEFkZFdvbkdhbWVSZXN1bHRUb1BsYXllcihjdHggc2RrLkNvbnRleHQsIHBsYXllciBzZGsuQWNjQWRkcmVzcykgbGVhZGVyYm9hcmRUeXBlcy5QbGF5ZXJJbmZvCiAgICBNdXN0QWRkTG9zdEdhbWVSZXN1bHRUb1BsYXllcihjdHggc2RrLkNvbnRleHQsIHBsYXllciBzZGsuQWNjQWRkcmVzcykgbGVhZGVyYm9hcmRUeXBlcy5QbGF5ZXJJbmZvCiAgICBNdXN0QWRkRm9yZmVpdGVkR2FtZVJlc3VsdFRvUGxheWVyKGN0eCBzZGsuQ29udGV4dCwgcGxheWVyIHNkay5BY2NBZGRyZXNzKSBsZWFkZXJib2FyZFR5cGVzLlBsYXllckluZm8KfQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/types/expected_keepers.go#L26-L30"}}),e._v(" "),c("p",[e._v("Add this keeper interface to checkers, modify "),c("code",[e._v("x/checkers/keeper/keeper.go")]),e._v(", and include the leaderboard keeper:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgdHlwZSAoCiAgICAgICBLZWVwZXIgc3RydWN0IHsKICAgICAgICAgICBiYW5rICAgICAgIHR5cGVzLkJhbmtFc2Nyb3dLZWVwZXIKKyAgICAgICAgIGJvYXJkICAgICAgdHlwZXMuQ2hlY2tlcnNMZWFkZXJib2FyZEtlZXBlcgogICAgICAgICAgIGNkYyAgICAgICAgY29kZWMuQmluYXJ5Q29kZWMKICAgICAgICAgICBzdG9yZUtleSAgIHNkay5TdG9yZUtleQogICAgICAgICAgIG1lbUtleSAgICAgc2RrLlN0b3JlS2V5CiAgICAgICAgICAgcGFyYW1zdG9yZSBwYXJhbXR5cGVzLlN1YnNwYWNlCiAgICAgICB9CiAgICkKCiAgIC4uLgoKICAgZnVuYyBOZXdLZWVwZXIoCiAgICAgICBiYW5rIHR5cGVzLkJhbmtFc2Nyb3dLZWVwZXIsCisgICAgIGJvYXJkIHR5cGVzLkNoZWNrZXJzTGVhZGVyYm9hcmRLZWVwZXIsCiAgICAgICBjZGMgY29kZWMuQmluYXJ5Q29kZWMsCiAgICAgICBzdG9yZUtleSwKICAgICAgIG1lbUtleSBzZGsuU3RvcmVLZXksCiAgICAgICBwcyBwYXJhbXR5cGVzLlN1YnNwYWNlLAoKICAgKSAqS2VlcGVyIHsKICAgICAgIC8vIHNldCBLZXlUYWJsZSBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBzZXQKICAgICAgIGlmICFwcy5IYXNLZXlUYWJsZSgpIHsKICAgICAgICAgICBwcyA9IHBzLldpdGhLZXlUYWJsZSh0eXBlcy5QYXJhbUtleVRhYmxlKCkpCiAgICAgICB9CgogICAgICAgcmV0dXJuICZhbXA7S2VlcGVyewogICAgICAgICAgIGJhbms6ICAgICAgIGJhbmssCisgICAgICAgICBib2FyZDogICAgICBib2FyZCwKICAgICAgICAgICBjZGM6ICAgICAgICBjZGMsCiAgICAgICAgICAgc3RvcmVLZXk6ICAgc3RvcmVLZXksCiAgICAgICAgICAgbWVtS2V5OiAgICAgbWVtS2V5LAogICAgICAgICAgIHBhcmFtc3RvcmU6IHBzLAogICAgICAgfQogICB9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/keeper.go#L19"}}),e._v(" "),c("p",[e._v("Make sure the app builds it correctly. Look for "),c("code",[e._v("app.CheckersKeeper")]),e._v(" in "),c("code",[e._v("app/app.go")]),e._v(" and modify it to include "),c("code",[e._v("app.LeaderboardKeeper")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgYXBwLkNoZWNrZXJzS2VlcGVyID0gKmNoZWNrZXJzbW9kdWxla2VlcGVyLk5ld0tlZXBlcigKICAgICAgIGFwcC5CYW5rS2VlcGVyLAorICAgICBhcHAuTGVhZGVyYm9hcmRLZWVwZXIsCiAgICAgICBhcHBDb2RlYywKICAgICAgIC4uLgogICApCg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/app/app.go#L440"}}),e._v(" "),c("p",[e._v("You want to store a "),c("em",[e._v("win")]),e._v(" plus either a "),c("em",[e._v("loss")]),e._v(" or a "),c("em",[e._v("forfeit")]),e._v(" when a game ends. Therefore, you should create some helper functions in checkers that call the leaderboard module. Create a "),c("code",[e._v("x/checkers/keeper/player_info_handler.go")]),e._v(" file with the following code:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCiAgICAmcXVvdDtmbXQmcXVvdDsKCiAgICBydWxlcyAmcXVvdDtnaXRodWIuY29tL2I5bGFiL2NoZWNrZXJzL3gvY2hlY2tlcnMvcnVsZXMmcXVvdDsKICAgICZxdW90O2dpdGh1Yi5jb20vYjlsYWIvY2hlY2tlcnMveC9jaGVja2Vycy90eXBlcyZxdW90OwoKICAgIHNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CikKCmZ1bmMgZ2V0V2lubmVyQW5kTG9zZXJBZGRyZXNzZXMoc3RvcmVkR2FtZSAqdHlwZXMuU3RvcmVkR2FtZSkgKHdpbm5lckFkZHJlc3Mgc2RrLkFjY0FkZHJlc3MsIGxvc2VyQWRkcmVzcyBzZGsuQWNjQWRkcmVzcykgewogICAgaWYgc3RvcmVkR2FtZS5XaW5uZXIgPT0gcnVsZXMuUGllY2VTdHJpbmdzW3J1bGVzLk5PX1BMQVlFUl0gewogICAgICAgIHBhbmljKHR5cGVzLkVyclRoZXJlSXNOb1dpbm5lci5FcnJvcigpKQogICAgfQogICAgcmVkQWRkcmVzcywgZXJyIDo9IHN0b3JlZEdhbWUuR2V0UmVkQWRkcmVzcygpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICBwYW5pYyhlcnIuRXJyb3IoKSkKICAgIH0KICAgIGJsYWNrQWRkcmVzcywgZXJyIDo9IHN0b3JlZEdhbWUuR2V0QmxhY2tBZGRyZXNzKCkKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHBhbmljKGVyci5FcnJvcigpKQogICAgfQogICAgaWYgc3RvcmVkR2FtZS5XaW5uZXIgPT0gcnVsZXMuUGllY2VTdHJpbmdzW3J1bGVzLlJFRF9QTEFZRVJdIHsKICAgICAgICB3aW5uZXJBZGRyZXNzID0gcmVkQWRkcmVzcwogICAgICAgIGxvc2VyQWRkcmVzcyA9IGJsYWNrQWRkcmVzcwogICAgfSBlbHNlIGlmIHN0b3JlZEdhbWUuV2lubmVyID09IHJ1bGVzLlBpZWNlU3RyaW5nc1tydWxlcy5CTEFDS19QTEFZRVJdIHsKICAgICAgICB3aW5uZXJBZGRyZXNzID0gYmxhY2tBZGRyZXNzCiAgICAgICAgbG9zZXJBZGRyZXNzID0gcmVkQWRkcmVzcwogICAgfSBlbHNlIHsKICAgICAgICBwYW5pYyhmbXQuU3ByaW50Zih0eXBlcy5FcnJXaW5uZXJOb3RQYXJzZWFibGUuRXJyb3IoKSwgc3RvcmVkR2FtZS5XaW5uZXIpKQogICAgfQogICAgcmV0dXJuIHdpbm5lckFkZHJlc3MsIGxvc2VyQWRkcmVzcwp9CgpmdW5jIChrICpLZWVwZXIpIE11c3RSZWdpc3RlclBsYXllcldpbihjdHggc2RrLkNvbnRleHQsIHN0b3JlZEdhbWUgKnR5cGVzLlN0b3JlZEdhbWUpIHsKICAgIHdpbm5lckFkZHJlc3MsIGxvc2VyQWRkcmVzcyA6PSBnZXRXaW5uZXJBbmRMb3NlckFkZHJlc3NlcyhzdG9yZWRHYW1lKQogICAgay5ib2FyZC5NdXN0QWRkV29uR2FtZVJlc3VsdFRvUGxheWVyKGN0eCwgd2lubmVyQWRkcmVzcykKICAgIGsuYm9hcmQuTXVzdEFkZExvc3RHYW1lUmVzdWx0VG9QbGF5ZXIoY3R4LCBsb3NlckFkZHJlc3MpCn0KCmZ1bmMgKGsgKktlZXBlcikgTXVzdFJlZ2lzdGVyUGxheWVyRm9yZmVpdChjdHggc2RrLkNvbnRleHQsIHN0b3JlZEdhbWUgKnR5cGVzLlN0b3JlZEdhbWUpIHsKICAgIHdpbm5lckFkZHJlc3MsIGxvc2VyQWRkcmVzcyA6PSBnZXRXaW5uZXJBbmRMb3NlckFkZHJlc3NlcyhzdG9yZWRHYW1lKQogICAgay5ib2FyZC5NdXN0QWRkV29uR2FtZVJlc3VsdFRvUGxheWVyKGN0eCwgd2lubmVyQWRkcmVzcykKICAgIGsuYm9hcmQuTXVzdEFkZEZvcmZlaXRlZEdhbWVSZXN1bHRUb1BsYXllcihjdHgsIGxvc2VyQWRkcmVzcykKfQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/player_info_handler.go"}}),e._v(" "),c("p",[e._v("Do not forget to add the new errors in "),c("code",[e._v("x/checkers/types/errors.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"RXJyV2lubmVyTm90UGFyc2VhYmxlICAgICAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTExOCwgJnF1b3Q7d2lubmVyIGlzIG5vdCBwYXJzZWFibGU6ICVzJnF1b3Q7KQpFcnJUaGVyZUlzTm9XaW5uZXIgICAgICAgICA9IHNka2Vycm9ycy5SZWdpc3RlcihNb2R1bGVOYW1lLCAxMTE5LCAmcXVvdDt0aGVyZSBpcyBubyB3aW5uZXImcXVvdDspCkVyckludmFsaWREYXRlQWRkZWQgICAgICAgID0gc2RrZXJyb3JzLlJlZ2lzdGVyKE1vZHVsZU5hbWUsIDExMjAsICZxdW90O2RhdGVBZGRlZCBjYW5ub3QgYmUgcGFyc2VkOiAlcyZxdW90OykKRXJyQ2Fubm90QWRkVG9MZWFkZXJib2FyZCAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTEyMSwgJnF1b3Q7Y2Fubm90IGFkZCB0byBsZWFkZXJib2FyZDogJXMmcXVvdDspCg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/types/errors.go#L29-L32"}}),e._v(" "),c("p",[e._v("With the helper functions ready, you can call them where needed. Add the call for a "),c("em",[e._v("win")]),e._v(" in "),c("code",[e._v("x/checkers/keeper/msg_server_play_move.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgZnVuYyAoayBtc2dTZXJ2ZXIpIFBsYXlNb3ZlKGdvQ3R4IGNvbnRleHQuQ29udGV4dCwgbXNnICp0eXBlcy5Nc2dQbGF5TW92ZSkgKCp0eXBlcy5Nc2dQbGF5TW92ZVJlc3BvbnNlLCBlcnJvcikgewogICAgICAgLi4uCiAgICAgICBsYXN0Qm9hcmQgOj0gZ2FtZS5TdHJpbmcoKQogICAgICAgaWYgc3RvcmVkR2FtZS5XaW5uZXIgPT0gcnVsZXMuUGllY2VTdHJpbmdzW3J1bGVzLk5PX1BMQVlFUl0gewogICAgICAgICAgIGsuS2VlcGVyLlNlbmRUb0ZpZm9UYWlsKGN0eCwgJmFtcDtzdG9yZWRHYW1lLCAmYW1wO3N5c3RlbUluZm8pCiAgICAgICAgICAgc3RvcmVkR2FtZS5Cb2FyZCA9IGxhc3RCb2FyZAogICAgICAgfSBlbHNlIHsKICAgICAgICAgICBrLktlZXBlci5SZW1vdmVGcm9tRmlmbyhjdHgsICZhbXA7c3RvcmVkR2FtZSwgJmFtcDtzeXN0ZW1JbmZvKQogICAgICAgICAgIHN0b3JlZEdhbWUuQm9hcmQgPSAmcXVvdDsmcXVvdDsKICAgICAgICAgICBrLktlZXBlci5NdXN0UGF5V2lubmluZ3MoY3R4LCAmYW1wO3N0b3JlZEdhbWUpCgorICAgICAgICAgLy8gSGVyZSB5b3UgY2FuIHJlZ2lzdGVyIGEgd2luCisgICAgICAgICBrLktlZXBlci5NdXN0UmVnaXN0ZXJQbGF5ZXJXaW4oY3R4LCAmYW1wO3N0b3JlZEdhbWUpCiAgICAgICB9CiAgICAgICAuLi4K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/msg_server_play_move.go#LL80"}}),e._v(" "),c("p",[e._v("Add the call for a "),c("em",[e._v("forfeit")]),e._v(" in "),c("code",[e._v("x/checkers/keeper/end_block_server_game.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgZnVuYyAoayBLZWVwZXIpIEZvcmZlaXRFeHBpcmVkR2FtZXMoZ29DdHggY29udGV4dC5Db250ZXh0KSB7CiAgICAgICAuLi4KICAgICAgIGlmIGRlYWRsaW5lLkJlZm9yZShjdHguQmxvY2tUaW1lKCkpIHsKICAgICAgIC8vIEdhbWUgaXMgcGFzdCBkZWFkbGluZQogICAgICAgay5SZW1vdmVGcm9tRmlmbyhjdHgsICZhbXA7c3RvcmVkR2FtZSwgJmFtcDtzeXN0ZW1JbmZvKQogICAgICAgbGFzdEJvYXJkIDo9IHN0b3JlZEdhbWUuQm9hcmQKICAgICAgIGlmIHN0b3JlZEdhbWUuTW92ZUNvdW50ICZsdDs9IDEgewogICAgICAgICAgIC8vIE5vIHBvaW50IGluIGtlZXBpbmcgYSBnYW1lIHRoYXQgd2FzIG5ldmVyIHJlYWxseSBwbGF5ZWQKICAgICAgICAgICBrLlJlbW92ZVN0b3JlZEdhbWUoY3R4LCBnYW1lSW5kZXgpCiAgICAgICAgICAgaWYgc3RvcmVkR2FtZS5Nb3ZlQ291bnQgPT0gMSB7CiAgICAgICAgICAgICAgIGsuTXVzdFJlZnVuZFdhZ2VyKGN0eCwgJmFtcDtzdG9yZWRHYW1lKQogICAgICAgICAgIH0KICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgc3RvcmVkR2FtZS5XaW5uZXIsIGZvdW5kID0gb3Bwb25lbnRzW3N0b3JlZEdhbWUuVHVybl0KICAgICAgICAgICBpZiAhZm91bmQgewogICAgICAgICAgICAgICBwYW5pYyhmbXQuU3ByaW50Zih0eXBlcy5FcnJDYW5ub3RGaW5kV2lubmVyQnlDb2xvci5FcnJvcigpLCBzdG9yZWRHYW1lLlR1cm4pKQogICAgICAgICAgIH0KICAgICAgICAgICBrLk11c3RQYXlXaW5uaW5ncyhjdHgsICZhbXA7c3RvcmVkR2FtZSkKCisgICAgICAgICAvLyBIZXJlIHlvdSBjYW4gcmVnaXN0ZXIgYSBmb3JmZWl0CisgICAgICAgICBrLk11c3RSZWdpc3RlclBsYXllckZvcmZlaXQoY3R4LCAmYW1wO3N0b3JlZEdhbWUpCgogICAgICAgICAgIHN0b3JlZEdhbWUuQm9hcmQgPSAmcXVvdDsmcXVvdDsKICAgICAgICAgICBrLlNldFN0b3JlZEdhbWUoY3R4LCBzdG9yZWRHYW1lKQogICAgICAgfQogICAgICAgLi4uCg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/end_block_server_game.go#L57"}}),e._v(" "),c("p",[e._v("That will get the job done, and add the player's "),c("em",[e._v("win")]),e._v(", "),c("em",[e._v("loss")]),e._v(", or "),c("em",[e._v("forfeit")]),e._v(" counts to the store.")]),e._v(" "),c("p",[e._v("If you did the "),c("RouterLink",{attrs:{to:"/hands-on-exercise/4-run-in-prod/2-migration-info.html"}},[e._v("migration part")]),e._v(" of this hands-on exercise, you may notice that, here, although the player info is updated, the leaderboard is not. This is deliberate in order to show a different workflow.")],1),e._v(" "),c("p",[e._v("Here, the leaderboard is updated on-demand by adding the signers of a message as candidates to the leaderboard. Scaffold a new message:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgbWVzc2FnZSB1cGRhdGVCb2FyZCAtLW1vZHVsZSBsZWFkZXJib2FyZAo="}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovbGVhZGVyYm9hcmQgXAogICAgLXcgL2xlYWRlcmJvYXJkIFwKICAgIGlnbml0ZWhxL2NsaTowLjIyLjEgXAogICAgc2NhZmZvbGQgbWVzc2FnZSB1cGRhdGVCb2FyZCAtLW1vZHVsZSBsZWFkZXJib2FyZAo="}})],1)],1),e._v(" "),c("p",[e._v("Again, you can first create some helper functions in "),c("code",[e._v("x/leaderboard/types/board.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBQYXJzZURhdGVBZGRlZEFzVGltZShkYXRlQWRkZWQgc3RyaW5nKSAoZGF0ZUFkZGVkUGFyc2VkIHRpbWUuVGltZSwgZXJyIGVycm9yKSB7CiAgICBkYXRlQWRkZWRQYXJzZWQsIGVyckRhdGVBZGRlZCA6PSB0aW1lLlBhcnNlKHR5cGVzLlRpbWVMYXlvdXQsIGRhdGVBZGRlZCkKICAgIHJldHVybiBkYXRlQWRkZWRQYXJzZWQsIHNka2Vycm9ycy5XcmFwZihlcnJEYXRlQWRkZWQsIHR5cGVzLkVyckludmFsaWREYXRlQWRkZWQuRXJyb3IoKSwgZGF0ZUFkZGVkKQp9CgpmdW5jIFNvcnRQbGF5ZXJJbmZvKHBsYXllckluZm9MaXN0IFtddHlwZXMuUGxheWVySW5mbykgewogICAgc29ydC5TbGljZVN0YWJsZShwbGF5ZXJJbmZvTGlzdFs6XSwgZnVuYyhpLCBqIGludCkgYm9vbCB7CiAgICAgICAgaWYgcGxheWVySW5mb0xpc3RbaV0uV29uQ291bnQgJmd0OyBwbGF5ZXJJbmZvTGlzdFtqXS5Xb25Db3VudCB7CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICAgIGlmIHBsYXllckluZm9MaXN0W2ldLldvbkNvdW50ICZsdDsgcGxheWVySW5mb0xpc3Rbal0uV29uQ291bnQgewogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgICAgZmlyc3RQbGF5ZXJUaW1lLCBfIDo9IFBhcnNlRGF0ZUFkZGVkQXNUaW1lKHBsYXllckluZm9MaXN0W2ldLkRhdGVVcGRhdGVkKQogICAgICAgIHNlY29uZFBsYXllclRpbWUsXyA6PSBQYXJzZURhdGVBZGRlZEFzVGltZShwbGF5ZXJJbmZvTGlzdFtqXS5EYXRlVXBkYXRlZCkKCiAgICAgICAgcmV0dXJuIGZpcnN0UGxheWVyVGltZS5BZnRlcihzZWNvbmRQbGF5ZXJUaW1lKQogICAgfSkKfQoKZnVuYyBVcGRhdGVQbGF5ZXJJbmZvTGlzdCh3aW5uZXJzIFtdUGxheWVySW5mbywgY2FuZGlkYXRlcyBbXVBsYXllckluZm8pICh1cGRhdGVkIFtdUGxheWVySW5mbykgewogICAgZm91bmQgOj0gZmFsc2UKICAgIGZvciBfLCBjYW5kaWRhdGUgOj0gcmFuZ2UgY2FuZGlkYXRlcyB7CiAgICAgICAgZm9yIHdpbm5lckluZGV4LCB3aW5uZXIgOj0gcmFuZ2Ugd2lubmVycyB7CiAgICAgICAgICAgIGlmIHdpbm5lci5JbmRleCA9PSBjYW5kaWRhdGUuSW5kZXggewogICAgICAgICAgICAgICAgd2lubmVyc1t3aW5uZXJJbmRleF0gPSBjYW5kaWRhdGUKICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAhZm91bmQgewogICAgICAgICAgICB1cGRhdGVkID0gYXBwZW5kKHdpbm5lcnMsIGNhbmRpZGF0ZSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1cGRhdGVkID0gd2lubmVycwogICAgICAgIH0KICAgIH0KICAgIFNvcnRQbGF5ZXJJbmZvKHVwZGF0ZWQpCiAgICBpZiBMZWFkZXJib2FyZFdpbm5lckxlbmd0aCAmbHQ7IHVpbnQ2NChsZW4odXBkYXRlZCkpIHsKICAgICAgICB1cGRhdGVkID0gdXBkYXRlZFs6TGVhZGVyYm9hcmRXaW5uZXJMZW5ndGhdCiAgICB9CiAgICByZXR1cm4gdXBkYXRlZAp9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/board.go#L40-L70"}}),e._v(" "),c("p",[e._v("The function that sorts players is rather inefficient, as it parses dates a lot. To optimize this part, you would have to introduce a new type with the date already parsed. See the "),c("RouterLink",{attrs:{to:"/hands-on-exercise/4-run-in-prod/2-migration-info.html"}},[e._v("migration section")]),e._v(" for an example.")],1),e._v(" "),c("p",[e._v("If it cannot parse the date information, it will return an error that you need to declare in "),c("code",[e._v("x/leaderboard/types/errors.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"RXJySW52YWxpZERhdGVBZGRlZCAgICAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTEyMCwgJnF1b3Q7ZGF0ZUFkZGVkIGNhbm5vdCBiZSBwYXJzZWQ6ICVzJnF1b3Q7KQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/errors.go#L14"}}),e._v(" "),c("p",[e._v("Now you need to call what you created in "),c("code",[e._v("x/leaderboard/keeper/msg_server_update_board.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgcGFja2FnZSBrZWVwZXIKCiAgIGltcG9ydCAoCiAgICAgICAmcXVvdDtjb250ZXh0JnF1b3Q7CgogICAgICAgJnF1b3Q7Z2l0aHViLmNvbS9iOWxhYi9jaGVja2Vycy94L2xlYWRlcmJvYXJkL3R5cGVzJnF1b3Q7CiAgICAgICBzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwogICApCgogICBmdW5jIChrIG1zZ1NlcnZlcikgVXBkYXRlQm9hcmQoZ29DdHggY29udGV4dC5Db250ZXh0LCBtc2cgKnR5cGVzLk1zZ1VwZGF0ZUJvYXJkKSAoKnR5cGVzLk1zZ1VwZGF0ZUJvYXJkUmVzcG9uc2UsIGVycm9yKSB7CiAgICAgICBjdHggOj0gc2RrLlVud3JhcFNES0NvbnRleHQoZ29DdHgpCgotICAvLyBUT0RPOiBIYW5kbGluZyB0aGUgbWVzc2FnZQotICBfID0gY3R4CisgIGJvYXJkLCBmb3VuZCA6PSBrLkdldEJvYXJkKGN0eCkKKyAgaWYgIWZvdW5kIHsKKyAgICAgIHBhbmljKHR5cGVzLkVyckJvYXJkTm90Rm91bmQpCisgIH0KKyAgcGxheWVySW5mb0xpc3QgOj0gYm9hcmQuUGxheWVySW5mbworICBjYW5kaWRhdGVzIDo9IG1ha2UoW110eXBlcy5QbGF5ZXJJbmZvLCAwLCBsZW4obXNnLkdldFNpZ25lcnMoKSkpCisgIGZvciBfLCBzaWduZXIgOj0gcmFuZ2UgbXNnLkdldFNpZ25lcnMoKSB7CisgICAgICBjYW5kaWRhdGUsIGZvdW5kIDo9IGsuR2V0UGxheWVySW5mbyhjdHgsIHNpZ25lci5TdHJpbmcoKSkKKyAgICAgIGlmIGZvdW5kIHsKKyAgICAgICAgICBjYW5kaWRhdGVzID0gYXBwZW5kKGNhbmRpZGF0ZXMsIGNhbmRpZGF0ZSkKKyAgICAgIH0KKyAgfQorICBpZiBsZW4oY2FuZGlkYXRlcykgPT0gMCB7CisgICAgICByZXR1cm4gbmlsLCB0eXBlcy5FcnJDYW5kaWRhdGVOb3RGb3VuZAorICB9CisgIHVwZGF0ZWQgOj0gdHlwZXMuVXBkYXRlUGxheWVySW5mb0xpc3QocGxheWVySW5mb0xpc3QsIGNhbmRpZGF0ZXMpCisgIGJvYXJkLlBsYXllckluZm8gPSB1cGRhdGVkCisgIGsuU2V0Qm9hcmQoY3R4LCBib2FyZCkKCiAgICAgICByZXR1cm4gJmFtcDt0eXBlcy5Nc2dVcGRhdGVCb2FyZFJlc3BvbnNle30sIG5pbAogICB9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/keeper/msg_server_update_board.go#L13-L14"}}),e._v(" "),c("p",[e._v("Also call the two new errors:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"RXJyQm9hcmROb3RGb3VuZCAgICAgICAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTUwMiwgJnF1b3Q7Ym9hcmQgbm90IGZvdW5kJnF1b3Q7KQpFcnJDYW5kaWRhdGVOb3RGb3VuZCAgICA9IHNka2Vycm9ycy5SZWdpc3RlcihNb2R1bGVOYW1lLCAxNTAzLCAmcXVvdDtjYW5kaWRhdGUgbm90IGZvdW5kJnF1b3Q7KQo=",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/errors.go#L15-L16"}}),e._v(" "),c("p",[e._v("That is it! Now the checkers blockchain can keep track of player information, and create or update the leaderboard based on player input.")]),e._v(" "),c("h3",{attrs:{id:"unit-tests"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#unit-tests"}},[e._v("#")]),e._v(" Unit tests")]),e._v(" "),c("p",[e._v("You have created a new expected keeper. Have Mockgen create its mocks by reusing the "),c("code",[e._v("make")]),e._v(" command prepared earlier:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local",active:""}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBtYWtlIG1vY2stZXhwZWN0ZWQta2VlcGVycwo="}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgbWFrZSBtb2NrLWV4cGVjdGVkLWtlZXBlcnMK"}})],1)],1),e._v(" "),c("p",[e._v("Update the checkers keeper factory for tests:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgQ2hlY2tlcnNLZWVwZXIodCB0ZXN0aW5nLlRCKSAoKmtlZXBlci5LZWVwZXIsIHNkay5Db250ZXh0KSB7Ci0gICAgICByZXR1cm4gQ2hlY2tlcnNLZWVwZXJXaXRoTW9ja3ModCwgbmlsKQorICAgICAgcmV0dXJuIENoZWNrZXJzS2VlcGVyV2l0aE1vY2tzKHQsIG5pbCwgbmlsKQogICAgfQoKLSAgZnVuYyBDaGVja2Vyc0tlZXBlcldpdGhNb2Nrcyh0IHRlc3RpbmcuVEIsIGJhbmsgKm1vY2tfdHlwZXMuTW9ja0JhbmtFc2Nyb3dLZWVwZXIpICgqa2VlcGVyLktlZXBlciwgc2RrLkNvbnRleHQpIHsKKyAgZnVuYyBDaGVja2Vyc0tlZXBlcldpdGhNb2Nrcyh0IHRlc3RpbmcuVEIsIGJhbmsgKm1vY2tfdHlwZXMuTW9ja0JhbmtFc2Nyb3dLZWVwZXIsIGxlYWRlcmJvYXJkICptb2NrX3R5cGVzLk1vY2tDaGVja2Vyc0xlYWRlcmJvYXJkS2VlcGVyKSAoKmtlZXBlci5LZWVwZXIsIHNkay5Db250ZXh0KSB7CiAgICAgICAgLi4uCgogICAgICAgIGsgOj0ga2VlcGVyLk5ld0tlZXBlcigKICAgICAgICAgICAgYmFuaywKKyAgICAgICAgICBsZWFkZXJib2FyZCwKICAgICAgICAgICAgY2RjLAogICAgICAgICAgICBzdG9yZUtleSwKICAgICAgICAgICAgbWVtU3RvcmVLZXksCiAgICAgICAgICAgIHBhcmFtc1N1YnNwYWNlLAogICAgICAgICkKCiAgICAgICAgLi4uCgogICAgICAgIHJldHVybiBrLCBjdHgKICAgIH0K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/testutil/keeper/checkers.go#L21-L60"}}),e._v(" "),c("p",[e._v("Because of the change of signature of this function, you need to adjust wherever it is called, like so:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgc2V0dXBNc2dTZXJ2ZXJXaXRoT25lR2FtZUZvclBsYXlNb3ZlKHQgdGVzdGluZy5UQikgKHR5cGVzLk1zZ1NlcnZlciwga2VlcGVyLktlZXBlciwgY29udGV4dC5Db250ZXh0LAotICAgICAgKmdvbW9jay5Db250cm9sbGVyLCAqbW9ja190eXBlcy5Nb2NrQmFua0VzY3Jvd0tlZXBlcikgeworICAgICAgKmdvbW9jay5Db250cm9sbGVyLCAqbW9ja190eXBlcy5Nb2NrQmFua0VzY3Jvd0tlZXBlciwgKm1vY2tfdHlwZXMuTW9ja0NoZWNrZXJzTGVhZGVyYm9hcmRLZWVwZXIpIHsKICAgICAgICBjdHJsIDo9IGdvbW9jay5OZXdDb250cm9sbGVyKHQpCiAgICAgICAgYmFua01vY2sgOj0gbW9ja190eXBlcy5OZXdNb2NrQmFua0VzY3Jvd0tlZXBlcihjdHJsKQotICAgICAgaywgY3R4IDo9IGtlZXBlcnRlc3QuQ2hlY2tlcnNLZWVwZXJXaXRoTW9ja3ModCwgYmFua01vY2spCisgICAgICBsZWFkZXJib2FyZE1vY2sgOj0gbW9ja190eXBlcy5OZXdNb2NrQ2hlY2tlcnNMZWFkZXJib2FyZEtlZXBlcihjdHJsKQorICAgICAgaywgY3R4IDo9IGtlZXBlcnRlc3QuQ2hlY2tlcnNLZWVwZXJXaXRoTW9ja3ModCwgYmFua01vY2ssIGxlYWRlcmJvYXJkTW9jaykKICAgICAgICBjaGVja2Vycy5Jbml0R2VuZXNpcyhjdHgsICprLCAqdHlwZXMuRGVmYXVsdEdlbmVzaXMoKSkKICAgICAgICAuLi4KLSAgICAgIHJldHVybiBzZXJ2ZXIsICprLCBjb250ZXh0LCBjdHJsLCBiYW5rTW9jaworICAgICAgcmV0dXJuIHNlcnZlciwgKmssIGNvbnRleHQsIGN0cmwsIGJhbmtNb2NrLCBsZWFkZXJib2FyZE1vY2sKICAgIH0K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/msg_server_play_move_test.go#L17-L34"}}),e._v(" "),c("p",[e._v("You must also change where it is used. Mostly like this, when the leaderboard is not called:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgVGVzdFBsYXlNb3ZlKHQgKnRlc3RpbmcuVCkgewotICAgICAgbXNnU2VydmVyLCBfLCBjb250ZXh0LCBjdHJsLCBlc2Nyb3cgOj0gc2V0dXBNc2dTZXJ2ZXJXaXRoT25lR2FtZUZvclBsYXlNb3ZlKHQpCisgICAgICBtc2dTZXJ2ZXIsIF8sIGNvbnRleHQsIGN0cmwsIGVzY3JvdywgXyA6PSBzZXR1cE1zZ1NlcnZlcldpdGhPbmVHYW1lRm9yUGxheU1vdmUodCkKICAgICAgICBkZWZlciBjdHJsLkZpbmlzaCgpCiAgICAgICAgLi4uCiAgICB9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/msg_server_play_move_test.go#L37"}}),e._v(" "),c("p",[e._v("Like this, when the leaderboard is called but you are not looking to confirm the calls:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgVGVzdFBsYXlNb3ZlVXBUb1dpbm5lcih0ICp0ZXN0aW5nLlQpIHsKLSAgICAgIG1zZ1NlcnZlciwga2VlcGVyLCBjb250ZXh0LCBjdHJsLCBlc2Nyb3cgOj0gc2V0dXBNc2dTZXJ2ZXJXaXRoT25lR2FtZUZvclBsYXlNb3ZlKHQpCisgICAgICBtc2dTZXJ2ZXIsIGtlZXBlciwgY29udGV4dCwgY3RybCwgZXNjcm93LCBib2FyZCA6PSBzZXR1cE1zZ1NlcnZlcldpdGhPbmVHYW1lRm9yUGxheU1vdmUodCkKICAgICAgICBjdHggOj0gc2RrLlVud3JhcFNES0NvbnRleHQoY29udGV4dCkKICAgICAgICBkZWZlciBjdHJsLkZpbmlzaCgpCiAgICAgICAgZXNjcm93LkV4cGVjdEFueShjb250ZXh0KQorICAgICAgYm9hcmQuRXhwZWN0QW55KGNvbnRleHQpCiAgICAgICAgLi4uCiAgICB9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/msg_server_play_move_winner_test.go#L88-L92"}}),e._v(" "),c("p",[e._v("This introduces a new function, so (as you did for the bank keeper mock) you add the missing helpers to define expectations. For instance:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoZXNjcm93ICpNb2NrQ2hlY2tlcnNMZWFkZXJib2FyZEtlZXBlcikgRXhwZWN0QW55KGNvbnRleHQgY29udGV4dC5Db250ZXh0KSB7CiAgICBlc2Nyb3cuRVhQRUNUKCkuTXVzdEFkZFdvbkdhbWVSZXN1bHRUb1BsYXllcihzZGsuVW53cmFwU0RLQ29udGV4dChjb250ZXh0KSwgZ29tb2NrLkFueSgpKS5BbnlUaW1lcygpCiAgICBlc2Nyb3cuRVhQRUNUKCkuTXVzdEFkZExvc3RHYW1lUmVzdWx0VG9QbGF5ZXIoc2RrLlVud3JhcFNES0NvbnRleHQoY29udGV4dCksIGdvbW9jay5BbnkoKSkuQW55VGltZXMoKQogICAgZXNjcm93LkVYUEVDVCgpLk11c3RBZGRGb3JmZWl0ZWRHYW1lUmVzdWx0VG9QbGF5ZXIoc2RrLlVud3JhcFNES0NvbnRleHQoY29udGV4dCksIGdvbW9jay5BbnkoKSkuQW55VGltZXMoKQp9CgpmdW5jIChlc2Nyb3cgKk1vY2tDaGVja2Vyc0xlYWRlcmJvYXJkS2VlcGVyKSBFeHBlY3RXaW4oY29udGV4dCBjb250ZXh0LkNvbnRleHQsIHdobyBzdHJpbmcpICpnb21vY2suQ2FsbCB7CiAgICB3aG9BZGRyLCBlcnIgOj0gc2RrLkFjY0FkZHJlc3NGcm9tQmVjaDMyKHdobykKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHBhbmljKGVycikKICAgIH0KICAgIHJldHVybiBlc2Nyb3cuRVhQRUNUKCkuTXVzdEFkZFdvbkdhbWVSZXN1bHRUb1BsYXllcihzZGsuVW53cmFwU0RLQ29udGV4dChjb250ZXh0KSwgd2hvQWRkcikKfQouLi4K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/testutil/mock_types/leaderboard_helpers.go"}}),e._v(" "),c("p",[e._v("Do not forget to add tests to check that the leaderboard is called as expected:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBUZXN0UGxheU1vdmVVcFRvV2lubmVyQ2FsbGVkTGVhZGVyYm9hcmQodCAqdGVzdGluZy5UKSB7CiAgICBtc2dTZXJ2ZXIsIF8sIGNvbnRleHQsIGN0cmwsIGVzY3JvdywgYm9hcmQgOj0gc2V0dXBNc2dTZXJ2ZXJXaXRoT25lR2FtZUZvclBsYXlNb3ZlKHQpCiAgICBkZWZlciBjdHJsLkZpbmlzaCgpCiAgICBlc2Nyb3cuRXhwZWN0QW55KGNvbnRleHQpCiAgICBib2FyZC5FeHBlY3RXaW4oY29udGV4dCwgYm9iKS5UaW1lcygxKQogICAgYm9hcmQuRXhwZWN0TG9zcyhjb250ZXh0LCBjYXJvbCkuVGltZXMoMSkKCiAgICBwbGF5QWxsTW92ZXModCwgbXNnU2VydmVyLCBjb250ZXh0LCAmcXVvdDsxJnF1b3Q7LCBnYW1lMU1vdmVzKQp9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/checkers/keeper/msg_server_play_move_winner_test.go#L145-L153"}}),e._v(" "),c("p",[e._v("Do not forget to add some "),c("a",{attrs:{href:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/keeper/msg_server_update_board_test.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("unit tests"),c("OutboundLink")],1),e._v(" for your leaderboard keeper too.")]),e._v(" "),c("h3",{attrs:{id:"forwarding-player-information-via-ibc"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#forwarding-player-information-via-ibc"}},[e._v("#")]),e._v(" Forwarding player information via IBC")]),e._v(" "),c("p",[e._v("It is time to look at how you can forward the player information via IBC.")]),e._v(" "),c("HighlightBox",{attrs:{type:"remember"}},[c("p",[e._v("Remember, you created the module with the "),c("code",[e._v("--ibc")]),e._v(" flag.")])]),e._v(" "),c("p",[e._v("You can scaffold an IBC transaction with:")]),e._v(" "),c("CodeGroup",[c("CodeGroupItem",{attrs:{title:"Local"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgcGFja2V0IGNhbmRpZGF0ZSBcCiAgICBQbGF5ZXJJbmZvOlBsYXllckluZm8gXAogICAgLS1tb2R1bGUgbGVhZGVyYm9hcmQK"}})],1),e._v(" "),c("CodeGroupItem",{attrs:{title:"Docker"}},[c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovbGVhZGVyYm9hcmQgXAogICAgLXcgL2xlYWRlcmJvYXJkIFwKICAgIGlnbml0ZWhxL2NsaTowLjIyLjEgXAogICAgc2NhZmZvbGQgcGFja2V0IGNhbmRpZGF0ZSBcCiAgICBQbGF5ZXJJbmZvOlBsYXllckluZm8gXAogICAgLS1tb2R1bGUgbGVhZGVyYm9hcmQK"}})],1)],1),e._v(" "),c("p",[e._v("How the message constructor was created makes the player information a parameter. However, you do not want arbitrary player information, but instead want to fetch the creator's player information from the store. To do this, make a small adjustment to "),c("code",[e._v("x/leaderboard/client/cli/tx_candidate.go")]),e._v(". Look for the following lines and remove them:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ZnVuYyBDbWRTZW5kQ2FuZGlkYXRlKCkgKmNvYnJhLkNvbW1hbmQgewogICAgY21kIDo9ICZhbXA7Y29icmEuQ29tbWFuZHsKLSAgICAgIFVzZTogICAmcXVvdDtzZW5kLWNhbmRpZGF0ZSBbc3JjLXBvcnRdIFtzcmMtY2hhbm5lbF0gW3BsYXllci1pbmZvXSZxdW90OywKKyAgICAgIFVzZTogICAmcXVvdDtzZW5kLWNhbmRpZGF0ZSBbc3JjLXBvcnRdIFtzcmMtY2hhbm5lbF0mcXVvdDssCiAgICAgICAgU2hvcnQ6ICZxdW90O1NlbmQgYSBjYW5kaWRhdGUgb3ZlciBJQkMmcXVvdDssCi0gICAgICBBcmdzOiAgY29icmEuRXhhY3RBcmdzKDMpLAorICAgICAgQXJnczogIGNvYnJhLkV4YWN0QXJncygyKSwKICAgICAgICBSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewogICAgICAgICAgICAuLi4KLSAgICAgICAgICBhcmdQbGF5ZXJJbmZvIDo9IG5ldyh0eXBlcy5QbGF5ZXJJbmZvKQotICAgICAgICAgIGVyciA9IGpzb24uVW5tYXJzaGFsKFtdYnl0ZShhcmdzWzJdKSwgYXJnUGxheWVySW5mbykKLSAgICAgICAgICBpZiBlcnIgIT0gbmlsIHsKLSAgICAgICAgICAgICAgcmV0dXJuIGVycgotICAgICAgICAgIH0KICAgICAgICAgICAgLi4uCi0gICAgICAgICAgbXNnIDo9IHR5cGVzLk5ld01zZ1NlbmRDYW5kaWRhdGUoY3JlYXRvciwgc3JjUG9ydCwgc3JjQ2hhbm5lbCwgYXJnUGxheWVySW5mbywgdGltZW91dFRpbWVzdGFtcCkKKyAgICAgICAgICBtc2cgOj0gdHlwZXMuTmV3TXNnU2VuZENhbmRpZGF0ZShjcmVhdG9yLCBzcmNQb3J0LCBzcmNDaGFubmVsLCB0aW1lb3V0VGltZXN0YW1wKQogICAgICAgICAgICAuLi4KICAgICAgICB9LAogICAgfQogICAgLi4uCiAgICByZXR1cm4gY21kCn0K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/client/cli/tx_candidate.go#L16"}}),e._v(" "),c("p",[e._v("You will also need to remove the import of "),c("code",[e._v("encoding/json")]),e._v(" because it is not used anymore, and you should remove the parameter "),c("code",[e._v("argPlayerInfo")]),e._v(" from the "),c("code",[e._v("types.NewMsgSendCandidate(...)")]),e._v(" call, from "),c("a",{attrs:{href:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/types/messages_candidate.go#L12-L22",target:"_blank",rel:"noopener noreferrer"}},[e._v("function"),c("OutboundLink")],1),e._v(", and not least from "),c("code",[e._v("MsgSendCandidate")]),e._v(" itself:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-protobuf",base64:"ICAgIG1lc3NhZ2UgTXNnU2VuZENhbmRpZGF0ZSB7CiAgICAgIC4uLgogICAgICB1aW50NjQgdGltZW91dFRpbWVzdGFtcCA9IDQ7Ci0gICAgUGxheWVySW5mbyBwbGF5ZXJJbmZvID0gNTsKICAgIH0K",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/proto/leaderboard/tx.proto#L23-L28"}}),e._v(" "),c("p",[e._v("The last step is to implement the logic to fetch and send the player information in "),c("code",[e._v("x/leaderboard/keeper/msg_server_candidate.go")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgKGsgbXNnU2VydmVyKSBTZW5kQ2FuZGlkYXRlKGdvQ3R4IGNvbnRleHQuQ29udGV4dCwgbXNnICp0eXBlcy5Nc2dTZW5kQ2FuZGlkYXRlKSAoKnR5cGVzLk1zZ1NlbmRDYW5kaWRhdGVSZXNwb25zZSwgZXJyb3IpIHsKICAgICAgICBjdHggOj0gc2RrLlVud3JhcFNES0NvbnRleHQoZ29DdHgpCgotICAgICAgLy8gVE9ETzogbG9naWMgYmVmb3JlIHRyYW5zbWl0dGluZyB0aGUgcGFja2V0CgorICAgICAgLy8gZ2V0IHRoZSBQbGF5ZXIgZGF0YQorICAgICAgcGxheWVySW5mbywgZm91bmQgOj0gay5HZXRQbGF5ZXJJbmZvKGN0eCwgbXNnLkNyZWF0b3IpCgorICAgICAgaWYgIWZvdW5kIHsKKyAgICAgICAgICByZXR1cm4gbmlsLCB0eXBlcy5FcnJDYW5kaWRhdGVOb3RGb3VuZAorICAgICAgfQoKICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIHBhY2tldAogICAgICAgIHZhciBwYWNrZXQgdHlwZXMuQ2FuZGlkYXRlUGFja2V0RGF0YQoKLSAgICAgIHBhY2tldC5QbGF5ZXJJbmZvID0gbXNnLlBsYXllckluZm8KKyAgICAgIHBhY2tldC5QbGF5ZXJJbmZvID0gJmFtcDtwbGF5ZXJJbmZvCiAgICAgICAgLi4uCiAgICB9Cg==",url:"https://github.com/b9lab/cosmos-ibc-docker/blob/main/modular/b9-checkers-academy-draft/x/leaderboard/keeper/msg_server_candidate.go"}}),e._v(" "),c("p",[e._v("You do not handle received packets, because this module is only meant for sending player information to a separate leaderboard chain, which you will create next.")])],1)}),[],!1,null,null,null);g.default=o.exports}}]);