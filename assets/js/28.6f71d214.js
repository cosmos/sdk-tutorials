(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{529:function(e,t,a){e.exports=a.p+"assets/img/do-ubuntu-image.59b08bdf.png"},530:function(e,t,a){e.exports=a.p+"assets/img/do-droplet-size.eb59960c.png"},603:function(e,t,a){"use strict";a.r(t);var o=a(0),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"publish-your-starport-blockchain-app-on-digitalocean"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#publish-your-starport-blockchain-app-on-digitalocean"}},[e._v("#")]),e._v(" Publish Your Starport Blockchain App on DigitalOcean")]),e._v(" "),o("p",[e._v("In this tutorial, you will publish your blockchain application an Ubuntu 20.04 droplet on DigitalOcean.")]),e._v(" "),o("h2",{attrs:{id:"goals"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#goals"}},[e._v("#")]),e._v(" Goals")]),e._v(" "),o("p",[e._v("You will follow step-by-step instructions to build and run your blockchain app with these high-level steps:")]),e._v(" "),o("ul",[o("li",[e._v("Create a Cosmos SDK blockchain app with Starport")]),e._v(" "),o("li",[e._v("Create a Droplet on DigitalOcean")]),e._v(" "),o("li",[e._v("Upload your app to the Droplet")]),e._v(" "),o("li",[e._v("Run the app on the Droplet")])]),e._v(" "),o("h3",{attrs:{id:"introduction"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),o("p",[e._v("This article is written for DigitalOcean. While this information can be helpful with other cloud services, the details apply only to DigitalOcean Droplets. Because DigitalOcean Droplets are Linux-based virtual machines (VMs), the operating system steps in this tutorial apply to MacOS and Linux operating systems.")]),e._v(" "),o("p",[e._v("Steps might be significantly different for Windows operating systems.")]),e._v(" "),o("p",[e._v("For the best experience using this tutorial, we recommend using DigitalOcean.")]),e._v(" "),o("p",[o("strong",[e._v("Important")]),e._v(" Placeholder values are used in the code examples throughout this tutorial:")]),e._v(" "),o("ul",[o("li",[e._v("When you see username be sure to substitute it with your username.")]),e._v(" "),o("li",[e._v("Although you can use digitalocean as your directory and app name, you can replace it with your own app name.")])]),e._v(" "),o("h2",{attrs:{id:"requirements"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[e._v("#")]),e._v(" Requirements")]),e._v(" "),o("p",[e._v("To complete this guide, you will need:")]),e._v(" "),o("ul",[o("li",[e._v("A "),o("a",{attrs:{href:"https://cloud.digitalocean.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DigitalOcean"),o("OutboundLink")],1),e._v(" account. If you do not have an account, DigitalOcean may offer a free trial to let you build Basic Droplets.")]),e._v(" "),o("li",[e._v("A supported version of "),o("a",{attrs:{href:"https://docs.starport.network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Starport"),o("OutboundLink")],1),e._v(". To install Starport, see "),o("RouterLink",{attrs:{to:"/starport/install.html"}},[e._v("Install Starport")]),e._v(".")],1),e._v(" "),o("li",[e._v("Go (version 1.16 or higher). See "),o("a",{attrs:{href:"https://golang.org/doc/install",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download and install Go"),o("OutboundLink")],1),e._v(" documentation. Using brew to install Go is not recommended.")])]),e._v(" "),o("h2",{attrs:{id:"step-1-create-your-starport-app"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-your-starport-app"}},[e._v("#")]),e._v(" Step 1 — Create Your Starport App")]),e._v(" "),o("p",[e._v("In this step, you create your Starport application on your local computer. Later, you will upload the app to your DigitalOcean Droplet.")]),e._v(" "),o("p",[e._v("Create a directory and run Starport to create a Cosmos SDK blockchain app.")]),e._v(" "),o("p",[e._v("On your local computer, run these commands in a terminal window:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bWtkaXIgYmxvY2tjaGFpbgpjZCBibG9ja2NoYWluCnN0YXJwb3J0IGFwcCBnaXRodWIuY29tLyZsdDt1c2VybmFtZSZndDsvZGlnaXRhbG9jZWFuCg=="}}),e._v(" "),o("p",[e._v("A blockchain app with backend and frontend is created. The default scaffold is a working blockchain app with the functionality that is similar to the Cosmos Hub ($ATOM). Learn about the "),o("a",{attrs:{href:"https://hub.cosmos.network/main/hub-overview/overview.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos Hub"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://cosmos.network/features",target:"_blank",rel:"noopener noreferrer"}},[e._v("ATOM"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("To change any parameters of the blockchain, "),o("a",{attrs:{href:"https://docs.starport.network/configure/",target:"_blank",rel:"noopener noreferrer"}},[e._v("learn how to configure"),o("OutboundLink")],1),e._v(" your blockchain app with Starport.")]),e._v(" "),o("h2",{attrs:{id:"step-2-host-your-app-on-digitalocean"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#step-2-host-your-app-on-digitalocean"}},[e._v("#")]),e._v(" Step 2 — Host Your App on DigitalOcean")]),e._v(" "),o("p",[e._v("DigitalOcean provides developers cloud services that help to deploy and scale applications that run simultaneously on multiple computers.")]),e._v(" "),o("p",[e._v("Use the DigitalOcean infrastructure to publish a Cosmos SDK blockchain application to ensure the app is accessible on the web. Your app must be accessible on the web to allow other apps and new nodes to connect to your blockchain network.")]),e._v(" "),o("h3",{attrs:{id:"create-a-droplet-on-digitalocean"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#create-a-droplet-on-digitalocean"}},[e._v("#")]),e._v(" Create a Droplet on DigitalOcean")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Log into your DigitalOcean account and access the "),o("a",{attrs:{href:"https://cloud.digitalocean.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("control panel"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("From the "),o("strong",[e._v("Create")]),e._v(" menu in the top right of the control panel, click "),o("strong",[e._v("Droplets")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Choose the Ubuntu 20.04 (LTS) x64 image and a Shared CPU Basic plan:")]),e._v(" "),o("p",[o("img",{attrs:{src:a(529),alt:"Ubuntu 20.04 Image",title:"Choose Ubuntu 20.04"}})])]),e._v(" "),o("li",[o("p",[e._v("Choose your memory and compute resources. Virtual machines offer a mix of memory and compute resources. For a typical blockchain app that is not computing intense, 2 GB Ram/1 CPU are sufficient for your development and test environment.")]),e._v(" "),o("p",[o("img",{attrs:{src:a(530),alt:"DigitalOcean Droplet Size",title:"DigitalOcean Droplet Size"}})])]),e._v(" "),o("li",[o("p",[e._v("Accept the default datacenter region and VPC network selections.")])]),e._v(" "),o("li",[o("p",[e._v("We recommend SSH keys for your "),o("strong",[e._v("Authentication")]),e._v(" method to access your Droplet. "),o("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Learn how to setup your SSH key"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("For "),o("strong",[e._v("How many Droplets?")]),e._v(" accept the default 1 Droplet selection.")])]),e._v(" "),o("li",[o("p",[e._v("For "),o("strong",[e._v("Choose a hostname")]),e._v(" you can optionally add an identifying name.")])]),e._v(" "),o("li",[o("p",[e._v("For "),o("strong",[e._v("Tags")]),e._v(" you can optionally add one or more tags.")])]),e._v(" "),o("li",[o("p",[e._v("For "),o("strong",[e._v("Select Project")]),e._v(" you can accept the default project.")])]),e._v(" "),o("li",[o("p",[e._v("Do not select "),o("strong",[e._v("Add backups")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Select "),o("strong",[e._v("Create Droplet")]),e._v(".")])])]),e._v(" "),o("p",[e._v("You new Droplet is shown in the list of your Droplets.")]),e._v(" "),o("h3",{attrs:{id:"access-your-new-node"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#access-your-new-node"}},[e._v("#")]),e._v(" Access Your New Node")]),e._v(" "),o("p",[e._v("Congratulations, you are now ready to connect to your new node.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("In the list of Droplets in the DigitalOcean Control Panel, you can mouse over the IP address to copy it into your clipboard.")])]),e._v(" "),o("li",[o("p",[e._v("Open a terminal window and type "),o("code",[e._v("ssh root@<IP address>")]),e._v(" to connect to your new node. See "),o("a",{attrs:{href:"https://docs.digitalocean.com/products/droplets/how-to/connect-with-ssh/openssh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to Connect to your Droplet with OpenSSH"),o("OutboundLink")],1),e._v(".")])])]),e._v(" "),o("h3",{attrs:{id:"create-a-user-to-run-the-blockchain"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#create-a-user-to-run-the-blockchain"}},[e._v("#")]),e._v(" Create a User to Run the Blockchain")]),e._v(" "),o("p",[e._v("First, create a user that to run the blockchain. For this example, you can use "),o("code",[e._v("appuser")]),e._v(" as the username. Use the "),o("code",[e._v("adduser")]),e._v(" command:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"YWRkdXNlciBhcHB1c2VyCg=="}}),e._v(" "),o("p",[e._v("When prompted, enter and confirm a password for "),o("code",[e._v("appuser")]),e._v(".")]),e._v(" "),o("p",[e._v("After the password is successfully updated, you are prompted to change the user information for appuser. Press ENTER to use the default values. Type "),o("code",[e._v("Y")]),e._v(" to confirm the information is correct.")]),e._v(" "),o("p",[e._v("To give appropriate permissions, add "),o("code",[e._v("appuser")]),e._v(" to the "),o("code",[e._v("sudo")]),e._v(" group:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"dXNlcm1vZCAtYUcgc3VkbyBhcHB1c2VyCg=="}}),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-new-sudo-enabled-user-on-ubuntu-18-04-quickstart",target:"_blank",rel:"noopener noreferrer"}},[e._v("How To Create a New Sudo-enabled User on Ubuntu 18.04"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("To be able to login as "),o("code",[e._v("appuser")]),e._v(", copy your ssh public key to the new home directory for "),o("code",[e._v("appuser")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cnN5bmMgLS1hcmNoaXZlIC0tY2hvd249YXBwdXNlcjphcHB1c2VyIH4vLnNzaCAvaG9tZS9hcHB1c2VyCg=="}}),e._v(" "),o("p",[e._v("Now, switch to your new user account:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3UgLSBhcHB1c2VyCg=="}}),e._v(" "),o("h3",{attrs:{id:"set-up-your-droplet"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#set-up-your-droplet"}},[e._v("#")]),e._v(" Set Up Your Droplet")]),e._v(" "),o("p",[e._v("To set up your Droplet, you need to install a few tools to help us to publish your blockchain app.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Install "),o("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Go"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("At the time of writing the tutorial, the latest version of Go is 1.16.5.")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2Qgfgp3Z2V0IGh0dHBzOi8vZ29sYW5nLm9yZy9kbC9nbzEuMTYuNS5saW51eC1hbWQ2NC50YXIuZ3oKc2hhMjU2c3VtIGdvMS4xNi41LmxpbnV4LWFtZDY0LnRhci5negojIGIxMmMyMzAyM2I2OGRlMjJmNzRjMDUyNGYxMGI3NTNlN2IwOGIxNTA0Y2I3ZTQxN2VjY2ViZGQzZmFlNDkwNjEgIGdvMS4xNi41LmxpbnV4LWFtZDY0LnRhci5nego="}})],1),e._v(" "),o("li",[o("p",[e._v("Extract the archive and keep it in "),o("code",[e._v("/usr/local")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyB0YXIgLXh2ZiBnbzEuMTYuNS5saW51eC1hbWQ2NC50YXIuZ3ogLUMgL3Vzci9sb2NhbAo="}}),e._v(" "),o("p",[e._v("A directory named "),o("code",[e._v("go")]),e._v(" is now in the "),o("code",[e._v("/usr/local")]),e._v(" directory.")])],1),e._v(" "),o("li",[o("p",[e._v("Next, recursively change this directory’s owner and group to "),o("code",[e._v("appuser")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBjaG93biAtUiBhcHB1c2VyOmFwcHVzZXIgL3Vzci9sb2NhbC9nbwo="}})],1),e._v(" "),o("li",[o("p",[e._v("Add the go paths to your profile:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bmFubyB+Ly5wcm9maWxlCg=="}}),e._v(" "),o("p",[e._v("At the end of the file, add the following two lines:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXhwb3J0IEdPUEFUSD0kSE9NRS9nbwpleHBvcnQgUEFUSD0kUEFUSDokR09QQVRIL2JpbjovdXNyL2xvY2FsL2dvL2Jpbgo="}})],1),e._v(" "),o("li",[o("p",[e._v("Update your profile:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c291cmNlIH4vLnByb2ZpbGUK"}})],1),e._v(" "),o("li",[o("p",[e._v("Verify your go installation:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z28gdmVyc2lvbgo="}}),e._v(" "),o("p",[e._v("The results:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z28gdmVyc2lvbiBnbzEuMTYuNSBsaW51eC9hbWQ2NAo="}})],1),e._v(" "),o("li",[o("p",[e._v("To use Starport, install the Starport CLI:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y3VybCBodHRwczovL2dldC5zdGFycG9ydC5uZXR3b3JrL3N0YXJwb3J0ISB8IHN1ZG8gYmFzaAo="}}),e._v(" "),o("p",[e._v("The latest stable version of Starport is installed.")])],1)]),e._v(" "),o("h2",{attrs:{id:"upload-your-app-to-the-droplet"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#upload-your-app-to-the-droplet"}},[e._v("#")]),e._v(" Upload Your App to the Droplet")]),e._v(" "),o("p",[e._v("Several methods are available to upload your app to the Droplet.")]),e._v(" "),o("p",[e._v("One convenient method is to upload the app to GitHub and then download it on your Droplet. Starport creates a GitHub repository that makes it convenient to add your app to your repositories.")]),e._v(" "),o("p",[e._v("To upload the files, you can use "),o("code",[e._v("scp")]),e._v(" to avoid a few extra steps.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("In a terminal window on your local machine, make sure you are in the parent directory of the Starport repo that you created earlier. For example, "),o("code",[e._v("/Users/username/blockchain")]),e._v(" is the parent directory of your "),o("code",[e._v("digitalocean")]),e._v(" app directory. From the "),o("code",[e._v("/Users/username/blockchain")]),e._v(" directory, use the following command to upload the local app directory to your DigitalOcean server:")]),e._v(" "),o("p",[o("code",[e._v("scp -r digitalocean appuser@<IP address>:/home/appuser/")])]),e._v(" "),o("p",[e._v("This command uploads your local "),o("code",[e._v("digitalocean")]),e._v(" app to your home directory on your DigitalOcean Droplet, "),o("code",[e._v("/home/appuser")]),e._v(".")])])]),e._v(" "),o("h2",{attrs:{id:"install-your-app"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#install-your-app"}},[e._v("#")]),e._v(" Install your app")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("In a terminal window on the Droplet, you can change to the "),o("code",[e._v("/home/appuser/digitalocean")]),e._v(" directory after the upload is completed:")]),e._v(" "),o("p",[o("code",[e._v("cd digitalocean")])])]),e._v(" "),o("li",[o("p",[e._v("To install your app and configuration on the Droplet, use the Starport CLI:")])])]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgc2VydmUK"}}),e._v(" "),o("p",[e._v("The "),o("code",[e._v("starport serve")]),e._v(" command builds your Starport app, creates a genesis file, and creates your configuration.")]),e._v(" "),o("p",[e._v("You see an output similar to:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Q29zbW9zIFNESydzIHZlcnNpb24gaXM6IFN0YXJnYXRlIHYwLjQwLjAgKG9yIGxhdGVyKQoK8J+boO+4jyAgQnVpbGRpbmcgcHJvdG8uLi4K8J+TpiBJbnN0YWxsaW5nIGRlcGVuZGVuY2llcy4uLgrwn5ug77iPICBCdWlsZGluZyB0aGUgYmxvY2tjaGFpbi4uLgrwn5K/IEluaXRpYWxpemluZyB0aGUgYXBwLi4uCvCfmYIgQ3JlYXRlZCBhY2NvdW50ICZxdW90O2FsaWNlJnF1b3Q7IHdpdGggYWRkcmVzcyAmcXVvdDtjb3Ntb3Mxc3VjZXB3cnZna3VkN2ZjNmZ0bmU4czJnbHpqcHF4NHpzbDZ6eGEmcXVvdDsgd2l0aCBtbmVtb25pYzogJnF1b3Q7ZXhwZWN0IGdvZGRlc3MgYnVzaW5lc3MgZGV0YWlsIGxvdWQga25vdyBicm9vbSB0cmlhbCBkZWxpdmVyIGJvYXJkIHZpY3RvcnkgZGVzcGFpciB0YWNrbGUgcmlwcGxlIGJvZHkgd2VhcG9uIHJ1bndheSBsYXduIHJvYXN0IGNhY3R1cyBhdHRpdHVkZSBtaWRuaWdodCB0b3duIGZveCZxdW90Owrwn5mCIENyZWF0ZWQgYWNjb3VudCAmcXVvdDtib2ImcXVvdDsgd2l0aCBhZGRyZXNzICZxdW90O2Nvc21vczE1amF5dWN1Z3lmbmxqNHR1N3hodXRudWZ4cjRxZDhqNnFqbWVrayZxdW90OyB3aXRoIG1uZW1vbmljOiAmcXVvdDttb3VzZSBsYW1wIGV4Y3VzZSB5b3VuZyB0b3AgY2VudHVyeSBlbXBvd2VyIGFmZm9yZCBvdmVuIGdyYXNzIHBhc3MgaGVhdnkgZXZpbCBzYW1wbGUgbGFrZSB0cmljayBsZWlzdXJlIGFpc2xlIGJpcmQgZHVtYiByYWRpbyBsZWFybiBlY29sb2d5IHN0YW1wJnF1b3Q7CkdlbmVzaXMgdHJhbnNhY3Rpb24gd3JpdHRlbiB0byAmcXVvdDsvaG9tZS9hcHB1c2VyLy5kaWdpdGFsb2NlYW4vY29uZmlnL2dlbnR4L2dlbnR4LTg1ZWYwNmNiODZhYTUwMWNjZWI5ZWQwYTQ5N2EwMjUwM2Y1YWE1N2YuanNvbiZxdW90Owrwn4yNIFRlbmRlcm1pbnQgbm9kZTogaHR0cDovLzAuMC4wLjA6MjY2NTcK8J+MjSBCbG9ja2NoYWluIEFQSTogaHR0cDovLzAuMC4wLjA6MTMxNwrwn4yNIFRva2VuIGZhdWNldDogaHR0cDovLzAuMC4wLjA6NDUwMAo="}}),e._v(" "),o("p",[e._v("Press Ctrl+C to stop the chain that you started with the "),o("code",[e._v("starport serve")]),e._v(" command.")]),e._v(" "),o("p",[e._v("To confirm the installation (and celebrate your success), start the app:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZGlnaXRhbG9jZWFuZAo="}}),e._v(" "),o("p",[e._v("When all of these steps were successful, the output prints:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"U3RhcmdhdGUgQ29zbW9zSHViIEFwcAoKVXNhZ2U6CiAgZGlnaXRhbG9jZWFuZCBbY29tbWFuZF0KCkF2YWlsYWJsZSBDb21tYW5kczoKCgogIGFkZC1nZW5lc2lzLWFjY291bnQgQWRkIGEgZ2VuZXNpcyBhY2NvdW50IHRvIGdlbmVzaXMuanNvbgogIGNvbGxlY3QtZ2VudHhzICAgICAgQ29sbGVjdCBnZW5lc2lzIHR4cyBhbmQgb3V0cHV0IGEgZ2VuZXNpcy5qc29uIGZpbGUKICBkZWJ1ZyAgICAgICAgICAgICAgIFRvb2wgZm9yIGhlbHBpbmcgd2l0aCBkZWJ1Z2dpbmcgeW91ciBhcHBsaWNhdGlvbgogIGV4cG9ydCAgICAgICAgICAgICAgRXhwb3J0IHN0YXRlIHRvIEpTT04KICBnZW50eCAgICAgICAgICAgICAgIEdlbmVyYXRlIGEgZ2VuZXNpcyB0eCBjYXJyeWluZyBhIHNlbGYgZGVsZWdhdGlvbgogIGhlbHAgICAgICAgICAgICAgICAgSGVscCBhYm91dCBhbnkgY29tbWFuZAogIGluaXQgICAgICAgICAgICAgICAgSW5pdGlhbGl6ZSBwcml2YXRlIHZhbGlkYXRvciwgcDJwLCBnZW5lc2lzLCBhbmQgYXBwbGljYXRpb24gY29uZmlndXJhdGlvbiBmaWxlcwogIGtleXMgICAgICAgICAgICAgICAgTWFuYWdlIHlvdXIgYXBwbGljYXRpb24ncyBrZXlzCiAgbWlncmF0ZSAgICAgICAgICAgICBNaWdyYXRlIGdlbmVzaXMgdG8gYSBzcGVjaWZpZWQgdGFyZ2V0IHZlcnNpb24KICBxdWVyeSAgICAgICAgICAgICAgIFF1ZXJ5aW5nIHN1YmNvbW1hbmRzCiAgc3RhcnQgICAgICAgICAgICAgICBSdW4gdGhlIGZ1bGwgbm9kZQogIHN0YXR1cyAgICAgICAgICAgICAgUXVlcnkgcmVtb3RlIG5vZGUgZm9yIHN0YXR1cwogIHRlbmRlcm1pbnQgICAgICAgICAgVGVuZGVybWludCBzdWJjb21tYW5kcwogIHR4ICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25zIHN1YmNvbW1hbmRzCiAgdW5zYWZlLXJlc2V0LWFsbCAgICBSZXNldHMgdGhlIGJsb2NrY2hhaW4gZGF0YWJhc2UsIHJlbW92ZXMgYWRkcmVzcyBib29rIGZpbGVzLCBhbmQgcmVzZXRzIGRhdGEvcHJpdl92YWxpZGF0b3Jfc3RhdGUuanNvbiB0byB0aGUgZ2VuZXNpcyBzdGF0ZQogIHZhbGlkYXRlLWdlbmVzaXMgICAgdmFsaWRhdGVzIHRoZSBnZW5lc2lzIGZpbGUgYXQgdGhlIGRlZmF1bHQgbG9jYXRpb24gb3IgYXQgdGhlIGxvY2F0aW9uIHBhc3NlZCBhcyBhbiBhcmcKICB2ZXJzaW9uICAgICAgICAgICAgIFByaW50IHRoZSBhcHBsaWNhdGlvbiBiaW5hcnkgdmVyc2lvbiBpbmZvcm1hdGlvbgoKRmxhZ3M6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICBoZWxwIGZvciBkaWdpdGFsb2NlYW5kCiAgICAgIC0taG9tZSBzdHJpbmcgICAgICAgICBkaXJlY3RvcnkgZm9yIGNvbmZpZyBhbmQgZGF0YSAoZGVmYXVsdCAmcXVvdDsvaG9tZS9hcHB1c2VyLy5kaWdpdGFsb2NlYW4mcXVvdDspCiAgICAgIC0tbG9nX2Zvcm1hdCBzdHJpbmcgICBUaGUgbG9nZ2luZyBmb3JtYXQgKGpzb258cGxhaW4pIChkZWZhdWx0ICZxdW90O3BsYWluJnF1b3Q7KQogICAgICAtLWxvZ19sZXZlbCBzdHJpbmcgICAgVGhlIGxvZ2dpbmcgbGV2ZWwgKHRyYWNlfGRlYnVnfGluZm98d2FybnxlcnJvcnxmYXRhbHxwYW5pYykgKGRlZmF1bHQgJnF1b3Q7aW5mbyZxdW90OykKICAgICAgLS10cmFjZSAgICAgICAgICAgICAgIHByaW50IG91dCBmdWxsIHN0YWNrIHRyYWNlIG9uIGVycm9ycwoKVXNlICZxdW90O2RpZ2l0YWxvY2VhbmQgW2NvbW1hbmRdIC0taGVscCZxdW90OyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBhIGNvbW1hbmQuCg=="}}),e._v(" "),o("h2",{attrs:{id:"create-a-systemd-process"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#create-a-systemd-process"}},[e._v("#")]),e._v(" Create a Systemd process")]),e._v(" "),o("p",[e._v("The "),o("code",[e._v("starport serve")]),e._v(" command helps installing, building, and configuring your app for a new blockchain. You received tokens on newly created accounts.")]),e._v(" "),o("p",[e._v("This new app is useful only for development purposes and is not intended to be run for an extended time or in production.")]),e._v(" "),o("p",[e._v("For the app to run for a longer time, you need a "),o("code",[e._v("systemd")]),e._v(" process on your Droplet.")]),e._v(" "),o("p",[e._v("Create the log files and a "),o("code",[e._v("systemd")]),e._v(" file to manage your process so that you can log off from the terminal and be confident the app keeps running even when the server restarts.")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBta2RpciAtcCAvdmFyL2xvZy9kaWdpdGFsb2NlYW5kCnN1ZG8gdG91Y2ggL3Zhci9sb2cvZGlnaXRhbG9jZWFuZC9kaWdpdGFsb2NlYW5kLmxvZwpzdWRvIHRvdWNoIC92YXIvbG9nL2RpZ2l0YWxvY2VhbmQvZGlnaXRhbG9jZWFuZF9lcnJvci5sb2cKc3VkbyB0b3VjaCAvZXRjL3N5c3RlbWQvc3lzdGVtL2RpZ2l0YWxvY2VhbmQuc2VydmljZQo="}}),e._v(" "),o("p",[e._v("Use nano to edit the systemd service file:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBuYW5vIC9ldGMvc3lzdGVtZC9zeXN0ZW0vZGlnaXRhbG9jZWFuZC5zZXJ2aWNlCg=="}}),e._v(" "),o("p",[e._v("Add your application details to the file:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"W1VuaXRdCkRlc2NyaXB0aW9uPWRpZ2l0YWxvY2VhbiBkYWVtb24KQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CltTZXJ2aWNlXQpVc2VyPWFwcHVzZXIKRXhlY1N0YXJ0PS9ob21lL2FwcHVzZXIvZ28vYmluL2RpZ2l0YWxvY2VhbmQgc3RhcnQgLS1ob21lPS9ob21lL2FwcHVzZXIvLmRpZ2l0YWxvY2VhbgpXb3JraW5nRGlyZWN0b3J5PS9ob21lL2FwcHVzZXIvZ28vYmluClN0YW5kYXJkT3V0cHV0PWZpbGU6L3Zhci9sb2cvZGlnaXRhbG9jZWFuZC9kaWdpdGFsb2NlYW5kLmxvZwpTdGFuZGFyZEVycm9yPWZpbGU6L3Zhci9sb2cvZGlnaXRhbG9jZWFuZC9kaWdpdGFsb2NlYW5kX2Vycm9yLmxvZwpSZXN0YXJ0PWFsd2F5cwpSZXN0YXJ0U2VjPTMKTGltaXROT0ZJTEU9NDA5NgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQK"}}),e._v(" "),o("p",[e._v("To close and save the file, press Ctrl+x. Then type "),o("code",[e._v("Y")]),e._v(" and press Enter.")]),e._v(" "),o("p",[e._v("The next step is to enable the file so the app is available even after a system start:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBzeXN0ZW1jdGwgZW5hYmxlIGRpZ2l0YWxvY2VhbmQuc2VydmljZQo="}}),e._v(" "),o("p",[e._v("Now start the systemd process:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBzeXN0ZW1jdGwgc3RhcnQgZGlnaXRhbG9jZWFuZC5zZXJ2aWNlCg=="}}),e._v(" "),o("p",[e._v("Check the logs with:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBqb3VybmFsY3RsIC11IGRpZ2l0YWxvY2VhbmQgLWYK"}}),e._v(" "),o("p",[e._v("Your app is now running on DigitalOcean.")]),e._v(" "),o("h2",{attrs:{id:"connect-your-local-running-chain-to-the-published-chain"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#connect-your-local-running-chain-to-the-published-chain"}},[e._v("#")]),e._v(" Connect your local running chain to the published chain")]),e._v(" "),o("p",[e._v("To connect your local running chain with the published app, you need to:")]),e._v(" "),o("ul",[o("li",[e._v("Find the node you just created with the IP address")]),e._v(" "),o("li",[e._v("Download the genesis file")]),e._v(" "),o("li",[e._v("Configure your app to connect to the published node")])]),e._v(" "),o("p",[e._v("On your DigitalOcean droplet, find the hash of the node by typing:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZGlnaXRhbG9jZWFuZCB0ZW5kZXJtaW50IHNob3ctbm9kZS1pZAojIEZvciBleGFtcGxlLCA4NWVmMDZjYjg2YWE1MDFjY2ViOWVkMGE0OTdhMDI1MDNmNWFhNTdmCg=="}}),e._v(" "),o("p",[e._v("Each node has a different node id.")]),e._v(" "),o("p",[e._v("At a terminal window back on your local machine, initialize your blockchain with:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZGlnaXRhbG9jZWFuZCBpbml0IGxvY2Fsbm9kZQo="}}),e._v(" "),o("p",[e._v("Next, download the "),o("code",[e._v("genesis.json")]),e._v(" file from your node:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c2NwIGFwcHVzZXJAJmx0O0lQIGFkZHJlc3MmZ3Q7Oi9ob21lL2FwcHVzZXIvLmRpZ2l0YWxvY2Vhbi9jb25maWcvZ2VuZXNpcy5qc29uIH4vLmRpZ2l0YWxvY2Vhbi9jb25maWcvCg=="}}),e._v(" "),o("p",[e._v("Then add the published node ID and IP into the configuration file on your local machine:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bmFubyB+Ly5kaWdpdGFsb2NlYW4vY29uZmlnL2NvbmZpZy50b21sCg=="}}),e._v(" "),o("p",[e._v("Add a persistent connection. Use the node-id from the Droplet together with the IP address and default port:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBub2RlcyB0byBrZWVwIHBlcnNpc3RlbnQgY29ubmVjdGlvbnMgdG8KcGVyc2lzdGVudF9wZWVycyA9ICZxdW90Ozg1ZWYwNmNiODZhYTUwMWNjZWI5ZWQwYTQ5N2EwMjUwM2Y1YWE1N2ZAJmx0O0lQIGFkZHJlc3MmZ3Q7OjI2NjU2JnF1b3Q7Cg=="}}),e._v(" "),o("p",[e._v("Start the node:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZGlnaXRhbG9jZWFuZCBzdGFydAo="}}),e._v(" "),o("p",[e._v("You can use a tool like gex to see if you are connected to a node. You can install gex on your remote and local machine. Run this command at a terminal window on each machine:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z28gZ2V0IC11IGdpdGh1Yi5jb20vY29zbW9zL2dleAo="}}),e._v(" "),o("p",[e._v("Afterward gex is installed, start the gex tool with:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2V4Cg=="}}),e._v(" "),o("p",[e._v("When "),o("code",[e._v("1")]),e._v(" shows in the "),o("code",[e._v("Connected Peers")]),e._v(" box, then everything is setup successfully.")]),e._v(" "),o("h2",{attrs:{id:"access-api-and-rpc"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#access-api-and-rpc"}},[e._v("#")]),e._v(" Access API and RPC")]),e._v(" "),o("p",[e._v("Now, you can access the API. The Swagger documentation is available at:")]),e._v(" "),o("p",[o("code",[e._v("http://<IP address>:1317")])]),e._v(" "),o("p",[e._v("While the RPC is available on:")]),e._v(" "),o("p",[o("code",[e._v("http://<IP address>:26657")])]),e._v(" "),o("h2",{attrs:{id:"optional-set-up-a-firewall-on-your-droplet"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#optional-set-up-a-firewall-on-your-droplet"}},[e._v("#")]),e._v(" Optional: Set Up a Firewall on Your Droplet")]),e._v(" "),o("p",[e._v("To reduce load and attacks to your droplet, you can set up a firewall.")]),e._v(" "),o("p",[e._v("Although DigitalOcean provides a nice UI for creating a firewall, this tutorial uses a general approach with the "),o("code",[e._v("ufw")]),e._v(" command.")]),e._v(" "),o("p",[e._v("Use the "),o("code",[e._v("ufw")]),e._v(" command to block everything that is not related to your blockchain app.")]),e._v(" "),o("p",[e._v("Setup the following rules for "),o("code",[e._v("ufw")]),e._v(" to make it work with your blockchain app:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyB1ZncgZGVmYXVsdCBkZW55IGluY29taW5nCnN1ZG8gdWZ3IGRlZmF1bHQgYWxsb3cgb3V0Z29pbmcKc3VkbyB1ZncgYWxsb3cgT3BlblNTSApzdWRvIHVmdyBhbGxvdyA4MC90Y3AKc3VkbyB1ZncgYWxsb3cgNDQzL3RjcApzdWRvIHVmdyBhbGxvdyA2MDAwMDo2MTAwMC91ZHAKc3VkbyB1ZncgYWxsb3cgMjY2NTcvdGNwCnN1ZG8gdWZ3IGFsbG93IDEzMTcvdGNwCnN1ZG8gdWZ3IGFsbG93IDgwODAvdGNwCnN1ZG8gdWZ3IC0tZm9yY2UgZW5hYmxlCg=="}})],1)}),[],!1,null,null,null);t.default=s.exports}}]);