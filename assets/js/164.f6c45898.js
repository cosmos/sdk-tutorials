(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{781:function(e,t,o){"use strict";o.r(t);var s=o(1),i=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"go-interfaces"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#go-interfaces"}},[e._v("#")]),e._v(" Go Interfaces")]),e._v(" "),o("p",[e._v("It is time to look at interfaces in Go. After that, you will briefly examine testing in Go.")]),e._v(" "),o("p",[e._v('Go offers the so-called "interface type". This is a collection of method signatures. An interface value can hold any value that implements those methods. Try it:')]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBtYWluCmltcG9ydCAoCiAgICAmcXVvdDtmbXQmcXVvdDsKICAgICZxdW90O21hdGgmcXVvdDsKKQp0eXBlIFZlY3RvcjNEIHN0cnVjdCB7CiAgICB4LCB5LCB6IGZsb2F0NjQKfQp0eXBlIFZlY3RvcjJEIHN0cnVjdCB7CiAgICB4LCB5IGZsb2F0NjQKfQp0eXBlIE51bWJlciBmbG9hdDY0CnR5cGUgRXVjbGlkIGludGVyZmFjZSB7CiAgICBOb3JtKCkgZmxvYXQ2NAp9CmZ1bmMgKHYgVmVjdG9yM0QpIE5vcm0oKSBmbG9hdDY0IHsKICAgIHJldHVybiBtYXRoLlNxcnQodi54KnYueCArIHYueSp2LnkgKyB2Lnoqdi56KQp9CmZ1bmMgKHYgVmVjdG9yMkQpIE5vcm0oKSBmbG9hdDY0IHsKICAgIHJldHVybiBtYXRoLlNxcnQodi54KnYueCArIHYueSArIHYueSkKfQpmdW5jIChuIE51bWJlcikgTm9ybSgpIGZsb2F0NjQgewogICAgaWYgbiAmZ3Q7IDAgewogICAgICAgIHJldHVybiBmbG9hdDY0KG4pCiAgICB9CiAgICByZXR1cm4gLWZsb2F0NjQobikKfQpmdW5jIG1haW4oKSB7CiAgICB2YXIgdiBFdWNsaWQKICAgIHYgPSBWZWN0b3IzRHsxLCAyLCAzfQogICAgZm10LlByaW50bG4odi5Ob3JtKCkpCiAgICB2ID0gVmVjdG9yMkR7MSwgMn0KICAgIGZtdC5QcmludGxuKHYuTm9ybSgpKQogICAgdiA9IE51bWJlcigtMi41KQogICAgZm10LlByaW50bG4odi5Ob3JtKCkpCn0K"}}),e._v(" "),o("HighlightBox",{attrs:{type:"tip"}},[o("p",[o("a",{attrs:{href:"https://go.dev/play/p/lOEgFlWL2JI",target:"_blank",rel:"noopener noreferrer"}},[e._v("Test it online"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("p",[e._v("You see the declaration of the three types and methods as before. You have also declared an additional interface, "),o("code",[e._v("Euclid")]),e._v(", which includes a method signature "),o("code",[e._v("Norm() float64")]),e._v(". Since all defined types implement the "),o("code",[e._v("Norm")]),e._v(" method, You can now use the "),o("code",[e._v("Euclid")]),e._v(" interface to hold the instances of those types.")]),e._v(" "),o("p",[e._v("There is a special empty interface: "),o("code",[e._v("interface{}")]),e._v(". Because it has no method signatures, it is implemented by all types and can be used to hold values of any type:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBtYWluCmltcG9ydCAmcXVvdDtmbXQmcXVvdDsKZnVuYyBtYWluKCkgewogICAgdmFyIGkgaW50ZXJmYWNle30KICAgIGkgPSAyCiAgICBmbXQuUHJpbnRsbihpKQogICAgaSA9ICZxdW90O1Rlc3QmcXVvdDsKICAgIGZtdC5QcmludGxuKGkpCiAgICBzLCBvayA6PSBpLihzdHJpbmcpCiAgICBmbXQuUHJpbnRsbihzLCBvaykKfQo="}}),e._v(" "),o("HighlightBox",{attrs:{type:"tip"}},[o("p",[o("a",{attrs:{href:"https://go.dev/play/p/p9bTIVlCPfr",target:"_blank",rel:"noopener noreferrer"}},[e._v("Test it online"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("p",[e._v("The syntax for direct access to the underlying value of the interface value is "),o("code",[e._v("i.(T)")]),e._v(". This is useful for "),o("em",[e._v("type switches")]),e._v(". In the next module, you will learn the control constructs.")]),e._v(" "),o("h2",{attrs:{id:"simple-unit-test"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#simple-unit-test"}},[e._v("#")]),e._v(" Simple unit test")]),e._v(" "),o("p",[e._v("Go offers the testing package "),o("code",[e._v("testing")]),e._v(" and a tool called "),o("code",[e._v("go test")]),e._v(". These are very helpful.")]),e._v(" "),o("p",[e._v("To explore the basics, first, write a function "),o("code",[e._v("sum")]),e._v(". This is the function you will test:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"undefined",base64:"cGFja2FnZSBzdW11dGlsCmZ1bmMgU3VtKGEsYiBpbnQpIChzIGludCkgewogICAgZm9yIGk6PWE7IGkmbHQ7PWI7IGkrKyB7CiAgICAgICAgcys9aQogICAgfQogICAgcmV0dXJuCn0K"}}),e._v(" "),o("p",[e._v("You should be able to see what this does and know that it probably works. Even so, you should test it.")]),e._v(" "),o("p",[e._v("Save the previous program as "),o("code",[e._v("sum.go")]),e._v(" in a folder "),o("code",[e._v("sumutil")]),e._v(". Then make another file with the following:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"undefined",base64:"cGFja2FnZSBzdW11dGlsCmltcG9ydCAmcXVvdDt0ZXN0aW5nJnF1b3Q7CmZ1bmMgVGVzdFN1bSh0ICp0ZXN0aW5nLlQpIHsKICAgIGNhc2VzIDo9IFtdc3RydWN0IHsKICAgICAgICBzdGFydCwgZW5kLCByZXN1bHQgaW50CiAgICB9ewogICAgICAgICAgICB7IDUsIDYsIDExIH0sCiAgICAgICAgICAgIHsgMSwgOSwgNDUgfSwgLy8gKDErOSkrKDIrOCkrKDMrNykrKDQrNikrNT00NQogICAgICAgICAgICB7IDAsIDksIDQ1IH0sCiAgICAgICAgICAgIHsgMSwgMywgNiB9LAogICAgICAgICAgICB7IDEwLCAxOSwgMTQ1IH0sIC8vIDEwKygxMCsxKSsoMTArMikrLi4uKygxMCs5KT0KICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEwKjEwK3N1bSgxLDkpPTE0NQogICAgfQogICAgZm9yIF8sIGMgOj0gcmFuZ2UgY2FzZXMgewogICAgICAgIGlmIGdvdCA6PSBTdW0oYy5zdGFydCwgYy5lbmQpOyBnb3QgIT0gYy5yZXN1bHQgewogICAgICAgICAgICB0LkVycm9yZigmcXVvdDtTdW0oJXYsJXYpIGdvdCAldiwgd2FudCAldiZxdW90OywgYy5zdGFydCwgYy5lbmQsZ290LCBjLnJlc3VsdCkKICAgICAgICB9CiAgICB9Cn0KZnVuYyBCZW5jaG1hcmtTdW0oYiAqdGVzdGluZy5CKSB7CiAgICBmb3IgaTo9MDsgaSZsdDtiLk47IGkrKyB7CiAgICAgICAgU3VtKDAsaSkKICAgIH0KfQo="}}),e._v(" "),o("p",[e._v("Save this file as "),o("code",[e._v("sum_test.go")]),e._v(". Now run "),o("code",[e._v("go test")]),e._v(".")]),e._v(" "),o("p",[e._v("You will see that it passes the test.")]),e._v(" "),o("HighlightBox",{attrs:{type:"note"}},[o("p",[e._v("A test function has the syntax "),o("code",[e._v("TestXXX")]),e._v(".\n"),o("br"),o("br"),e._v("\nA benchmark function has the syntax "),o("code",[e._v("BenchXXX")]),e._v(".")])]),e._v(" "),o("p",[e._v("Use "),o("code",[e._v("go test -help")]),e._v(" to see what you need to run benchmarks.")]),e._v(" "),o("HighlightBox",{attrs:{type:"info"}},[o("p",[e._v("This video provides a quick demonstration of working with interfaces in Golang.")]),e._v(" "),o("YoutubePlayer",{attrs:{videoId:"F3k9lGOuLnw"}})],1),e._v(" "),o("HighlightBox",{attrs:{type:"reading"}},[o("p",[o("strong",[e._v("Further readings")])]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://golang.org/pkg/testing/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Testing package"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.alexellis.io/golang-writing-unit-tests/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Writing unit tests"),o("OutboundLink")],1)])])]),e._v(" "),o("HighlightBox",{attrs:{type:"synopsis"}},[o("p",[e._v("To summarize, this section has explored:")]),e._v(" "),o("ul",[o("li",[e._v('How the "interface type" offered by Go is a collection of method signatures, and an interface value is used to implement those methods.')]),e._v(" "),o("li",[e._v("How the "),o("code",[e._v("Euclid")]),e._v(" interface can hold instances of all defined types implementing the "),o("code",[e._v("Norm")]),e._v(" method.")]),e._v(" "),o("li",[e._v("How the special empty interface "),o("code",[e._v("interface{}")]),e._v(" can be implemented by all types and hold values of any type because it has no method signatures.")]),e._v(" "),o("li",[e._v("How to use Go's testing package "),o("code",[e._v("testing")]),e._v(" and the "),o("code",[e._v("go test")]),e._v(" tool.")])])])],1)}),[],!1,null,null,null);t.default=i.exports}}]);