(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{753:function(e,t,a){"use strict";a.r(t);var o=a(1),c=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"help-find-a-correct-move"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#help-find-a-correct-move"}},[e._v("#")]),e._v(" Help Find a Correct Move")]),e._v(" "),a("HighlightBox",{attrs:{type:"prerequisite"}},[a("p",[e._v("Make sure you have everything you need before proceeding:")]),e._v(" "),a("ul",[a("li",[e._v("You understand the concepts of "),a("RouterLink",{attrs:{to:"/academy/2-cosmos-concepts/9-queries.html"}},[e._v("queries")]),e._v(" and "),a("RouterLink",{attrs:{to:"/academy/2-cosmos-concepts/6-protobuf.html"}},[e._v("Protobuf")]),e._v(".")],1),e._v(" "),a("li",[e._v("You have Go installed.")]),e._v(" "),a("li",[e._v("You have the checkers blockchain codebase up to gas metering. If not, follow the "),a("RouterLink",{attrs:{to:"/hands-on-exercise/2-ignite-cli-adv/8-gas-meter.html"}},[e._v("previous steps")]),e._v(" or check out "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/tree/gas-meter",target:"_blank",rel:"noopener noreferrer"}},[e._v("the relevant version"),a("OutboundLink")],1),e._v(".")],1)])]),e._v(" "),a("HighlightBox",{attrs:{type:"learning"}},[a("p",[e._v("In this section, you will:")]),e._v(" "),a("ul",[a("li",[e._v("Improve usability with queries.")]),e._v(" "),a("li",[e._v("Create a battery of unit and integration tests.")])])]),e._v(" "),a("p",[e._v("A player sends a "),a("code",[e._v("MsgPlayMove")]),e._v(" when "),a("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/6-play-game.html"}},[e._v("making a move")]),e._v(". This message can succeed or fail for several reasons. One error situation is when the message represents an invalid move. A GUI is the first place where a bad move can be caught, but it is still possible that a GUI wrongly enforces the rules.")],1),e._v(" "),a("p",[e._v("Since sending transactions includes costs, how do you assist participants in making sure they at least do not make a wrong move?")]),e._v(" "),a("p",[e._v("Players would appreciate being able to confirm that a move is valid before burning gas. To add this functionality, you need to create a way for the player to call the "),a("a",{attrs:{href:"https://github.com/batkinson/checkers-go/blob/a09daeb/checkers/checkers.go#L274",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Move")]),a("OutboundLink")],1),e._v(" function without changing the game's state. Use a query because they are evaluated in memory and do not commit anything permanently to storage.")]),e._v(" "),a("h2",{attrs:{id:"some-initial-thoughts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#some-initial-thoughts"}},[e._v("#")]),e._v(" Some initial thoughts")]),e._v(" "),a("p",[e._v("When it comes to finding a correct move, ask:")]),e._v(" "),a("ul",[a("li",[e._v("What structure will facilitate this check?")]),e._v(" "),a("li",[e._v("Who do you let make such checks?")]),e._v(" "),a("li",[e._v("What acceptable limitations do you have for this?")]),e._v(" "),a("li",[e._v("Are there new errors to report back?")]),e._v(" "),a("li",[e._v("What event should you emit?")])]),e._v(" "),a("h2",{attrs:{id:"code-needs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#code-needs"}},[e._v("#")]),e._v(" Code needs")]),e._v(" "),a("ul",[a("li",[e._v("What Ignite CLI commands, if any, will assist you?")]),e._v(" "),a("li",[e._v("How do you adjust what Ignite CLI created for you?")]),e._v(" "),a("li",[e._v("Where do you make your changes?")]),e._v(" "),a("li",[e._v("How would you unit-test these new elements?")]),e._v(" "),a("li",[e._v("How would you use Ignite CLI to locally run a one-node blockchain and interact with it via the CLI to see what you get?")])]),e._v(" "),a("h2",{attrs:{id:"new-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-information"}},[e._v("#")]),e._v(" New information")]),e._v(" "),a("p",[e._v("To run a query to check the validity of a move you need to pass:")]),e._v(" "),a("ul",[a("li",[e._v("The game ID: call the field "),a("code",[e._v("gameIndex")]),e._v(".")]),e._v(" "),a("li",[e._v("The "),a("code",[e._v("player")]),e._v(" color, as queries do not have a signer.")]),e._v(" "),a("li",[e._v("The origin board position: "),a("code",[e._v("fromX")]),e._v(" and "),a("code",[e._v("fromY")]),e._v(".")]),e._v(" "),a("li",[e._v("The target board position: "),a("code",[e._v("toX")]),e._v(" and "),a("code",[e._v("toY")]),e._v(".")])]),e._v(" "),a("p",[e._v("The information to be returned is:")]),e._v(" "),a("ul",[a("li",[e._v("A boolean for whether the move is valid, called "),a("code",[e._v("possible")]),e._v(".")]),e._v(" "),a("li",[e._v("A text which explains why the move is not valid, called "),a("code",[e._v("reason")]),e._v(".")])]),e._v(" "),a("p",[e._v("As with other data structures, you can create the query message object with Ignite CLI:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgcXVlcnkgY2FuUGxheU1vdmUgXAogICAgZ2FtZUluZGV4IHBsYXllciBmcm9tWDp1aW50IGZyb21ZOnVpbnQgdG9YOnVpbnQgdG9ZOnVpbnQgXAogICAgLS1tb2R1bGUgY2hlY2tlcnMgXAogICAgLS1yZXNwb25zZSBwb3NzaWJsZTpib29sLHJlYXNvbgo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgaWduaXRlIHNjYWZmb2xkIHF1ZXJ5IGNhblBsYXlNb3ZlIFwKICAgIGdhbWVJbmRleCBwbGF5ZXIgZnJvbVg6dWludCBmcm9tWTp1aW50IHRvWDp1aW50IHRvWTp1aW50IFwKICAgIC0tbW9kdWxlIGNoZWNrZXJzIFwKICAgIC0tcmVzcG9uc2UgcG9zc2libGU6Ym9vbCxyZWFzb24K"}})],1)],1),e._v(" "),a("p",[e._v("Among other files, you should now have this:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBRdWVyeUNhblBsYXlNb3ZlUmVxdWVzdCB7CiAgICBzdHJpbmcgZ2FtZUluZGV4ID0gMTsKICAgIHN0cmluZyBwbGF5ZXIgPSAyOwogICAgdWludDY0IGZyb21YID0gMzsKICAgIHVpbnQ2NCBmcm9tWSA9IDQ7CiAgICB1aW50NjQgdG9YID0gNTsKICAgIHVpbnQ2NCB0b1kgPSA2Owp9CgptZXNzYWdlIFF1ZXJ5Q2FuUGxheU1vdmVSZXNwb25zZSB7CiAgICBib29sIHBvc3NpYmxlID0gMTsKICAgIHN0cmluZyByZWFzb24gPSAyOwp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-query/proto/checkers/query.proto#L74-L86"}}),e._v(" "),a("p",[e._v("Ignite CLI has created the following boilerplate for you:")]),e._v(" "),a("ul",[a("li",[e._v("The "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-query/proto/checkers/query.proto#L35-L37",target:"_blank",rel:"noopener noreferrer"}},[e._v("Protobuf gRPC interface function"),a("OutboundLink")],1),e._v(" to submit your new "),a("code",[e._v("QueryCanPlayMoveRequest")]),e._v(" and its default implementation.")]),e._v(" "),a("li",[e._v("The "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-query/x/checkers/types/query.pb.gw.go#L424-L445",target:"_blank",rel:"noopener noreferrer"}},[e._v("routing of this new query"),a("OutboundLink")],1),e._v(" in the query facilities.")]),e._v(" "),a("li",[e._v("An "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-query/x/checkers/keeper/grpc_query_can_play_move.go#L19",target:"_blank",rel:"noopener noreferrer"}},[e._v("empty function"),a("OutboundLink")],1),e._v(" ready to implement the action.")])]),e._v(" "),a("h2",{attrs:{id:"query-handling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#query-handling"}},[e._v("#")]),e._v(" Query handling")]),e._v(" "),a("p",[e._v("Now you need to implement the answer to the player's query in "),a("code",[e._v("grpc_query_can_play_move.go")]),e._v(". Differentiate between two types of errors:")]),e._v(" "),a("ul",[a("li",[e._v("Errors relating to the move, returning a reason.")]),e._v(" "),a("li",[e._v("Errors indicating that testing the move is impossible, returning an error.")])]),e._v(" "),a("ol",[a("li",[a("p",[e._v("The game needs to be fetched. If it does not exist at all, you can return an error message because you did not test the move:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgLy8gVE9ETzogUHJvY2VzcyB0aGUgcXVlcnkKLSAgXyA9IGN0eAorICBzdG9yZWRHYW1lLCBmb3VuZCA6PSBrLkdldFN0b3JlZEdhbWUoY3R4LCByZXEuR2FtZUluZGV4KQorICBpZiAhZm91bmQgeworICAgICAgcmV0dXJuIG5pbCwgc2RrZXJyb3JzLldyYXBmKHR5cGVzLkVyckdhbWVOb3RGb3VuZCwgJnF1b3Q7JXMmcXVvdDssIHJlcS5HYW1lSW5kZXgpCisgIH0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L22-L25"}})],1),e._v(" "),a("li",[a("p",[e._v("Has the game already been won?")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aWYgc3RvcmVkR2FtZS5XaW5uZXIgIT0gcnVsZXMuUGllY2VTdHJpbmdzW3J1bGVzLk5PX1BMQVlFUl0gewogICAgcmV0dXJuICZhbXA7dHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlc3BvbnNlewogICAgICAgIFBvc3NpYmxlOiBmYWxzZSwKICAgICAgICBSZWFzb246ICAgdHlwZXMuRXJyR2FtZUZpbmlzaGVkLkVycm9yKCksCiAgICB9LCBuaWwKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L26-L31"}})],1),e._v(" "),a("li",[a("p",[e._v("Is the "),a("code",[e._v("player")]),e._v(" given actually one of the game players?")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aXNCbGFjayA6PSBydWxlcy5QaWVjZVN0cmluZ3NbcnVsZXMuQkxBQ0tfUExBWUVSXSA9PSByZXEuUGxheWVyCmlzUmVkIDo9IHJ1bGVzLlBpZWNlU3RyaW5nc1tydWxlcy5SRURfUExBWUVSXSA9PSByZXEuUGxheWVyCnZhciBwbGF5ZXIgcnVsZXMuUGxheWVyCmlmIGlzQmxhY2sgewogICAgcGxheWVyID0gcnVsZXMuQkxBQ0tfUExBWUVSCn0gZWxzZSBpZiBpc1JlZCB7CiAgICBwbGF5ZXIgPSBydWxlcy5SRURfUExBWUVSCn0gZWxzZSB7CiAgICByZXR1cm4gJmFtcDt0eXBlcy5RdWVyeUNhblBsYXlNb3ZlUmVzcG9uc2V7CiAgICAgICAgUG9zc2libGU6IGZhbHNlLAogICAgICAgIFJlYXNvbjogICBmbXQuU3ByaW50ZigmcXVvdDslczogJXMmcXVvdDssIHR5cGVzLkVyckNyZWF0b3JOb3RQbGF5ZXIuRXJyb3IoKSwgcmVxLlBsYXllciksCiAgICB9LCBuaWwKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L32-L44"}})],1),e._v(" "),a("li",[a("p",[e._v("Is it the player's turn?")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Z2FtZSwgZXJyIDo9IHN0b3JlZEdhbWUuUGFyc2VHYW1lKCkKaWYgZXJyICE9IG5pbCB7CiAgICByZXR1cm4gbmlsLCBlcnIKfQppZiAhZ2FtZS5UdXJuSXMocGxheWVyKSB7CiAgICByZXR1cm4gJmFtcDt0eXBlcy5RdWVyeUNhblBsYXlNb3ZlUmVzcG9uc2V7CiAgICAgICAgUG9zc2libGU6IGZhbHNlLAogICAgICAgIFJlYXNvbjogICBmbXQuU3ByaW50ZigmcXVvdDslczogJXMmcXVvdDssIHR5cGVzLkVyck5vdFBsYXllclR1cm4uRXJyb3IoKSwgcGxheWVyLkNvbG9yKSwKICAgIH0sIG5pbAp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L45-L54"}})],1),e._v(" "),a("li",[a("p",[e._v("Attempt the move and report back:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"XywgbW92ZUVyciA6PSBnYW1lLk1vdmUoCiAgICBydWxlcy5Qb3N7CiAgICAgICAgWDogaW50KHJlcS5Gcm9tWCksCiAgICAgICAgWTogaW50KHJlcS5Gcm9tWSksCiAgICB9LAogICAgcnVsZXMuUG9zewogICAgICAgIFg6IGludChyZXEuVG9YKSwKICAgICAgICBZOiBpbnQocmVxLlRvWSksCiAgICB9LAopCmlmIG1vdmVFcnIgIT0gbmlsIHsKICAgIHJldHVybiAmYW1wO3R5cGVzLlF1ZXJ5Q2FuUGxheU1vdmVSZXNwb25zZXsKICAgICAgICBQb3NzaWJsZTogZmFsc2UsCiAgICAgICAgUmVhc29uOiAgIGZtdC5TcHJpbnRmKCZxdW90OyVzOiAlcyZxdW90OywgdHlwZXMuRXJyV3JvbmdNb3ZlLkVycm9yKCksIG1vdmVFcnIuRXJyb3IoKSksCiAgICB9LCBuaWwKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L55-L70"}})],1),e._v(" "),a("li",[a("p",[e._v("If all went well:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"LSAgcmV0dXJuICZhbXA7dHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlc3BvbnNle30sIG5pbAorICByZXR1cm4gJmFtcDt0eXBlcy5RdWVyeUNhblBsYXlNb3ZlUmVzcG9uc2V7CisgICAgICBQb3NzaWJsZTogdHJ1ZSwKKyAgICAgIFJlYXNvbjogICAmcXVvdDtvayZxdW90OywKKyAgfSwgbmlsCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move.go#L72-L75"}})],1)]),e._v(" "),a("p",[e._v("Quite straightforward.")]),e._v(" "),a("h2",{attrs:{id:"unit-tests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unit-tests"}},[e._v("#")]),e._v(" Unit tests")]),e._v(" "),a("p",[e._v("A query is evaluated in memory, while using the current state in a read-only mode. Thanks to this, you can take some liberties with the current state before running a test, as long as reading the state works as intended. For example, you can pretend that the game has been progressed through a number of moves even though you have only just planted the board in that state in the keeper. For this reason, you can easily test the new method with unit tests, even though you painstakingly prepared integration tests.")]),e._v(" "),a("p",[e._v("Take inspiration from "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_system_info_test.go#L20-L35",target:"_blank",rel:"noopener noreferrer"}},[e._v("the other tests on queries"),a("OutboundLink")],1),e._v(", which create an array of cases to test in a loop. Running a battery of test cases makes it easier to insert new cases and surface any unintended impact. Create a new "),a("code",[e._v("grpc_query_can_play_move_test.go")]),e._v(" file where you:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Declare a "),a("code",[e._v("struct")]),e._v(" that describes a test case:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBjYW5QbGF5R2FtZUNhc2Ugc3RydWN0IHsKICAgIGRlc2MgICAgIHN0cmluZwogICAgZ2FtZSAgICAgdHlwZXMuU3RvcmVkR2FtZQogICAgcmVxdWVzdCAgKnR5cGVzLlF1ZXJ5Q2FuUGxheU1vdmVSZXF1ZXN0CiAgICByZXNwb25zZSAqdHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlc3BvbnNlCiAgICBlcnIgICAgICBzdHJpbmcKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L12-L18"}})],1),e._v(" "),a("li",[a("p",[e._v("Create the common OK response, so as to reuse it:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dmFyICgKICAgIGNhblBsYXlPa1Jlc3BvbnNlID0gJmFtcDt0eXBlcy5RdWVyeUNhblBsYXlNb3ZlUmVzcG9uc2V7CiAgICAgICAgUG9zc2libGU6IHRydWUsCiAgICAgICAgUmVhc29uOiAgICZxdW90O29rJnF1b3Q7LAogICAgfQopCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L21-L24"}})],1),e._v(" "),a("li",[a("p",[e._v("Prepare your array of cases:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Y2FuUGxheVRlc3RSYW5nZSA9IFtdY2FuUGxheUdhbWVDYXNlewogICAgLy8gVE9ETwp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L25"}})],1),e._v(" "),a("li",[a("p",[e._v("In the array add your first test case, one that returns an OK response:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ewogICAgZGVzYzogJnF1b3Q7Rmlyc3QgbW92ZSBieSBibGFjayZxdW90OywKICAgIGdhbWU6IHR5cGVzLlN0b3JlZEdhbWV7CiAgICAgICAgSW5kZXg6ICAmcXVvdDsxJnF1b3Q7LAogICAgICAgIEJvYXJkOiAgJnF1b3Q7KmIqYipiKmJ8YipiKmIqYip8KmIqYipiKmJ8KioqKioqKip8KioqKioqKip8cipyKnIqcip8KnIqcipyKnJ8cipyKnIqciomcXVvdDssCiAgICAgICAgVHVybjogICAmcXVvdDtiJnF1b3Q7LAogICAgICAgIFdpbm5lcjogJnF1b3Q7KiZxdW90OywKICAgIH0sCiAgICByZXF1ZXN0OiAmYW1wO3R5cGVzLlF1ZXJ5Q2FuUGxheU1vdmVSZXF1ZXN0ewogICAgICAgIEdhbWVJbmRleDogJnF1b3Q7MSZxdW90OywKICAgICAgICBQbGF5ZXI6ICAgICZxdW90O2ImcXVvdDssCiAgICAgICAgRnJvbVg6ICAgICAxLAogICAgICAgIEZyb21ZOiAgICAgMiwKICAgICAgICBUb1g6ICAgICAgIDIsCiAgICAgICAgVG9ZOiAgICAgICAzLAogICAgfSwKICAgIHJlc3BvbnNlOiBjYW5QbGF5T2tSZXNwb25zZSwKICAgIGVycjogICAgICAmcXVvdDtuaWwmcXVvdDssCn0sCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L26-L44"}})],1),e._v(" "),a("li",[a("p",[e._v("Add "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L26-L239",target:"_blank",rel:"noopener noreferrer"}},[e._v("other test cases"),a("OutboundLink")],1),e._v(". Examples include a missing request:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ewogICAgZGVzYzogJnF1b3Q7TmlsIHJlcXVlc3QsIHdyb25nJnF1b3Q7LAogICAgZ2FtZTogdHlwZXMuU3RvcmVkR2FtZXsKICAgICAgICBJbmRleDogICZxdW90OzEmcXVvdDssCiAgICAgICAgQm9hcmQ6ICAmcXVvdDsqYipiKmIqYnxiKmIqYipiKnwqYipiKmIqYnwqKioqKioqKnwqKioqKioqKnxyKnIqcipyKnwqcipyKnIqcnxyKnIqcipyKiZxdW90OywKICAgICAgICBUdXJuOiAgICZxdW90O2ImcXVvdDssCiAgICAgICAgV2lubmVyOiAmcXVvdDsqJnF1b3Q7LAogICAgfSwKICAgIHJlcXVlc3Q6ICBuaWwsCiAgICByZXNwb25zZTogbmlsLAogICAgZXJyOiAgICAgICZxdW90O3JwYyBlcnJvcjogY29kZSA9IEludmFsaWRBcmd1bWVudCBkZXNjID0gaW52YWxpZCByZXF1ZXN0JnF1b3Q7LAp9LAo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L45-L56"}}),e._v(" "),a("p",[e._v("Or a player playing out of turn:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ewogICAgZGVzYzogJnF1b3Q7Rmlyc3QgbW92ZSBieSByZWQsIHdyb25nJnF1b3Q7LAogICAgZ2FtZTogdHlwZXMuU3RvcmVkR2FtZXsKICAgICAgICBJbmRleDogICZxdW90OzEmcXVvdDssCiAgICAgICAgQm9hcmQ6ICAmcXVvdDsqYipiKmIqYnxiKmIqYipiKnwqYipiKmIqYnwqKioqKioqKnwqKioqKioqKnxyKnIqcipyKnwqcipyKnIqcnxyKnIqcipyKiZxdW90OywKICAgICAgICBUdXJuOiAgICZxdW90O2ImcXVvdDssCiAgICAgICAgV2lubmVyOiAmcXVvdDsqJnF1b3Q7LAogICAgfSwKICAgIHJlcXVlc3Q6ICZhbXA7dHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlcXVlc3R7CiAgICAgICAgR2FtZUluZGV4OiAmcXVvdDsxJnF1b3Q7LAogICAgICAgIFBsYXllcjogICAgJnF1b3Q7ciZxdW90OywKICAgICAgICBGcm9tWDogICAgIDEsCiAgICAgICAgRnJvbVk6ICAgICAyLAogICAgICAgIFRvWDogICAgICAgMiwKICAgICAgICBUb1k6ICAgICAgIDMsCiAgICB9LAogICAgcmVzcG9uc2U6ICZhbXA7dHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlc3BvbnNlewogICAgICAgIFBvc3NpYmxlOiBmYWxzZSwKICAgICAgICBSZWFzb246ICAgJnF1b3Q7cGxheWVyIHRyaWVkIHRvIHBsYXkgb3V0IG9mIHR1cm46IHJlZCZxdW90OywKICAgIH0sCiAgICBlcnI6ICZxdW90O25pbCZxdW90OywKfSwK",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L139-L160"}})],1),e._v(" "),a("li",[a("p",[e._v("With the test cases defined, add a single test function that runs all the cases:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBUZXN0Q2FuUGxheUNhc2VzQXNFeHBlY3RlZCh0ICp0ZXN0aW5nLlQpIHsKICAgIGZvciBfLCB0ZXN0Q2FzZSA6PSByYW5nZSBjYW5QbGF5VGVzdFJhbmdlIHsKICAgICAgICBrZWVwZXIsIGN0eCA6PSBrZWVwZXJ0ZXN0LkNoZWNrZXJzS2VlcGVyKHQpCiAgICAgICAgZ29DdHggOj0gc2RrLldyYXBTREtDb250ZXh0KGN0eCkKICAgICAgICB0LlJ1bih0ZXN0Q2FzZS5kZXNjLCBmdW5jKHQgKnRlc3RpbmcuVCkgewogICAgICAgICAgICBrZWVwZXIuU2V0U3RvcmVkR2FtZShjdHgsIHRlc3RDYXNlLmdhbWUpCiAgICAgICAgICAgIHJlc3BvbnNlLCBlcnIgOj0ga2VlcGVyLkNhblBsYXlNb3ZlKGdvQ3R4LCB0ZXN0Q2FzZS5yZXF1ZXN0KQogICAgICAgICAgICBpZiB0ZXN0Q2FzZS5yZXNwb25zZSA9PSBuaWwgewogICAgICAgICAgICAgICAgcmVxdWlyZS5OaWwodCwgcmVzcG9uc2UpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXF1aXJlLkVxdWFsVmFsdWVzKHQsIHRlc3RDYXNlLnJlc3BvbnNlLCByZXNwb25zZSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiB0ZXN0Q2FzZS5lcnIgPT0gJnF1b3Q7bmlsJnF1b3Q7IHsKICAgICAgICAgICAgICAgIHJlcXVpcmUuTmlsKHQsIGVycikKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUuRXF1YWxFcnJvcih0LCBlcnIsIHRlc3RDYXNlLmVycikKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9Cn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/x/checkers/keeper/grpc_query_can_play_move_test.go#L243-L262"}})],1)]),e._v(" "),a("HighlightBox",{attrs:{type:"note"}},[a("p",[e._v("All test cases are run within a single unit test. To avoid having one case bleed into the next, the keeper is created afresh inside the loop.")])]),e._v(" "),a("h2",{attrs:{id:"integration-tests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#integration-tests"}},[e._v("#")]),e._v(" Integration tests")]),e._v(" "),a("p",[e._v("You can also add integration tests on top of your unit tests. Put them alongside your other integration tests. Create "),a("code",[e._v("grpc_query_can_play_move_test.go")]),e._v(".")]),e._v(" "),a("p",[e._v("Test if it is possible to play on the first game that is created in the system:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoc3VpdGUgKkludGVncmF0aW9uVGVzdFN1aXRlKSBUZXN0Q2FuUGxheUFmdGVyQ3JlYXRlKCkgewogICAgc3VpdGUuc2V0dXBTdWl0ZVdpdGhPbmVHYW1lRm9yUGxheU1vdmUoKQogICAgZ29DdHggOj0gc2RrLldyYXBTREtDb250ZXh0KHN1aXRlLmN0eCkKICAgIHJlc3BvbnNlLCBlcnIgOj0gc3VpdGUucXVlcnlDbGllbnQuQ2FuUGxheU1vdmUoZ29DdHgsICZhbXA7dHlwZXMuUXVlcnlDYW5QbGF5TW92ZVJlcXVlc3R7CiAgICAgICAgR2FtZUluZGV4OiAmcXVvdDsxJnF1b3Q7LAogICAgICAgIFBsYXllcjogICAgJnF1b3Q7YiZxdW90OywKICAgICAgICBGcm9tWDogICAgIDEsCiAgICAgICAgRnJvbVk6ICAgICAyLAogICAgICAgIFRvWDogICAgICAgMiwKICAgICAgICBUb1k6ICAgICAgIDMsCiAgICB9KQogICAgc3VpdGUuUmVxdWlyZSgpLk5pbChlcnIpCiAgICBzdWl0ZS5SZXF1aXJlKCkuRXF1YWxWYWx1ZXMoY2FuUGxheU9rUmVzcG9uc2UsIHJlc3BvbnNlKQp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/can-play-move-handler/tests/integration/checkers/keeper/grpc_query_can_play_move_test.go#L13-L26"}}),e._v(" "),a("p",[e._v("With these, your query handling function should be covered.")]),e._v(" "),a("h2",{attrs:{id:"interact-via-the-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#interact-via-the-cli"}},[e._v("#")]),e._v(" Interact via the CLI")]),e._v(" "),a("p",[e._v("Set the game expiry to 5 minutes and start "),a("code",[e._v("ignite chain serve")]),e._v(". Remember that the CLI can always inform you about available commands:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgLS1oZWxwCg=="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIC0taGVscAo="}})],1)],1),e._v(" "),a("p",[e._v("Which prints:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Li4uCkF2YWlsYWJsZSBDb21tYW5kczoKICBjYW4tcGxheS1tb3ZlICAgIFF1ZXJ5IGNhblBsYXlNb3ZlCi4uLgo="}}),e._v(" "),a("p",[e._v("What can "),a("code",[e._v("checkersd")]),e._v(" tell you about the command:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAtLWhlbHAK"}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgLS1oZWxwCg=="}})],1)],1),e._v(" "),a("p",[e._v("Which prints:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Li4uClVzYWdlOgogIGNoZWNrZXJzZCBxdWVyeSBjaGVja2VycyBjYW4tcGxheS1tb3ZlIFtnYW1lSW5kZXhdIFtwbGF5ZXJdIFtmcm9tWF0gW2Zyb21ZXSBbdG9YXSBbdG9ZXSBbZmxhZ3NdCi4uLgo="}}),e._v(" "),a("p",[e._v("You can test this query at any point in a game's life.")]),e._v(" "),a("PanelList",[a("PanelListItem",{attrs:{number:"1"}},[a("p",[e._v("When there is no such game:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAyMDQ4IHIgMSAyIDIgMwo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMjA0OCByIDEgMiAyIDMK"}})],1)],1),e._v(" "),a("p",[e._v("Trying this on a game that does not exist returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"RXJyb3I6IHJwYyBlcnJvcjogY29kZSA9IEludmFsaWRBcmd1bWVudCBkZXNjID0gMjA0ODogZ2FtZSBieSBpZCBub3QgZm91bmQ6IGludmFsaWQgcmVxdWVzdAouLi4K"}}),e._v(" "),a("p",[e._v("Confirm this was an error from the point of view of the executable:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBlY2hvICQ/Cg=="}}),e._v(" "),a("p",[e._v("This prints:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"MQo="}}),e._v(" "),a("p",[e._v("There is room to improve the error message, but it is important that you got an error, as expected.")])],1),e._v(" "),a("PanelListItem",{attrs:{number:"2"}},[a("p",[e._v("When you ask for a bad player color:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgdHggY2hlY2tlcnMgY3JlYXRlLWdhbWUgXAogICAgJGFsaWNlICRib2IgMTAwMDAwMCBcCiAgICAtLWZyb20gJGFsaWNlIC15CiQgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMSB3IDEgMiAyIDMK"}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIGNyZWF0ZS1nYW1lIFwKICAgICRhbGljZSAkYm9iIDEwMDAwMDAgXAogICAgLS1mcm9tICRhbGljZSAteQokIGRvY2tlciBleGVjIC1pdCBjaGVja2VycyBcCiAgICBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIHcgMSAyIDIgMwo="}})],1)],1),e._v(" "),a("p",[e._v("If the player tries to play the wrong color on a game that exists, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IGZhbHNlCnJlYXNvbjogJ21lc3NhZ2UgY3JlYXRvciBpcyBub3QgYSBwbGF5ZXI6IHcnCg=="}}),e._v(" "),a("p",[e._v("This is a proper message response, and a reason elaborating on the message.")])],1),e._v(" "),a("PanelListItem",{attrs:{number:"3"}},[a("p",[e._v("When you ask for a player out of turn:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIHIgMCA1IDEgNAo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMSByIDAgNSAxIDQK"}})],1)],1),e._v(" "),a("p",[e._v("If the opponent tries to play out of turn, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IGZhbHNlCnJlYXNvbjogJ3BsYXllciB0cmllZCB0byBwbGF5IG91dCBvZiB0dXJuOiByZWQnCg=="}})],1),e._v(" "),a("PanelListItem",{attrs:{number:"4"}},[a("p",[e._v("When you ask for a piece that is not that of the player:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIGIgMCA1IDEgNAo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMSBiIDAgNSAxIDQK"}})],1)],1),e._v(" "),a("p",[e._v("If black tries to play a red piece, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IGZhbHNlCnJlYXNvbjogJ3dyb25nIG1vdmU6IE5vdCB7cmVkfScncyB0dXJuJwo="}})],1),e._v(" "),a("PanelListItem",{attrs:{number:"5"}},[a("p",[e._v("When it is correct:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIGIgMSAyIDIgMwo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMSBiIDEgMiAyIDMK"}})],1)],1),e._v(" "),a("p",[e._v("If black tests a correct move, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IHRydWUKcmVhc29uOiBvawo="}})],1),e._v(" "),a("PanelListItem",{attrs:{number:"6"}},[a("p",[e._v("When the player must capture:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgdHggY2hlY2tlcnMgcGxheS1tb3ZlIDEgMSAyIDIgMyAtLWZyb20gJGFsaWNlIC15CiQgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIHBsYXktbW92ZSAxIDAgNSAxIDQgLS1mcm9tICRib2IgLXkKJCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIGIgMiAzIDMgNAo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIHBsYXktbW92ZSAxIDEgMiAyIDMgLS1mcm9tICRhbGljZSAteQokIGRvY2tlciBleGVjIC1pdCBjaGVja2VycyBcCiAgICBjaGVja2Vyc2QgdHggY2hlY2tlcnMgcGxheS1tb3ZlIDEgMCA1IDEgNCAtLWZyb20gJGJvYiAteQokIGRvY2tlciBleGVjIC1pdCBjaGVja2VycyBcCiAgICBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAxIGIgMiAzIDMgNAo="}})],1)],1),e._v(" "),a("p",[e._v("If black fails to capture a mandatory red piece, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IGZhbHNlCnJlYXNvbjogJ3dyb25nIG1vdmU6IEludmFsaWQgbW92ZTogezIgM30gdG8gezMgNH0nCg=="}}),e._v(" "),a("p",[e._v("The reason given is understandable, but it does not clarify why the move is invalid. There is room to improve this message.")])],1),e._v(" "),a("PanelListItem",{attrs:{number:"7",last:!0}},[a("p",[e._v("After the game has been forfeited:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgdHggY2hlY2tlcnMgY3JlYXRlLWdhbWUgXAogICAgJGFsaWNlICRib2IgMTAwMDAwMCBcCiAgICAtLWZyb20gJGFsaWNlIC15CiQgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIHBsYXktbW92ZSAyIDEgMiAyIDMgLS1mcm9tICRhbGljZSAteQokIGNoZWNrZXJzZCB0eCBjaGVja2VycyBwbGF5LW1vdmUgMiAwIDUgMSA0IC0tZnJvbSAkYm9iIC15CiQgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMiBiIDIgMyAwIDUK"}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIGNyZWF0ZS1nYW1lIFwKICAgICRhbGljZSAkYm9iIDEwMDAwMDAgXAogICAgLS1mcm9tICRhbGljZSAteQokIGRvY2tlciBleGVjIC1pdCBjaGVja2VycyBcCiAgICBjaGVja2Vyc2QgdHggY2hlY2tlcnMgcGxheS1tb3ZlIDIgMSAyIDIgMyAtLWZyb20gJGFsaWNlIC15CiQgZG9ja2VyIGV4ZWMgLWl0IGNoZWNrZXJzIFwKICAgIGNoZWNrZXJzZCB0eCBjaGVja2VycyBwbGF5LW1vdmUgMiAwIDUgMSA0IC0tZnJvbSAkYm9iIC15CiQgZG9ja2VyIGV4ZWMgLWl0IGNoZWNrZXJzIFwKICAgIGNoZWNrZXJzZCBxdWVyeSBjaGVja2VycyBjYW4tcGxheS1tb3ZlIDIgYiAyIDMgMCA1Cg=="}})],1)],1),e._v(" "),a("p",[e._v("If black tries to capture a red piece on a running game, it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IHRydWUKcmVhc29uOiBvawo="}}),e._v(" "),a("p",[e._v("Wait five minutes for the forfeit:")]),e._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"Local",active:""}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgY2FuLXBsYXktbW92ZSAyIGIgMiAzIDAgNQo="}})],1),e._v(" "),a("CodeGroupItem",{attrs:{title:"Docker"}},[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGNhbi1wbGF5LW1vdmUgMiBiIDIgMyAwIDUK"}})],1)],1),e._v(" "),a("p",[e._v("Now it returns:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"cG9zc2libGU6IGZhbHNlCnJlYXNvbjogZ2FtZSBpcyBhbHJlYWR5IGZpbmlzaGVkCg=="}})],1)],1),e._v(" "),a("p",[e._v("These query results satisfy our expectations.")]),e._v(" "),a("HighlightBox",{attrs:{type:"synopsis"}},[a("p",[e._v("To summarize, this section has explored:")]),e._v(" "),a("ul",[a("li",[e._v("How application usability can be improved with queries, such as by avoiding the cost of sending "),a("em",[e._v("technically")]),e._v(" valid transactions which will nevertheless inevitably be rejected due to the application's current state.")]),e._v(" "),a("li",[e._v("How queries allow the user to evaluate the application state in read-only mode, without committing anything permanently to storage, with the result that a planned transaction can be judged as acceptable or not before burning gas.")]),e._v(" "),a("li",[e._v("How effective query construction will allow the application to signal not just that a planned transaction will fail but also the "),a("em",[e._v("reason")]),e._v(" it will fail, improving the user's knowledge base for future actions.")]),e._v(" "),a("li",[e._v("How to create a query object with Ignite CLI; implement appropriate answers to a player's query; perform integration tests which extrapolate on the application's actual current state; and interact via the CLI to test the effectiveness of the query object.")])])])],1)}),[],!1,null,null,null);t.default=c.exports}}]);