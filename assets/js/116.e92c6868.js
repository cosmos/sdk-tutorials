(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{621:function(e,o,t){"use strict";t.r(o);var a=t(0),s=Object(a.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"updating-the-ui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#updating-the-ui"}},[e._v("#")]),e._v(" Updating the UI")]),e._v(" "),t("p",[e._v("At this point, we have a functioning blockchain. Now, we can add a UI to upload file hashes from our browser.")]),e._v(" "),t("p",[e._v("First, start by navigating to "),t("code",[e._v("localhost:8080")]),e._v(", which hosts our vue applicaton.")]),e._v(" "),t("h2",{attrs:{id:"creating-a-new-component"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-new-component"}},[e._v("#")]),e._v(" Creating a new Component")]),e._v(" "),t("p",[e._v("In order to make it easier for users to upload a hash to the blockchain, we will create a new component that lets someone drag and drop a file into the UI. The component will calculate the file hash, and the user will have the option to upload this proof as a claim.")]),e._v(" "),t("p",[e._v("We can create a new folder and file called "),t("code",[e._v("vue/src/components/DropZone.vue")]),e._v(" with following content:")]),e._v(" "),t("h4",{attrs:{id:"vue-src-components-dropzone-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-src-components-dropzone-vue"}},[e._v("#")]),e._v(" "),t("code",[e._v("vue/src/components/DropZone.vue")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"vue",base64:"Jmx0O3RlbXBsYXRlJmd0OwogICAgJmx0O2RpdiZndDsmbHQ7L2RpdiZndDsKJmx0Oy90ZW1wbGF0ZSZndDsKJmx0O3N0eWxlJmd0OyZsdDsvc3R5bGUmZ3Q7Cg=="}}),e._v(" "),t("p",[e._v("Import and add our new component "),t("code",[e._v("DragZone")]),e._v(" into our "),t("code",[e._v("vue/src/views/Index.vue")]),e._v(" file within "),t("code",[e._v("<script><\/script>")]),e._v(" tags:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"vue",base64:"aW1wb3J0IERyb3Bab25lIGZyb20gJnF1b3Q7QC9jb21wb25lbnRzL0Ryb3Bab25lJnF1b3Q7OwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgLi4uc3AsIERyb3Bab25lIH0sCn07Cg=="}}),e._v(" "),t("h4",{attrs:{id:"index-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#index-vue"}},[e._v("#")]),e._v(" "),t("code",[e._v("Index.vue")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"vue",base64:"Jmx0O3RlbXBsYXRlJmd0OwogICZsdDtkaXYmZ3Q7CiAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O3NwLWNvbnRhaW5lciZxdW90OyZndDsKICAgICAgJmx0O3NwLXNpZ24taW4gLyZndDsKICAgICAgJmx0O3NwLWJhbmstYmFsYW5jZXMgLyZndDsKICAgICAgJmx0O3NwLXRva2VuLXNlbmQgLyZndDsKICAgICAgJmx0O2Ryb3Atem9uZSAvJmd0OwogICAgICAmbHQ7IS0tIHRoaXMgbGluZSBpcyB1c2VkIGJ5IHN0YXJwb3J0IHNjYWZmb2xkaW5nICMgNCAtLSZndDsKICAgICAgJmx0O3NwLXR5cGUtZm9ybSB0eXBlPSZxdW90O2NsYWltJnF1b3Q7IDpmaWVsZHM9JnF1b3Q7Wydwcm9vZiddJnF1b3Q7IC8mZ3Q7CiAgICAmbHQ7L2RpdiZndDsKICAmbHQ7L2RpdiZndDsKJmx0Oy90ZW1wbGF0ZSZndDsKCiZsdDtzY3JpcHQmZ3Q7CmltcG9ydCAqIGFzIHNwIGZyb20gJnF1b3Q7QHRlbmRlcm1pbnQvdnVlJnF1b3Q7OwppbXBvcnQgRHJvcFpvbmUgZnJvbSAmcXVvdDtAL2NvbXBvbmVudHMvRHJvcFpvbmUmcXVvdDs7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyAuLi5zcCwgRHJvcFpvbmUgfSwKfTsKJmx0Oy9zY3JpcHQmZ3Q7Cg=="}}),e._v(" "),t("p",[e._v("Now, we should see our UI update whenever we add something to our component.")]),e._v(" "),t("h2",{attrs:{id:"component-layout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#component-layout"}},[e._v("#")]),e._v(" Component layout")]),e._v(" "),t("p",[e._v("Next, let's add some elements to create the layout for our component.")]),e._v(" "),t("p",[e._v("We will be reusing a few components from the "),t("code",[e._v("@tendermint/vue")]),e._v(" component library, as well as creating our own drop zone.")]),e._v(" "),t("h3",{attrs:{id:"vue-src-components-dropzone-vue-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-src-components-dropzone-vue-2"}},[e._v("#")]),e._v(" "),t("code",[e._v("vue/src/components/DropZone.vue")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"vue",base64:"Jmx0O3RlbXBsYXRlJmd0OwogICZsdDtkaXYmZ3Q7CiAgICAmbHQ7c3AtaDMmZ3Q7Q2FsY3VsYXRlIFByb29mJmx0Oy9zcC1oMyZndDsKICAgICZsdDtkaXYgaWQ9JnF1b3Q7ZHJvcC16b25lJnF1b3Q7IEBkcm9wLnByZXZlbnQ9JnF1b3Q7aGFzaCZxdW90OyBAZHJhZ292ZXIucHJldmVudCZndDsKICAgICAge3sgaGFzaGVkIHx8IHBsYWNlaG9sZGVyVGV4dCB9fQogICAgJmx0Oy9kaXYmZ3Q7CiAgICAmbHQ7c3AtYnV0dG9uCiAgICAgIEBjbGljaz0mcXVvdDtzdWJtaXQmcXVvdDsKICAgICAgOmxvYWRpbmc9JnF1b3Q7ZmxpZ2h0JnF1b3Q7CiAgICAgIDpkaXNhYmxlZD0mcXVvdDtoYXNoZWQgPT0gJycgfHwgZmxpZ2h0JnF1b3Q7CiAgICAgICZndDtTdWJtaXQgUHJvb2YgYXMgYSBuZXcgQ2xhaW0mbHQ7L3NwLWJ1dHRvbgogICAgJmd0OwogICZsdDsvZGl2Jmd0OwombHQ7L3RlbXBsYXRlJmd0OwoKJmx0O3N0eWxlIHNjb3BlZCZndDsKI2Ryb3Atem9uZSB7CiAgZm9udC1mYW1pbHk6ICZxdW90O0ludGVyJnF1b3Q7LCAmcXVvdDtIZWx2ZXRpY2EmcXVvdDssIHNhbnMtc2VyaWY7CiAgaGVpZ2h0OiAyMHJlbTsKICBsaW5lLWhlaWdodDogMjByZW07CiAgZm9udC1zaXplOiAxLjI1cmVtOwogIGJhY2tncm91bmQtY29sb3I6IHJnYigyNDcsIDI0NywgMjQ3KTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luLWJvdHRvbTogMnJlbTsKICBib3JkZXItcmFkaXVzOiAwLjVyZW07Cn0KJmx0Oy9zdHlsZSZndDsK"}}),e._v(" "),t("p",[e._v("Back to "),t("code",[e._v("vue/src/views/Index.vue")]),e._v(", add the following JavaScript code right after previous section added in "),t("code",[e._v("<script><\/script>")]),e._v(" tags:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"aW1wb3J0IHsgU3BIMywgU3BCdXR0b24gfSBmcm9tICZxdW90O0B0ZW5kZXJtaW50L3Z1ZSZxdW90OzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTcEgzLAogICAgU3BCdXR0b24sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxhY2Vob2xkZXJUZXh0OiAmcXVvdDtEcmFnIGFuZCBkcm9wIGEgZmlsZSBoZXJlJnF1b3Q7LAogICAgICBoYXNoZWQ6ICZxdW90OyZxdW90OywKICAgICAgZmxpZ2h0OiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYXNoKGUpIHt9LAogICAgYXN5bmMgc3VibWl0KCkge30sCiAgfQp9Cg=="}}),e._v(" "),t("h2",{attrs:{id:"implementing-our-hash-functionality"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#implementing-our-hash-functionality"}},[e._v("#")]),e._v(" Implementing our hash functionality")]),e._v(" "),t("p",[e._v("As mentioned earlier, we want to be able to upload a file to the browser, calculate its hash, and submitting our hash to the blockchain.")]),e._v(" "),t("p",[e._v("First, we will add the "),t("code",[e._v("js-sha256")]),e._v(" package. Let's install it via "),t("code",[e._v("npm")]),e._v(", and "),t("strong",[e._v("make sure we're in the")]),e._v(" "),t("code",[e._v("vue/")]),e._v(" "),t("strong",[e._v("directory when we run the following command")]),e._v(".")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bnBtIGluc3RhbGwgLS1zYXZlIGpzLXNoYTI1Ngo="}}),e._v(" "),t("p",[e._v("Once installed, we can add the "),t("code",[e._v("import")]),e._v(" and "),t("code",[e._v("hash(e){}")]),e._v(" functionality for creating the hash:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"aW1wb3J0IHsgc2hhMjU2IH0gZnJvbSAmcXVvdDtqcy1zaGEyNTYmcXVvdDs7CgouLi4KICBtZXRob2RzOiB7CiAgICBoYXNoKGUpIHsKICAgICAgY29uc3QgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5pdGVtczsKICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHJldHVybjsKICAgICAgLy8gUmVhZCB0aGUgZmlsZSBhbmQgaGFzaCBpdAogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIub25sb2FkID0gKGV2KSA9Jmd0OyB7CiAgICAgICAgdGhpcy5oYXNoZWQgPSBzaGEyNTYoZXYudGFyZ2V0LnJlc3VsdCk7CiAgICAgIH07CiAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlc1swXS5nZXRBc0ZpbGUoKSk7CiAgICB9LAo="}}),e._v(" "),t("p",[e._v("And now we can add our "),t("code",[e._v("submit(){}")]),e._v(" function, which will dispatch actions to the "),t("code",[e._v("cosmos")]),e._v(" store for submitting and fetching things from our blockchain.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"ICAgIGFzeW5jIHN1Ym1pdCgpIHsKICAgICAgLy8gU3VibWl0CiAgICAgIHRoaXMuZmxpZ2h0ID0gdHJ1ZTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJnF1b3Q7Y29zbW9zL2VudGl0eVN1Ym1pdCZxdW90OywgewogICAgICAgIHR5cGU6ICZxdW90O2NsYWltJnF1b3Q7LAogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHByb29mOiB0aGlzLmhhc2hlZCwKICAgICAgICB9LAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJnF1b3Q7Y29zbW9zL2VudGl0eUZldGNoJnF1b3Q7LCB7CiAgICAgICAgdHlwZTogJnF1b3Q7Y2xhaW0mcXVvdDssCiAgICAgIH0pOwoKICAgICAgLy8gQ2xlYXIgZmllbGRzCiAgICAgIHRoaXMuZmxpZ2h0ID0gZmFsc2U7CiAgICAgIHRoaXMuaGFzaGVkID0gJnF1b3Q7JnF1b3Q7OwogICAgfSwK"}}),e._v(" "),t("p",[e._v("Voil√†! We can now log in using the mnemonic provided when running the "),t("code",[e._v("starport serve")]),e._v(" command, and start uploading proof of files as claims to the blockchain!")]),e._v(" "),t("p",[e._v("Congratulations, your app is complete!")])],1)}),[],!1,null,null,null);o.default=s.exports}}]);