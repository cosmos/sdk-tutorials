(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{608:function(l,c,e){"use strict";e.r(c);var Z=e(0),g=Object(Z.a)({},(function(){var l=this,c=l.$createElement,e=l._self._c||c;return e("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[e("h1",{attrs:{id:"initialize-the-orders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#initialize-the-orders"}},[l._v("#")]),l._v(" Initialize the Orders")]),l._v(" "),e("p",[l._v("In this chapter you will initialize the bank keeper into "),e("code",[l._v("ibcdex")]),l._v(" and update the module in the "),e("code",[l._v("app.go")]),l._v(" file.\nYou will make sure that there can be no new native tokens minted on a blockchain, which will secure the exchange module from any counterparty misbehaviour.")]),l._v(" "),e("h2",{attrs:{id:"add-the-bank-keeper-to-the-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-the-bank-keeper-to-the-module"}},[l._v("#")]),l._v(" Add the bank keeper to the module")]),l._v(" "),e("p",[l._v("Add the bank keeper reference to the "),e("code",[l._v("ibcdex")]),l._v(" module. First, in the "),e("code",[l._v("types")]),l._v(" directory.")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgvdHlwZXMvZXhwZWN0ZWRfa2VlcGVyLmdvCnBhY2thZ2UgdHlwZXMKCmltcG9ydCBzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwoKLy8gQmFua0tlZXBlciBkZWZpbmVzIHRoZSBleHBlY3RlZCBiYW5rIGtlZXBlcgp0eXBlIEJhbmtLZWVwZXIgaW50ZXJmYWNlIHsKCVNlbmRDb2lucyhjdHggc2RrLkNvbnRleHQsIGZyb21BZGRyIHNkay5BY2NBZGRyZXNzLCB0b0FkZHIgc2RrLkFjY0FkZHJlc3MsIGFtdCBzZGsuQ29pbnMpIGVycm9yCglNaW50Q29pbnMoY3R4IHNkay5Db250ZXh0LCBtb2R1bGVOYW1lIHN0cmluZywgYW10IHNkay5Db2lucykgZXJyb3IKCUJ1cm5Db2lucyhjdHggc2RrLkNvbnRleHQsIG1vZHVsZU5hbWUgc3RyaW5nLCBhbXQgc2RrLkNvaW5zKSBlcnJvcgoJU2VuZENvaW5zRnJvbU1vZHVsZVRvQWNjb3VudChjdHggc2RrLkNvbnRleHQsIHNlbmRlck1vZHVsZSBzdHJpbmcsIHJlY2lwaWVudEFkZHIgc2RrLkFjY0FkZHJlc3MsIGFtdCBzZGsuQ29pbnMpIGVycm9yCglTZW5kQ29pbnNGcm9tQWNjb3VudFRvTW9kdWxlKGN0eCBzZGsuQ29udGV4dCwgc2VuZGVyQWRkciBzZGsuQWNjQWRkcmVzcywgcmVjaXBpZW50TW9kdWxlIHN0cmluZywgYW10IHNkay5Db2lucykgZXJyb3IKfQo="}}),l._v(" "),e("p",[l._v("Next, in the "),e("code",[l._v("keeper")]),l._v(" directory, specify the bank so that you can access it in your module.")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL2tlZXBlci5nbwp0eXBlICgKCUtlZXBlciBzdHJ1Y3QgewoJCWNkYyAgICAgICAgICAgY29kZWMuTWFyc2hhbGVyCgkJc3RvcmVLZXkgICAgICBzZGsuU3RvcmVLZXkKCQltZW1LZXkgICAgICAgIHNkay5TdG9yZUtleQoJCWNoYW5uZWxLZWVwZXIgdHlwZXMuQ2hhbm5lbEtlZXBlcgoJCXBvcnRLZWVwZXIgICAgdHlwZXMuUG9ydEtlZXBlcgoJCXNjb3BlZEtlZXBlciAgY2FwYWJpbGl0eWtlZXBlci5TY29wZWRLZWVwZXIKCQliYW5rS2VlcGVyICAgIHR5cGVzLkJhbmtLZWVwZXIgIC8vICZsdDstLQoJfQopCgpmdW5jIE5ld0tlZXBlcigKCWNkYyBjb2RlYy5NYXJzaGFsZXIsCglzdG9yZUtleSwKCW1lbUtleSBzZGsuU3RvcmVLZXksCgljaGFubmVsS2VlcGVyIHR5cGVzLkNoYW5uZWxLZWVwZXIsCglwb3J0S2VlcGVyIHR5cGVzLlBvcnRLZWVwZXIsCglzY29wZWRLZWVwZXIgY2FwYWJpbGl0eWtlZXBlci5TY29wZWRLZWVwZXIsCgliYW5rS2VlcGVyIHR5cGVzLkJhbmtLZWVwZXIsICAvLyAmbHQ7LS0KKSAqS2VlcGVyIHsKCXJldHVybiAmYW1wO0tlZXBlcnsKCQljZGM6ICAgICAgICAgICBjZGMsCgkJc3RvcmVLZXk6ICAgICAgc3RvcmVLZXksCgkJbWVtS2V5OiAgICAgICAgbWVtS2V5LAoJCWNoYW5uZWxLZWVwZXI6IGNoYW5uZWxLZWVwZXIsCgkJcG9ydEtlZXBlcjogICAgcG9ydEtlZXBlciwKCQlzY29wZWRLZWVwZXI6ICBzY29wZWRLZWVwZXIsCgkJYmFua0tlZXBlcjogICAgYmFua0tlZXBlciwgIC8vICZsdDstLQoJfQp9Cg=="}}),l._v(" "),e("p",[l._v("Lastly, the "),e("code",[l._v("app.go")]),l._v(" file that describes which modules are used in the blockchain application, add the bank keeper to the "),e("code",[l._v("ibcdexKeeper")])]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwL2FwcC5nbwphcHAuaWJjZGV4S2VlcGVyID0gKmliY2RleGtlZXBlci5OZXdLZWVwZXIoCglhcHBDb2RlYywKCWtleXNbaWJjZGV4dHlwZXMuU3RvcmVLZXldLAoJa2V5c1tpYmNkZXh0eXBlcy5NZW1TdG9yZUtleV0sCglhcHAuSUJDS2VlcGVyLkNoYW5uZWxLZWVwZXIsCgkmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCXNjb3BlZEliY2RleEtlZXBlciwKCWFwcC5CYW5rS2VlcGVyLCAgLy8gJmx0Oy0tCikK"}}),l._v(" "),e("p",[l._v("The app will mint and burn token using the bank account. The use this feature, the module must have a "),e("em",[l._v("module account")]),l._v(". To enable the "),e("em",[l._v("module account")]),l._v(" you declare this permission in the "),e("em",[l._v("module account permissions")]),l._v(" structure of the auth module. This is done in "),e("code",[l._v("app.go")]),l._v(" file.")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwL2FwcC5nbwptYWNjUGVybXMgPSBtYXBbc3RyaW5nXVtdc3RyaW5newogICAgYXV0aHR5cGVzLkZlZUNvbGxlY3Rvck5hbWU6ICAgICBuaWwsCiAgICBkaXN0cnR5cGVzLk1vZHVsZU5hbWU6ICAgICAgICAgIG5pbCwKICAgIG1pbnR0eXBlcy5Nb2R1bGVOYW1lOiAgICAgICAgICAge2F1dGh0eXBlcy5NaW50ZXJ9LAogICAgc3Rha2luZ3R5cGVzLkJvbmRlZFBvb2xOYW1lOiAgICB7YXV0aHR5cGVzLkJ1cm5lciwgYXV0aHR5cGVzLlN0YWtpbmd9LAogICAgc3Rha2luZ3R5cGVzLk5vdEJvbmRlZFBvb2xOYW1lOiB7YXV0aHR5cGVzLkJ1cm5lciwgYXV0aHR5cGVzLlN0YWtpbmd9LAogICAgZ292dHlwZXMuTW9kdWxlTmFtZTogICAgICAgICAgICB7YXV0aHR5cGVzLkJ1cm5lcn0sCiAgICBpYmN0cmFuc2ZlcnR5cGVzLk1vZHVsZU5hbWU6ICAgIHthdXRodHlwZXMuTWludGVyLCBhdXRodHlwZXMuQnVybmVyfSwKICAgIGliY2RleHR5cGVzLk1vZHVsZU5hbWU6ICAgICAgICAge2F1dGh0eXBlcy5NaW50ZXIsIGF1dGh0eXBlcy5CdXJuZXJ9LCAvLyAmbHQ7LS0KfQo="}}),l._v(" "),e("h2",{attrs:{id:"ensure-no-native-token-is-minted"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ensure-no-native-token-is-minted"}},[l._v("#")]),l._v(" Ensure no native token is minted")]),l._v(" "),e("p",[l._v("Ensure that no new native tokens are minted in case the module is connected to a malicious or faulty counterparty. Rename this functionality into lock and unlock and reuse functions from "),e("code",[l._v("ibc-transfer")]),l._v(" module with an escrow address to ensure no new token creation.")]),l._v(" "),e("p",[l._v("For non-native tokens, use the "),e("em",[l._v("module accounts")]),l._v(" functionality.")]),l._v(" "),e("p",[l._v("To abstract the process of deciding if a token must be locked or burned, create the "),e("code",[l._v("SafeBurn")]),l._v(" and "),e("code",[l._v("SafeMint")]),l._v(" functions. Those functions will check if the denom is native to the chain or a voucher.")]),l._v(" "),e("p",[l._v("Consider that any denom starting with "),e("code",[l._v("ibc/")]),l._v(" is a voucher.")]),l._v(" "),e("p",[l._v("Define utilitary functions.")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL21pbnQuZ28KcGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglpYmN0cmFuc2ZlcnR5cGVzICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsveC9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3R5cGVzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL3VzZXJuYW1lL2ludGVyY2hhbmdlL3gvaWJjZGV4L3R5cGVzJnF1b3Q7CgkmcXVvdDtzdHJpbmdzJnF1b3Q7CikKCi8vIGlzSUJDVG9rZW4gY2hlY2tzIGlmIHRoZSB0b2tlbiBjYW1lIGZyb20gdGhlIElCQyBtb2R1bGUKZnVuYyBpc0lCQ1Rva2VuKGRlbm9tIHN0cmluZykgYm9vbCB7CglyZXR1cm4gc3RyaW5ncy5IYXNQcmVmaXgoZGVub20sICZxdW90O2liYy8mcXVvdDspCn0KCmZ1bmMgKGsgS2VlcGVyKSBTYWZlQnVybigKCWN0eCBzZGsuQ29udGV4dCwKCXBvcnQgc3RyaW5nLAoJY2hhbm5lbCBzdHJpbmcsCglzZW5kZXIgc2RrLkFjY0FkZHJlc3MsCglkZW5vbSBzdHJpbmcsCglhbW91bnQgaW50MzIsCikgZXJyb3IgewoJaWYgaXNJQkNUb2tlbihkZW5vbSkgewoJCS8vIEJ1cm4gdGhlIHRva2VucwoJCWlmIGVyciA6PSBrLkJ1cm5Ub2tlbnMoCgkJCWN0eCwgc2VuZGVyLAoJCQlzZGsuTmV3Q29pbihkZW5vbSwgc2RrLk5ld0ludChpbnQ2NChhbW91bnQpKSksCgkJKTsgZXJyICE9IG5pbCB7CgkJCXJldHVybiBlcnIKCQl9Cgl9IGVsc2UgewoJCS8vIExvY2sgdGhlIHRva2VuIHRvIHNlbmQKCQlpZiBlcnIgOj0gay5Mb2NrVG9rZW5zKAoJCQljdHgsCgkJCXBvcnQsCgkJCWNoYW5uZWwsCgkJCXNlbmRlciwKCQkJc2RrLk5ld0NvaW4oZGVub20sIHNkay5OZXdJbnQoaW50NjQoYW1vdW50KSkpLAoJCSk7IGVyciAhPSBuaWwgewoJCQlyZXR1cm4gZXJyCgkJfQoJfQoJcmV0dXJuIG5pbAp9CgpmdW5jIChrIEtlZXBlcikgU2FmZU1pbnQoCgljdHggc2RrLkNvbnRleHQsCglwb3J0IHN0cmluZywKCWNoYW5uZWwgc3RyaW5nLAoJcmVjZWl2ZXIgc2RrLkFjY0FkZHJlc3MsCglkZW5vbSBzdHJpbmcsCglhbW91bnQgaW50MzIsCikgZXJyb3IgewoJaWYgaXNJQkNUb2tlbihkZW5vbSkgewoJCS8vIE1pbnQgSUJDIHRva2VucwoJCWlmIGVyciA6PSBrLk1pbnRUb2tlbnMoCgkJCWN0eCwKCQkJcmVjZWl2ZXIsCgkJCXNkay5OZXdDb2luKGRlbm9tLCBzZGsuTmV3SW50KGludDY0KGFtb3VudCkpKSwKCQkpOyBlcnIgIT0gbmlsIHsKCQkJcmV0dXJuIGVycgoJCX0KCX0gZWxzZSB7CgkJLy8gVW5sb2NrIG5hdGl2ZSB0b2tlbnMKCQlpZiBlcnIgOj0gay5VbmxvY2tUb2tlbnMoCgkJCWN0eCwKCQkJcG9ydCwKCQkJY2hhbm5lbCwKCQkJcmVjZWl2ZXIsCgkJCXNkay5OZXdDb2luKGRlbm9tLCBzZGsuTmV3SW50KGludDY0KGFtb3VudCkpKSwKCQkpOyBlcnIgIT0gbmlsIHsKCQkJcmV0dXJuIGVycgoJCX0KCX0KCXJldHVybiBuaWwKfQoKZnVuYyAoayBLZWVwZXIpIEJ1cm5Ub2tlbnMoCgljdHggc2RrLkNvbnRleHQsCglzZW5kZXIgc2RrLkFjY0FkZHJlc3MsCgl0b2tlbnMgc2RrLkNvaW4sCikgZXJyb3IgewoJLy8gdHJhbnNmZXIgdGhlIGNvaW5zIHRvIHRoZSBtb2R1bGUgYWNjb3VudCBhbmQgYnVybiB0aGVtCglpZiBlcnIgOj0gay5iYW5rS2VlcGVyLlNlbmRDb2luc0Zyb21BY2NvdW50VG9Nb2R1bGUoCgkJY3R4LCBzZW5kZXIsIHR5cGVzLk1vZHVsZU5hbWUsIHNkay5OZXdDb2lucyh0b2tlbnMpLAoJKTsgZXJyICE9IG5pbCB7CgkJcmV0dXJuIGVycgoJfQoKCWlmIGVyciA6PSBrLmJhbmtLZWVwZXIuQnVybkNvaW5zKAoJCWN0eCwgdHlwZXMuTW9kdWxlTmFtZSwgc2RrLk5ld0NvaW5zKHRva2VucyksCgkpOyBlcnIgIT0gbmlsIHsKCQkvLyBOT1RFOiBzaG91bGQgbm90IGhhcHBlbiBhcyB0aGUgbW9kdWxlIGFjY291bnQgd2FzCgkJLy8gcmV0cmlldmVkIG9uIHRoZSBzdGVwIGFib3ZlIGFuZCBpdCBoYXMgZW5vdWdoIGJhbGFjZQoJCS8vIHRvIGJ1cm4uCgkJcGFuaWMoZm10LlNwcmludGYoJnF1b3Q7Y2Fubm90IGJ1cm4gY29pbnMgYWZ0ZXIgYSBzdWNjZXNzZnVsIHNlbmQgdG8gYSBtb2R1bGUgYWNjb3VudDogJXYmcXVvdDssIGVycikpCgl9CgoJcmV0dXJuIG5pbAp9CgpmdW5jIChrIEtlZXBlcikgTWludFRva2VucygKCWN0eCBzZGsuQ29udGV4dCwKCXJlY2VpdmVyIHNkay5BY2NBZGRyZXNzLAoJdG9rZW5zIHNkay5Db2luLAopIGVycm9yIHsKCS8vIG1pbnQgbmV3IHRva2VucyBpZiB0aGUgc291cmNlIG9mIHRoZSB0cmFuc2ZlciBpcyB0aGUgc2FtZSBjaGFpbgoJaWYgZXJyIDo9IGsuYmFua0tlZXBlci5NaW50Q29pbnMoCgkJY3R4LCB0eXBlcy5Nb2R1bGVOYW1lLCBzZGsuTmV3Q29pbnModG9rZW5zKSwKCSk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCgkvLyBzZW5kIHRvIHJlY2VpdmVyCglpZiBlcnIgOj0gay5iYW5rS2VlcGVyLlNlbmRDb2luc0Zyb21Nb2R1bGVUb0FjY291bnQoCgkJY3R4LCB0eXBlcy5Nb2R1bGVOYW1lLCByZWNlaXZlciwgc2RrLk5ld0NvaW5zKHRva2VucyksCgkpOyBlcnIgIT0gbmlsIHsKCQlwYW5pYyhmbXQuU3ByaW50ZigmcXVvdDt1bmFibGUgdG8gc2VuZCBjb2lucyBmcm9tIG1vZHVsZSB0byBhY2NvdW50IGRlc3BpdGUgcHJldmlvdXNseSBtaW50aW5nIGNvaW5zIHRvIG1vZHVsZSBhY2NvdW50OiAldiZxdW90OywgZXJyKSkKCX0KCglyZXR1cm4gbmlsCn0KCmZ1bmMgKGsgS2VlcGVyKSBMb2NrVG9rZW5zKAoJY3R4IHNkay5Db250ZXh0LAoJc291cmNlUG9ydCBzdHJpbmcsCglzb3VyY2VDaGFubmVsIHN0cmluZywKCXNlbmRlciBzZGsuQWNjQWRkcmVzcywKCXRva2VucyBzZGsuQ29pbiwKKSBlcnJvciB7CgkvLyBjcmVhdGUgdGhlIGVzY3JvdyBhZGRyZXNzIGZvciB0aGUgdG9rZW5zCgllc2Nyb3dBZGRyZXNzIDo9IGliY3RyYW5zZmVydHlwZXMuR2V0RXNjcm93QWRkcmVzcyhzb3VyY2VQb3J0LCBzb3VyY2VDaGFubmVsKQoKCS8vIGVzY3JvdyBzb3VyY2UgdG9rZW5zLiBJdCBmYWlscyBpZiBiYWxhbmNlIGluc3VmZmljaWVudAoJaWYgZXJyIDo9IGsuYmFua0tlZXBlci5TZW5kQ29pbnMoCgkJY3R4LCBzZW5kZXIsIGVzY3Jvd0FkZHJlc3MsIHNkay5OZXdDb2lucyh0b2tlbnMpLAoJKTsgZXJyICE9IG5pbCB7CgkJcmV0dXJuIGVycgoJfQoKCXJldHVybiBuaWwKfQoKZnVuYyAoayBLZWVwZXIpIFVubG9ja1Rva2VucygKCWN0eCBzZGsuQ29udGV4dCwKCXNvdXJjZVBvcnQgc3RyaW5nLAoJc291cmNlQ2hhbm5lbCBzdHJpbmcsCglyZWNlaXZlciBzZGsuQWNjQWRkcmVzcywKCXRva2VucyBzZGsuQ29pbiwKKSBlcnJvciB7CgkvLyBjcmVhdGUgdGhlIGVzY3JvdyBhZGRyZXNzIGZvciB0aGUgdG9rZW5zCgllc2Nyb3dBZGRyZXNzIDo9IGliY3RyYW5zZmVydHlwZXMuR2V0RXNjcm93QWRkcmVzcyhzb3VyY2VQb3J0LCBzb3VyY2VDaGFubmVsKQoKCS8vIGVzY3JvdyBzb3VyY2UgdG9rZW5zLiBJdCBmYWlscyBpZiBiYWxhbmNlIGluc3VmZmljaWVudAoJaWYgZXJyIDo9IGsuYmFua0tlZXBlci5TZW5kQ29pbnMoCgkJY3R4LCBlc2Nyb3dBZGRyZXNzLCByZWNlaXZlciwgc2RrLk5ld0NvaW5zKHRva2VucyksCgkpOyBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gZXJyCgl9CgoJcmV0dXJuIG5pbAp9Cg=="}}),l._v(" "),e("h2",{attrs:{id:"declare-the-denom"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#declare-the-denom"}},[l._v("#")]),l._v(" Declare the denom")]),l._v(" "),e("p",[l._v("As defined in the "),e("RouterLink",{attrs:{to:"/interchain-exchange/tutorial/01-app-design.html"}},[l._v("App Design")]),l._v(", token sent with IBC will create "),e("code",[l._v("voucher")]),l._v(" token.\nThe following rules apply:")],1),l._v(" "),e("ul",[e("li",[l._v("An external token received from a chain has a unique denom, referred to as "),e("code",[l._v("voucher")])]),l._v(" "),e("li",[l._v("When a token sent to a chain is received back, the chain can resolve the voucher and convert it back to the original token denomination")])]),l._v(" "),e("p",[l._v("Vouchers are hashes, therefore you must store which original denomination is related to a voucher, do this with an "),e("code",[l._v("indexed")]),l._v(" type transaction.")]),l._v(" "),e("p",[l._v("For a voucher, store the following information:")]),l._v(" "),e("ul",[e("li",[l._v("the source port ID")]),l._v(" "),e("li",[l._v("source channel ID")]),l._v(" "),e("li",[l._v("the original denom")])]),l._v(" "),e("p",[l._v("Define the methods to:")]),l._v(" "),e("ul",[e("li",[l._v("determine voucher from a port, channel and denom")]),l._v(" "),e("li",[l._v("save all voucher to resolve into original denoms")]),l._v(" "),e("li",[l._v("resolve vouchers")])]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL2Rlbm9tLmdvCnBhY2thZ2Uga2VlcGVyCgppbXBvcnQgKAoJc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKCWliY3RyYW5zZmVydHlwZXMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay94L2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdHlwZXMmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vdXNlcm5hbWUvaW50ZXJjaGFuZ2UveC9pYmNkZXgvdHlwZXMmcXVvdDsKKQoKLy8gVm91Y2hlckRlbm9tIHJldHVybnMgdGhlIHZvdWNoZXIgb2YgdGhlIGRlbm9tIGZyb20gdGhlIHBvcnQgSUQgYW5kIGNoYW5uZWwgSUQKLy8gYW5kIHNhdmVzIHRoZSBvcmlnaW4gaW4gdGhlIHN0b3JlCmZ1bmMgVm91Y2hlckRlbm9tKHBvcnQgc3RyaW5nLCBjaGFubmVsIHN0cmluZywgZGVub20gc3RyaW5nKSBzdHJpbmcgewoJLy8gc2luY2UgU2VuZFBhY2tldCBkaWQgbm90IHByZWZpeCB0aGUgZGVub21pbmF0aW9uLCB3ZSBtdXN0IHByZWZpeCBkZW5vbWluYXRpb24gaGVyZQoJc291cmNlUHJlZml4IDo9IGliY3RyYW5zZmVydHlwZXMuR2V0RGVub21QcmVmaXgocG9ydCwgY2hhbm5lbCkKCgkvLyBOT1RFOiBzb3VyY2VQcmVmaXggY29udGFpbnMgdGhlIHRyYWlsaW5nICZxdW90Oy8mcXVvdDsKCXByZWZpeGVkRGVub20gOj0gc291cmNlUHJlZml4ICsgZGVub20KCgkvLyBjb25zdHJ1Y3QgdGhlIGRlbm9taW5hdGlvbiB0cmFjZSBmcm9tIHRoZSBmdWxsIHJhdyBkZW5vbWluYXRpb24KCWRlbm9tVHJhY2UgOj0gaWJjdHJhbnNmZXJ0eXBlcy5QYXJzZURlbm9tVHJhY2UocHJlZml4ZWREZW5vbSkKCgl2b3VjaGVyIDo9IGRlbm9tVHJhY2UuSUJDRGVub20oKQoKCXJldHVybiB2b3VjaGVyWzoxNl0KfQoKLy8gU2F2ZVZvdWNoZXJEZW5vbSBzYXZlcyB0aGUgdm91Y2hlciBkZW5vbSB0byBiZSBhYmxlIHRvIGNvbnZlcnQgaXQgYmFjayBsYXRlcgpmdW5jIChrIEtlZXBlcikgU2F2ZVZvdWNoZXJEZW5vbShjdHggc2RrLkNvbnRleHQsIHBvcnQgc3RyaW5nLCBjaGFubmVsIHN0cmluZywgZGVub20gc3RyaW5nKSB7Cgl2b3VjaGVyIDo9IFZvdWNoZXJEZW5vbShwb3J0LCBjaGFubmVsLCBkZW5vbSkKCgkvLyBTdG9yZSB0aGUgb3JpZ2luIGRlbm9tCglfLCBzYXZlZCA6PSBrLkdldERlbm9tVHJhY2UoY3R4LCB2b3VjaGVyKQoJaWYgIXNhdmVkIHsKCQlrLlNldERlbm9tVHJhY2UoY3R4LCB0eXBlcy5EZW5vbVRyYWNlewoJCQlJbmRleDogICB2b3VjaGVyLAoJCQlQb3J0OiAgICBwb3J0LAoJCQlDaGFubmVsOiBjaGFubmVsLAoJCQlPcmlnaW46ICBkZW5vbSwKCQl9KQoJfQp9CgovLyBPcmlnaW5hbERlbm9tIHJldHVybnMgYmFjayB0aGUgb3JpZ2luYWwgZGVub20gb2YgdGhlIHZvdWNoZXIKLy8gRmFsc2UgaXMgcmV0dXJuZWQgaWYgdGhlIHBvcnQgSUQgYW5kIGNoYW5uZWwgSUQgcHJvdmlkZWQgYXJlIG5vdCB0aGUgb3JpZ2lucyBvZiB0aGUgdm91Y2hlcgpmdW5jIChrIEtlZXBlcikgT3JpZ2luYWxEZW5vbShjdHggc2RrLkNvbnRleHQsIHBvcnQgc3RyaW5nLCBjaGFubmVsIHN0cmluZywgdm91Y2hlciBzdHJpbmcpIChzdHJpbmcsIGJvb2wpIHsKCXRyYWNlLCBleGlzdCA6PSBrLkdldERlbm9tVHJhY2UoY3R4LCB2b3VjaGVyKQoJaWYgZXhpc3QgewoJCS8vIENoZWNrIGlmIG9yaWdpbmFsIHBvcnQgYW5kIGNoYW5uZWwKCQlpZiB0cmFjZS5Qb3J0ID09IHBvcnQgJmFtcDsmYW1wOyB0cmFjZS5DaGFubmVsID09IGNoYW5uZWwgewoJCQlyZXR1cm4gdHJhY2UuT3JpZ2luLCB0cnVlCgkJfQoJfQoKCS8vIE5vdCB0aGUgb3JpZ2luYWwgY2hhaW4KCXJldHVybiAmcXVvdDsmcXVvdDssIGZhbHNlCn0K"}}),l._v(" "),e("p",[l._v("In the next chapter, you will learn how to create the IBC packets for buy and sell orders. How to use packets that are received, acknowledged or timed out.")])],1)}),[],!1,null,null,null);c.default=g.exports}}]);