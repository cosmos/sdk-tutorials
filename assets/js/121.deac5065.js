(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{738:function(e,t,o){"use strict";o.r(t);var a=o(1),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"store-object"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#store-object"}},[e._v("#")]),e._v(" Store Object")]),e._v(" "),o("HighlightBox",{attrs:{type:"prerequisite"}},[o("p",[e._v("Make sure you have all you need before proceeding with the exercise:")]),e._v(" "),o("ul",[o("li",[e._v("You understand the concepts of "),o("RouterLink",{attrs:{to:"/academy/2-cosmos-concepts/2-accounts.html"}},[e._v("accounts")]),e._v(", "),o("RouterLink",{attrs:{to:"/academy/2-cosmos-concepts/6-protobuf.html"}},[e._v("Protobuf")]),e._v(", and "),o("RouterLink",{attrs:{to:"/academy/2-cosmos-concepts/7-multistore-keepers.html"}},[e._v("multistore")]),e._v(".")],1),e._v(" "),o("li",[e._v("Go is installed.")]),e._v(" "),o("li",[e._v("You have the bare blockchain scaffold codebase with a single module named "),o("code",[e._v("checkers")]),e._v(". If not, follow the "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/1-ignitecli.html"}},[e._v("previous steps")]),e._v(" or check out the "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/tree/ignite-start",target:"_blank",rel:"noopener noreferrer"}},[e._v("relevant version"),o("OutboundLink")],1),e._v(".")],1),e._v(" "),o("li",[e._v("You have the "),o("code",[e._v("checkers_i")]),e._v(" Docker image if you work with Docker. If not, follow the "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/1-ignitecli.html"}},[e._v("previous steps")]),e._v(".")],1)])]),e._v(" "),o("HighlightBox",{attrs:{type:"learning"}},[o("p",[e._v("In this section, you will handle:")]),e._v(" "),o("ul",[o("li",[e._v("The Stored Game object")]),e._v(" "),o("li",[e._v("Protobuf objects")]),e._v(" "),o("li",[e._v("Query.proto")]),e._v(" "),o("li",[e._v("Protobuf service interfaces")]),e._v(" "),o("li",[e._v("Your first unit test")]),e._v(" "),o("li",[e._v("Interactions via the command-line")])])]),e._v(" "),o("p",[e._v("In the "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/1-ignitecli.html"}},[e._v("Ignite CLI introduction section")]),e._v(" you learned how to start a completely new blockchain. Now it is time to dive deeper and explore how you can create a blockchain to play a decentralized game of checkers.")],1),e._v(" "),o("h2",{attrs:{id:"some-initial-thoughts"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#some-initial-thoughts"}},[e._v("#")]),e._v(" Some initial thoughts")]),e._v(" "),o("p",[e._v("As you are face-to-face with the proverbial blank page: where do you start?")]),e._v(" "),o("p",[e._v("A good place to start with is thinking about the objects you keep in storage. "),o("strong",[e._v("A game")]),e._v(", obviously... but what does any game have to keep in storage?")]),e._v(" "),o("p",[e._v("Questions to ask that could influence your design include, but are not limited to:")]),e._v(" "),o("ul",[o("li",[e._v("What is the lifecycle of a game?")]),e._v(" "),o("li",[e._v("How are participants selected to be in a game?")]),e._v(" "),o("li",[e._v("What fields make it possible to play across a span of time and transactions?")]),e._v(" "),o("li",[e._v("What fields make it possible to differentiate between different games?")]),e._v(" "),o("li",[e._v("How do you ensure safety against malice, sabotage, or even simple errors?")]),e._v(" "),o("li",[e._v("What limitations does your design "),o("strong",[e._v("intentionally")]),e._v(" impose on participants?")]),e._v(" "),o("li",[e._v("What limitations does your design "),o("strong",[e._v("unintentionally")]),e._v(" impose on participants?")])]),e._v(" "),o("p",[e._v("After thinking about what goes into each individual game, you should consider the demands of the wider system. In general terms, before you think about the commands that achieve what you seek, ask:")]),e._v(" "),o("ul",[o("li",[e._v("How do you lay games in storage?")]),e._v(" "),o("li",[e._v("How do you save and retrieve games?")])]),e._v(" "),o("p",[e._v("The goal here is not to finalize every conceivable game feature immediately. For instance, handling wagers or leaderboards can be left for another time. But there should be a basic game design good enough to accommodate future improvements.")]),e._v(" "),o("h2",{attrs:{id:"code-needs"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#code-needs"}},[e._v("#")]),e._v(" Code needs")]),e._v(" "),o("p",[o("strong",[e._v("Do not")]),e._v(" dive headlong into coding the rules of checkers in Go - examples will already exist which you can put to use. Your job is to make a blockchain that just happens to enable the game of checkers.")]),e._v(" "),o("p",[e._v("With that in mind:")]),e._v(" "),o("ul",[o("li",[e._v("What Ignite CLI commands will get you a long way when it comes to implementation?")]),e._v(" "),o("li",[e._v("How do you adjust what Ignite CLI created for you?")]),e._v(" "),o("li",[e._v("How would you unit-test your modest additions?")]),e._v(" "),o("li",[e._v("How would you use Ignite CLI to locally run a one-node blockchain and interact with it via the CLI to see what you get?")])]),e._v(" "),o("p",[e._v("Run the commands, make the adjustments, and run some tests regarding game storage. Do not go into deeper issues like messages and transactions yet.")]),e._v(" "),o("h3",{attrs:{id:"defining-the-rule-set"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#defining-the-rule-set"}},[e._v("#")]),e._v(" Defining the rule set")]),e._v(" "),o("p",[e._v("A good start to developing a checkers blockchain is to define the rule set of the game. There are many versions of the rules. Choose "),o("a",{attrs:{href:"https://www.ducksters.com/games/checkers_rules.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("a very simple set of basic rules"),o("OutboundLink")],1),e._v(" to avoid getting lost in the rules of checkers or the proper implementation of the board state.")]),e._v(" "),o("p",[e._v("Use "),o("a",{attrs:{href:"https://github.com/batkinson/checkers-go/blob/a09daeb/checkers/checkers.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("a ready-made implementation"),o("OutboundLink")],1),e._v(" with the additional rule that the board is 8x8, is played on black cells, and black plays first. This code will not need adjustments. Copy this rules file into a "),o("code",[e._v("rules")]),e._v(" folder inside your module. Change its package from "),o("code",[e._v("checkers")]),e._v(" to "),o("code",[e._v("rules")]),e._v(". You can do this by command-line:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciB4L2NoZWNrZXJzL3J1bGVzCiQgY3VybCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYmF0a2luc29uL2NoZWNrZXJzLWdvL2EwOWRhZWIxNTQ4ZGQ0Y2MwMTQ1ZDg3YzhkYTNlZDJlYTMzYTYyZTMvY2hlY2tlcnMvY2hlY2tlcnMuZ28gfCBzZWQgJ3MvcGFja2FnZSBjaGVja2Vycy9wYWNrYWdlIHJ1bGVzLycgJmd0OyB4L2NoZWNrZXJzL3J1bGVzL2NoZWNrZXJzLmdvCg=="}}),e._v(" "),o("p",[e._v("Do not focus on the GUI, this procedure lays the foundation for an interface.")]),e._v(" "),o("p",[e._v("Now it is time to create the first object.")]),e._v(" "),o("h2",{attrs:{id:"the-stored-game-object"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#the-stored-game-object"}},[e._v("#")]),e._v(" The stored game object")]),e._v(" "),o("p",[e._v("Begin with the minimum game information needed to be stored:")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Black player.")]),e._v(" A string, the serialized address.")]),e._v(" "),o("li",[o("strong",[e._v("Red player.")]),e._v(" A string, the serialized address.")]),e._v(" "),o("li",[o("strong",[e._v("Board proper.")]),e._v(" A string, the board as it is serialized by the "),o("em",[e._v("rules")]),e._v(" file.")]),e._v(" "),o("li",[o("strong",[e._v("Player to play next.")]),e._v(" A string, specifying whose "),o("em",[e._v("turn")]),e._v(" it is.")])]),e._v(" "),o("HighlightBox",{attrs:{type:"remember"}},[o("p",[e._v("When you save strings, it makes it easier to understand what comes straight out of storage, but at the expense of storage space. As an advanced consideration, you could store the same information in binary.")])]),e._v(" "),o("h3",{attrs:{id:"how-to-store"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-to-store"}},[e._v("#")]),e._v(" How to store")]),e._v(" "),o("p",[e._v("After you know "),o("strong",[e._v("what")]),e._v(" to store, you have to decide "),o("strong",[e._v("how")]),e._v(" to store a game. This is important if you want your blockchain application to accommodate multiple simultaneous games. The game is identified by a unique ID.")]),e._v(" "),o("p",[e._v("How should you generate the ID? If you let players choose it themselves, this could lead to transactions failing because of an ID clash. You cannot rely on a large random number like a universally unique identifier (UUID), because transactions have to be verifiable in the future. Verifiable means that nodes verifying the block need to arrive at the same conclusion. However, the "),o("code",[e._v("new UUID()")]),e._v(" command is not deterministic. In this context, it is better to have a counter incrementing on each new game. This is possible because the code execution happens in a single thread.")]),e._v(" "),o("p",[e._v("The counter must be kept in storage between transactions. Instead of a single counter in storage, you can keep the counter in a unique object at a singular storage location, and easily add relevant elements to the object as needed in the future. Name the counter as "),o("code",[e._v("nextId")]),e._v(" and its container as "),o("code",[e._v("SystemInfo")]),e._v(".")]),e._v(" "),o("p",[e._v("As for the game type, you can name it as "),o("code",[e._v("StoredGame")]),e._v(".")]),e._v(" "),o("p",[e._v("You can rely on Ignite CLI's assistance for both the counter and the game:")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("For the counter and its container, you instruct Ignite CLI with "),o("code",[e._v("scaffold single")]),e._v(":")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgc2luZ2xlIHN5c3RlbUluZm8gbmV4dElkOnVpbnQgXAogICAgLS1tb2R1bGUgY2hlY2tlcnMgXAogICAgLS1uby1tZXNzYWdlCg=="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgaWduaXRlIHNjYWZmb2xkIHNpbmdsZSBzeXN0ZW1JbmZvIG5leHRJZDp1aW50IFwKICAgIC0tbW9kdWxlIGNoZWNrZXJzIFwKICAgIC0tbm8tbWVzc2FnZQo="}})],1)],1),e._v(" "),o("p",[e._v("In this command:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("nextId")]),e._v(" is explicitly made to be a "),o("code",[e._v("uint")]),e._v(". If you left it to Ignite's default, it would be a "),o("code",[e._v("string")]),e._v(".")]),e._v(" "),o("li",[e._v("You must add "),o("code",[e._v("--no-message")]),e._v(". If you omit it, Ignite CLI creates an "),o("code",[e._v("sdk.Msg")]),e._v(" and an associated service whose purpose is to overwrite your "),o("code",[e._v("SystemInfo")]),e._v(" object. However, your "),o("code",[e._v("SystemInfo.NextId")]),e._v(" must be controlled/incremented by the application and not by a player sending a value of their own choosing. Ignite CLI still creates convenient getters.")])])],1),e._v(" "),o("li",[o("p",[e._v("For the game type, because you are storing games by ID, you need a map. Instruct Ignite CLI with "),o("code",[e._v("scaffold map")]),e._v(" using the "),o("code",[e._v("StoredGame")]),e._v(" name:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgc2NhZmZvbGQgbWFwIHN0b3JlZEdhbWUgYm9hcmQgdHVybiBibGFjayByZWQgXAogICAgLS1pbmRleCBpbmRleCBcCiAgICAtLW1vZHVsZSBjaGVja2VycyBcCiAgICAtLW5vLW1lc3NhZ2UK"}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgaWduaXRlIHNjYWZmb2xkIG1hcCBzdG9yZWRHYW1lIGJvYXJkIHR1cm4gYmxhY2sgcmVkIFwKICAgIC0taW5kZXggaW5kZXggXAogICAgLS1tb2R1bGUgY2hlY2tlcnMgXAogICAgLS1uby1tZXNzYWdlCg=="}})],1)],1),e._v(" "),o("p",[e._v("In this command:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("board")]),e._v(", "),o("code",[e._v("turn")]),e._v(", "),o("code",[e._v("black")]),e._v(" and "),o("code",[e._v("red")]),e._v(" are by default strings, so there is no need to be explicit with for instance "),o("code",[e._v("board:string")]),e._v(".")]),e._v(" "),o("li",[o("code",[e._v("index")]),e._v(" is the id field picked, and anyway is the default name when scaffolding a map. "),o("code",[e._v("id")]),e._v(" cannot be chosen when scaffolding with Ignite.")]),e._v(" "),o("li",[o("code",[e._v("--no-message")]),e._v(" prevents game objects from being created or overwritten with a simple "),o("code",[e._v("sdk.Msg")]),e._v(". The application instead creates and updates the objects when receiving properly crafted messages like "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/4-create-message.html"}},[o("em",[e._v("create game")])]),e._v(" or "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/6-play-game.html"}},[o("em",[e._v("play a move")])]),e._v(".")],1)])],1)]),e._v(" "),o("p",[e._v("The Ignite CLI "),o("code",[e._v("scaffold")]),e._v(" command creates several files, as you can see "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/commit/d5a93bf",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/commit/8679295",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("HighlightBox",{attrs:{type:"node"}},[o("p",[e._v("Why have the game "),o("code",[e._v("index")]),e._v(" be a string when it is created out of "),o("code",[e._v("nextId")]),e._v(", a number?")]),e._v(" "),o("p",[e._v("The fact that the underlying value is parseable to a number is an artefact of its creation, and not a necessity:")]),e._v(" "),o("ul",[o("li",[e._v("By default, any object stored in a map has a string as its key, so you might as well stay within that standard.")]),e._v(" "),o("li",[e._v("At no other point in the code is there an embedded assumption that the game index is a number.")])]),e._v(" "),o("p",[e._v("Looking ahead, you should keep your data structure versatile.")])]),e._v(" "),o("h3",{attrs:{id:"looking-around"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#looking-around"}},[e._v("#")]),e._v(" Looking around")]),e._v(" "),o("p",[e._v("The command added new constants:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Y29uc3QgKAogICAgU3lzdGVtSW5mb0tleSA9ICZxdW90O1N5c3RlbUluZm8tdmFsdWUtJnF1b3Q7CikK",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/keys.go#L24-L26"}}),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Y29uc3QgKAogICAgU3RvcmVkR2FtZUtleVByZWZpeCA9ICZxdW90O1N0b3JlZEdhbWUvdmFsdWUvJnF1b3Q7CikK",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/key_stored_game.go#L7-L10"}}),e._v(" "),o("p",[e._v("These constants are used as prefixes for the keys that can access the storage location of objects.")]),e._v(" "),o("p",[e._v("In the case of games, the store model lets you "),o("em",[e._v("narrow")]),e._v(" the search. For instance:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"c3RvcmUgOj0gcHJlZml4Lk5ld1N0b3JlKGN0eC5LVlN0b3JlKGsuc3RvcmVLZXkpLCB0eXBlcy5LZXlQcmVmaXgodHlwZXMuU3RvcmVkR2FtZUtleVByZWZpeCkpCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/keeper/stored_game.go#L24"}}),e._v(" "),o("p",[e._v("This gets the store to access any game if you have its index:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"YiA6PSBzdG9yZS5HZXQodHlwZXMuU3RvcmVkR2FtZUtleSgKICAgIGluZGV4LAopKQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/keeper/stored_game.go#L26-L28"}}),e._v(" "),o("h3",{attrs:{id:"protobuf-objects"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-objects"}},[e._v("#")]),e._v(" Protobuf objects")]),e._v(" "),o("p",[e._v("Ignite CLI creates the Protobuf objects in the "),o("code",[e._v("proto")]),e._v(" directory before compiling them. The "),o("code",[e._v("SystemInfo")]),e._v(" object looks like this:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBTeXN0ZW1JbmZvIHsKICAgIHVpbnQ2NCBuZXh0SWQgPSAxOwp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/system_info.proto#L6-L8"}}),e._v(" "),o("p",[e._v("The "),o("code",[e._v("StoredGame")]),e._v(" object looks like this:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBTdG9yZWRHYW1lIHsKICAgIHN0cmluZyBpbmRleCA9IDE7CiAgICBzdHJpbmcgYm9hcmQgPSAyOwogICAgc3RyaW5nIHR1cm4gPSAzOwogICAgc3RyaW5nIGJsYWNrID0gNDsKICAgIHN0cmluZyByZWQgPSA1Owp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/stored_game.proto#L6-L12"}}),e._v(" "),o("p",[e._v("Both objects compile to:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBTeXN0ZW1JbmZvIHN0cnVjdCB7CiAgICBOZXh0SWQgdWludDY0IGBwcm90b2J1ZjomcXVvdDt2YXJpbnQsMSxvcHQsbmFtZT1uZXh0SWQscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7bmV4dElkLG9taXRlbXB0eSZxdW90O2AKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/system_info.pb.go#L25-L27"}}),e._v(" "),o("p",[e._v("And to:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBTdG9yZWRHYW1lIHN0cnVjdCB7CiAgICBJbmRleCBzdHJpbmcgYHByb3RvYnVmOiZxdW90O2J5dGVzLDEsb3B0LG5hbWU9aW5kZXgscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7aW5kZXgsb21pdGVtcHR5JnF1b3Q7YAogICAgQm9hcmQgc3RyaW5nIGBwcm90b2J1ZjomcXVvdDtieXRlcywyLG9wdCxuYW1lPWJvYXJkLHByb3RvMyZxdW90OyBqc29uOiZxdW90O2JvYXJkLG9taXRlbXB0eSZxdW90O2AKICAgIFR1cm4gIHN0cmluZyBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsMyxvcHQsbmFtZT10dXJuLHByb3RvMyZxdW90OyBqc29uOiZxdW90O3R1cm4sb21pdGVtcHR5JnF1b3Q7YAogICAgQmxhY2sgc3RyaW5nIGBwcm90b2J1ZjomcXVvdDtieXRlcyw0LG9wdCxuYW1lPWJsYWNrLHByb3RvMyZxdW90OyBqc29uOiZxdW90O2JsYWNrLG9taXRlbXB0eSZxdW90O2AKICAgIFJlZCAgIHN0cmluZyBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsNSxvcHQsbmFtZT1yZWQscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7cmVkLG9taXRlbXB0eSZxdW90O2AKfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/stored_game.pb.go#L25-L31"}}),e._v(" "),o("HighlightBox",{attrs:{type:"best-practice"}},[o("p",[e._v("At this point, note that "),o("code",[e._v("SystemInfo")]),e._v(" and "),o("code",[e._v("StoredGame")]),e._v(" do not have a field named "),o("em",[e._v("creator")]),e._v(". That is because they were created with the "),o("code",[e._v("--no-message")]),e._v(" flag. If you had omitted this flag, the message creator would always be saved into the object's creator. Like so:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBTeXN0ZW1JbmZvIHsKICAgIHN0cmluZyBjcmVhdG9yID0gMTsgLy8gSWYgeW91IGhhZCBvbWl0dGVkIC0tbm8tbWVzc2FnZQogICAgdWludDY0IG5leHRJZCA9IDI7Cn0K"}})],1),e._v(" "),o("p",[e._v("These are not the only created Protobuf objects. The genesis state is also defined in Protobuf:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"aW1wb3J0ICZxdW90O2NoZWNrZXJzL3N5c3RlbV9pbmZvLnByb3RvJnF1b3Q7OwppbXBvcnQgJnF1b3Q7Y2hlY2tlcnMvc3RvcmVkX2dhbWUucHJvdG8mcXVvdDs7CgptZXNzYWdlIEdlbmVzaXNTdGF0ZSB7CiAgICAuLi4KICAgIFN5c3RlbUluZm8gc3lzdGVtSW5mbyA9IDI7CiAgICByZXBlYXRlZCBTdG9yZWRHYW1lIHN0b3JlZEdhbWVMaXN0ID0gMyBbKGdvZ29wcm90by5udWxsYWJsZSkgPSBmYWxzZV07Cn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/4249ce1/proto/checkers/genesis.proto#L15-L16"}}),e._v(" "),o("p",[e._v("This is compiled to:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBHZW5lc2lzU3RhdGUgc3RydWN0IHsKICAgIFBhcmFtcyAgICAgICAgIFBhcmFtcyAgICAgICBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsMSxvcHQsbmFtZT1wYXJhbXMscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7cGFyYW1zJnF1b3Q7YAogICAgU3lzdGVtSW5mbyAgICAgKlN5c3RlbUluZm8gIGBwcm90b2J1ZjomcXVvdDtieXRlcywyLG9wdCxuYW1lPXN5c3RlbUluZm8scHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7c3lzdGVtSW5mbyxvbWl0ZW1wdHkmcXVvdDtgCiAgICBTdG9yZWRHYW1lTGlzdCBbXVN0b3JlZEdhbWUgYHByb3RvYnVmOiZxdW90O2J5dGVzLDMscmVwLG5hbWU9c3RvcmVkR2FtZUxpc3QscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7c3RvcmVkR2FtZUxpc3QmcXVvdDtgCn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis.pb.go#L26-L30"}}),e._v(" "),o("p",[e._v("You can find query objects as part of the boilerplate objects created by Ignite CLI. Ignite CLI creates the objects according to a model, but this does not prevent you from making changes later if you decide these queries are not needed:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBRdWVyeUdldFN5c3RlbUluZm9SZXF1ZXN0IHt9CgptZXNzYWdlIFF1ZXJ5R2V0U3lzdGVtSW5mb1Jlc3BvbnNlIHsKICAgIFN5c3RlbUluZm8gU3lzdGVtSW5mbyA9IDEgWyhnb2dvcHJvdG8ubnVsbGFibGUpID0gZmFsc2VdOwp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto#L46-L50"}}),e._v(" "),o("p",[e._v("The query objects for "),o("code",[e._v("StoredGame")]),e._v(" are more useful for your checkers game, and look like this:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBRdWVyeUdldFN0b3JlZEdhbWVSZXF1ZXN0IHsKICAgIHN0cmluZyBpbmRleCA9IDE7Cn0KCm1lc3NhZ2UgUXVlcnlHZXRTdG9yZWRHYW1lUmVzcG9uc2UgewogICAgU3RvcmVkR2FtZSBTdG9yZWRHYW1lID0gMSBbKGdvZ29wcm90by5udWxsYWJsZSkgPSBmYWxzZV07Cn0KCm1lc3NhZ2UgUXVlcnlBbGxTdG9yZWRHYW1lUmVxdWVzdCB7CiAgICBjb3Ntb3MuYmFzZS5xdWVyeS52MWJldGExLlBhZ2VSZXF1ZXN0IHBhZ2luYXRpb24gPSAxOwp9CgptZXNzYWdlIFF1ZXJ5QWxsU3RvcmVkR2FtZVJlc3BvbnNlIHsKICAgIHJlcGVhdGVkIFN0b3JlZEdhbWUgU3RvcmVkR2FtZSA9IDEgWyhnb2dvcHJvdG8ubnVsbGFibGUpID0gZmFsc2VdOwogICAgY29zbW9zLmJhc2UucXVlcnkudjFiZXRhMS5QYWdlUmVzcG9uc2UgcGFnaW5hdGlvbiA9IDI7Cn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto#L51-L67"}}),e._v(" "),o("h3",{attrs:{id:"how-ignite-cli-works"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-ignite-cli-works"}},[e._v("#")]),e._v(" How Ignite CLI works")]),e._v(" "),o("p",[e._v("Ignite CLI puts the different Protobuf messages into different files depending on their use:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto",target:"_blank",rel:"noopener noreferrer"}},[o("strong",[o("code",[e._v("query.proto")])]),o("OutboundLink")],1),e._v(" - for objects related to reading the state. Ignite CLI modifies this file whenever you instruct it to add queries. This includes objects to "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto#L46-L67",target:"_blank",rel:"noopener noreferrer"}},[e._v("query your stored elements"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/tx.proto",target:"_blank",rel:"noopener noreferrer"}},[o("strong",[o("code",[e._v("tx.proto")])]),o("OutboundLink")],1),e._v(" - for objects that relate to updating the state. As you have only defined storage elements with "),o("code",[e._v("--no-message")]),e._v(", it is empty for now. The file will be modified as you add transaction-related elements like the message to "),o("RouterLink",{attrs:{to:"/hands-on-exercise/1-ignite-cli/4-create-message.html"}},[e._v("create a game")]),e._v(".")],1),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/genesis.proto",target:"_blank",rel:"noopener noreferrer"}},[o("strong",[o("code",[e._v("genesis.proto")])]),o("OutboundLink")],1),e._v(" - for the genesis. Ignite CLI modifies this file according to how your new storage elements evolve.")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/system_info.proto",target:"_blank",rel:"noopener noreferrer"}},[o("strong",[o("code",[e._v("system_info.proto")])]),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/stored_game.proto",target:"_blank",rel:"noopener noreferrer"}},[o("strong",[o("code",[e._v("stored_game.proto")])]),o("OutboundLink")],1),e._v(" - separate files created once, that will remain untouched by Ignite CLI. You are free to modify them but be careful with "),o("a",{attrs:{href:"https://developers.google.com/protocol-buffers/docs/overview#assigning_field_numbers",target:"_blank",rel:"noopener noreferrer"}},[e._v("field numbering"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("p",[e._v("Files updated by Ignite CLI include comments like:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"Ly8gdGhpcyBsaW5lIGlzIHVzZWQgYnkgc3RhcnBvcnQgc2NhZmZvbGRpbmcgIyAyCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto#L34"}}),e._v(" "),o("HighlightBox",{attrs:{type:"tip"}},[o("p",[e._v("Ignite CLI adds code right below the comments, which explains why at times the oldest lines appear lower than recent ones. Make sure to keep these comments where they are so that Ignite CLI knows where to inject code in the future. You could add your code above or below the comments.")])]),e._v(" "),o("p",[e._v("Some files created by Ignite CLI can be updated, but you should not modify the Protobuf-compiled files "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/system_info.pb.go",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("*.pb.go")]),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/query.pb.gw.go",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("*.pb.gw.go")]),o("OutboundLink")],1),e._v(" as they are recreated on every re-run of "),o("code",[e._v("ignite generate proto-go")]),e._v(" or equivalent.")]),e._v(" "),o("h3",{attrs:{id:"files-to-adjust"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#files-to-adjust"}},[e._v("#")]),e._v(" Files to adjust")]),e._v(" "),o("p",[e._v("Ignite CLI creates files that you can and should update. For example, the default genesis values start as:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cmV0dXJuICZhbXA7R2VuZXNpc1N0YXRlewogICAgU3lzdGVtSW5mbzogICAgIG5pbCwKICAgIC4uLgp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis.go#L13"}}),e._v(" "),o("p",[e._v("This is not correct. Your chain needs to start with an initial system info. This raises the point that the genesis' "),o("code",[e._v("SystemInfo")]),e._v(" should in fact "),o("a",{attrs:{href:"https://pkg.go.dev/github.com/gogo/protobuf/gogoproto",target:"_blank",rel:"noopener noreferrer"}},[e._v("never be null"),o("OutboundLink")],1),e._v(". You can enforce that in "),o("code",[e._v("genesis.proto")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-protobuf",base64:"ICAgIG1lc3NhZ2UgR2VuZXNpc1N0YXRlIHsKICAgICAgICAuLi4KLSAgICAgIFN5c3RlbUluZm8gc3lzdGVtSW5mbyA9IDI7CisgICAgICBTeXN0ZW1JbmZvIHN5c3RlbUluZm8gPSAyIFsoZ29nb3Byb3RvLm51bGxhYmxlKSA9IGZhbHNlXTsKICAgICAgICAuLi4KICAgIH0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/proto/checkers/genesis.proto#L15"}}),e._v(" "),o("p",[e._v("After compilation, this "),o("code",[e._v("nullable = false")]),e._v(" flag changes the "),o("code",[e._v("SystemInfo")]),e._v(" type in genesis from a pointer to a straight value. Make sure you recompile:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgZ2VuZXJhdGUgcHJvdG8tZ28K"}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgaWduaXRlIGdlbmVyYXRlIHByb3RvLWdvCg=="}})],1)],1),e._v(" "),o("p",[e._v("Then set a default value for "),o("code",[e._v("SystemInfo")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGNvbnN0IERlZmF1bHRJbmRleCB1aW50NjQgPSAxCgogICAgZnVuYyBEZWZhdWx0R2VuZXNpcygpICpHZW5lc2lzU3RhdGUgewogICAgICAgIHJldHVybiAmYW1wO0dlbmVzaXNTdGF0ZXsKLSAgICAgICAgICBTeXN0ZW1JbmZvOiAgICAgbmlsLAorICAgICAgICAgIFN5c3RlbUluZm86IFN5c3RlbUluZm97CisgICAgICAgICAgICAgIE5leHRJZDogdWludDY0KERlZmF1bHRJbmRleCksCisgICAgICAgICAgfSwKICAgICAgICAgICAgU3RvcmVkR2FtZUxpc3Q6IFtdU3RvcmVkR2FtZXt9LAogICAgICAgICAgICAuLi4KICAgICAgICB9CiAgICB9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/genesis.go#L13-L15"}}),e._v(" "),o("p",[e._v("You can choose to start with no games or insert a number of games to start with. In either case, you must choose the first ID of the first future created game, which here is set at "),o("code",[e._v("1")]),e._v(" by reusing the "),o("code",[e._v("DefaultIndex")]),e._v(" value.")]),e._v(" "),o("p",[e._v("Do not forget to fix the "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/commit/58f4adc",target:"_blank",rel:"noopener noreferrer"}},[e._v("other compilation errors"),o("OutboundLink")],1),e._v(" due to the change of type.")]),e._v(" "),o("p",[e._v("As you can see, it is possible to adjust what Ignite CLI created.")]),e._v(" "),o("h3",{attrs:{id:"protobuf-service-interfaces"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-service-interfaces"}},[e._v("#")]),e._v(" Protobuf service interfaces")]),e._v(" "),o("p",[e._v("In addition to created objects, Ignite CLI also creates services that declare and define how to access the newly-created storage objects. Ignite CLI introduces empty service interfaces that can be filled as you add objects and messages when scaffolding a brand new module.")]),e._v(" "),o("p",[e._v("In this case, Ignite CLI added to "),o("code",[e._v("service Query")]),e._v(" how to query for your objects:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"c2VydmljZSBRdWVyeSB7CiAgICBycGMgUGFyYW1zKFF1ZXJ5UGFyYW1zUmVxdWVzdCkgcmV0dXJucyAoUXVlcnlQYXJhbXNSZXNwb25zZSkgewogICAgICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvYWxpY2UvY2hlY2tlcnMvY2hlY2tlcnMvcGFyYW1zJnF1b3Q7OwogICAgfQoKICAgIHJwYyBTeXN0ZW1JbmZvKFF1ZXJ5R2V0U3lzdGVtSW5mb1JlcXVlc3QpIHJldHVybnMgKFF1ZXJ5R2V0U3lzdGVtSW5mb1Jlc3BvbnNlKSB7CiAgICAgICAgb3B0aW9uIChnb29nbGUuYXBpLmh0dHApLmdldCA9ICZxdW90Oy9hbGljZS9jaGVja2Vycy9jaGVja2Vycy9zeXN0ZW1faW5mbyZxdW90OzsKICAgIH0KCiAgICBycGMgU3RvcmVkR2FtZShRdWVyeUdldFN0b3JlZEdhbWVSZXF1ZXN0KSByZXR1cm5zIChRdWVyeUdldFN0b3JlZEdhbWVSZXNwb25zZSkgewogICAgICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvYWxpY2UvY2hlY2tlcnMvY2hlY2tlcnMvc3RvcmVkX2dhbWUve2luZGV4fSZxdW90OzsKICAgIH0KCiAgICBycGMgU3RvcmVkR2FtZUFsbChRdWVyeUFsbFN0b3JlZEdhbWVSZXF1ZXN0KSByZXR1cm5zIChRdWVyeUFsbFN0b3JlZEdhbWVSZXNwb25zZSkgewogICAgICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvYWxpY2UvY2hlY2tlcnMvY2hlY2tlcnMvc3RvcmVkX2dhbWUmcXVvdDs7CiAgICB9Cn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/proto/checkers/query.proto#L15-L35"}}),e._v(" "),o("p",[e._v("Ignite CLI separates concerns into different files in the compilation of a service. Some should be edited and some should not. The following were prepared by Ignite CLI for your checkers game:")]),e._v(" "),o("ul",[o("li",[e._v("The "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/query.pb.go#L196-L198",target:"_blank",rel:"noopener noreferrer"}},[e._v("query parameters"),o("OutboundLink")],1),e._v(", as well as "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/query.pb.go#L741",target:"_blank",rel:"noopener noreferrer"}},[e._v("how to serialize"),o("OutboundLink")],1),e._v(" and make them conform to the right Protobuf "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/blob/331860c/abci/types/types.pb.go#L750-L755",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("RequestQuery")]),o("OutboundLink")],1),e._v(" interface.")]),e._v(" "),o("li",[e._v("The primary implementation of the gRPC service.")]),e._v(" "),o("li",[e._v("The implementation of all the storage "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/keeper/grpc_query_stored_game.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("setters and getters"),o("OutboundLink")],1),e._v(" as extra functions in the keeper.")]),e._v(" "),o("li",[e._v("The implementation of the storage getters in the keeper "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/keeper/grpc_query_stored_game.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("as they come from the gRPC server"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("h2",{attrs:{id:"additional-helper-functions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#additional-helper-functions"}},[e._v("#")]),e._v(" Additional helper functions")]),e._v(" "),o("p",[e._v("Your stored game's "),o("code",[e._v("black")]),e._v(" and "),o("code",[e._v("red")]),e._v(" fields are only strings, but they represent "),o("code",[e._v("sdk.AccAddress")]),e._v(" or even a game from the "),o("code",[e._v("rules")]),e._v(" file. Therefore, add helper functions to "),o("code",[e._v("StoredGame")]),e._v(" to facilitate operations on them. Create a new file "),o("code",[e._v("x/checkers/types/full_game.go")]),e._v(".")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Get the game's black player:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoc3RvcmVkR2FtZSBTdG9yZWRHYW1lKSBHZXRCbGFja0FkZHJlc3MoKSAoYmxhY2sgc2RrLkFjY0FkZHJlc3MsIGVyciBlcnJvcikgewogICAgYmxhY2ssIGVyckJsYWNrIDo9IHNkay5BY2NBZGRyZXNzRnJvbUJlY2gzMihzdG9yZWRHYW1lLkJsYWNrKQogICAgcmV0dXJuIGJsYWNrLCBzZGtlcnJvcnMuV3JhcGYoZXJyQmxhY2ssIEVyckludmFsaWRCbGFjay5FcnJvcigpLCBzdG9yZWRHYW1lLkJsYWNrKQp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game.go#L12-L15"}}),e._v(" "),o("p",[e._v("Note how it introduces a new error "),o("code",[e._v("ErrInvalidBlack")]),e._v(", which you define shortly. Do the same for the "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game.go#L17-L20",target:"_blank",rel:"noopener noreferrer"}},[e._v("red"),o("OutboundLink")],1),e._v(" player.")])],1),e._v(" "),o("li",[o("p",[e._v("Parse the game so that it can be played. The "),o("code",[e._v("Turn")]),e._v(" has to be set by hand:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoc3RvcmVkR2FtZSBTdG9yZWRHYW1lKSBQYXJzZUdhbWUoKSAoZ2FtZSAqcnVsZXMuR2FtZSwgZXJyIGVycm9yKSB7CiAgICBib2FyZCwgZXJyQm9hcmQgOj0gcnVsZXMuUGFyc2Uoc3RvcmVkR2FtZS5Cb2FyZCkKICAgIGlmIGVyckJvYXJkICE9IG5pbCB7CiAgICAgICAgcmV0dXJuIG5pbCwgc2RrZXJyb3JzLldyYXBmKGVyckJvYXJkLCBFcnJHYW1lTm90UGFyc2VhYmxlLkVycm9yKCkpCiAgICB9CiAgICBib2FyZC5UdXJuID0gcnVsZXMuU3RyaW5nUGllY2VzW3N0b3JlZEdhbWUuVHVybl0uUGxheWVyCiAgICBpZiBib2FyZC5UdXJuLkNvbG9yID09ICZxdW90OyZxdW90OyB7CiAgICAgICAgcmV0dXJuIG5pbCwgc2RrZXJyb3JzLldyYXBmKGZtdC5FcnJvcmYoJnF1b3Q7dHVybjogJXMmcXVvdDssIHN0b3JlZEdhbWUuVHVybiksIEVyckdhbWVOb3RQYXJzZWFibGUuRXJyb3IoKSkKICAgIH0KICAgIHJldHVybiBib2FyZCwgbmlsCn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game.go#L22-L32"}})],1),e._v(" "),o("li",[o("p",[e._v("Add a function that checks a game's validity:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoc3RvcmVkR2FtZSBTdG9yZWRHYW1lKSBWYWxpZGF0ZSgpIChlcnIgZXJyb3IpIHsKICAgIF8sIGVyciA9IHN0b3JlZEdhbWUuR2V0QmxhY2tBZGRyZXNzKCkKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHJldHVybiBlcnIKICAgIH0KICAgIF8sIGVyciA9IHN0b3JlZEdhbWUuR2V0UmVkQWRkcmVzcygpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4gZXJyCiAgICB9CiAgICBfLCBlcnIgPSBzdG9yZWRHYW1lLlBhcnNlR2FtZSgpCiAgICByZXR1cm4gZXJyCn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game.go#L34-L45"}})],1),e._v(" "),o("li",[o("p",[e._v("Introduce your own errors:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dmFyICgKICAgIEVyckludmFsaWRCbGFjayAgICAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTEwMCwgJnF1b3Q7YmxhY2sgYWRkcmVzcyBpcyBpbnZhbGlkOiAlcyZxdW90OykKICAgIEVyckludmFsaWRSZWQgICAgICAgPSBzZGtlcnJvcnMuUmVnaXN0ZXIoTW9kdWxlTmFtZSwgMTEwMSwgJnF1b3Q7cmVkIGFkZHJlc3MgaXMgaW52YWxpZDogJXMmcXVvdDspCiAgICBFcnJHYW1lTm90UGFyc2VhYmxlID0gc2RrZXJyb3JzLlJlZ2lzdGVyKE1vZHVsZU5hbWUsIDExMDIsICZxdW90O2dhbWUgY2Fubm90IGJlIHBhcnNlZCZxdW90OykKKQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/errors.go#L11-L14"}})],1)]),e._v(" "),o("h2",{attrs:{id:"unit-tests"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#unit-tests"}},[e._v("#")]),e._v(" Unit tests")]),e._v(" "),o("p",[e._v("Now that you have added some code on top of what Ignite CLI created for you, you should add unit tests. You will not add code to test the code generated by Ignite CLI, as your project is not yet ready to "),o("em",[e._v("test the framework")]),e._v(". However, Ignite CLI added some unit tests of its own. Run those for the keeper:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyB0ZXN0IGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMveC9jaGVja2Vycy9rZWVwZXIK"}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgZ28gdGVzdCBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL3gvY2hlY2tlcnMva2VlcGVyCg=="}})],1)],1),e._v(" "),o("p",[e._v("It should pass and return something like:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"b2sgICAgICBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL3gvY2hlY2tlcnMva2VlcGVyICAgICAwLjA4M3MK"}}),e._v(" "),o("h3",{attrs:{id:"your-first-unit-test"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#your-first-unit-test"}},[e._v("#")]),e._v(" Your first unit test")]),e._v(" "),o("p",[e._v("A good start is to test that the default genesis is created as expected. Ignite already created a unit test for the genesis in "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("x/checkers/types/genesis_test.go")]),o("OutboundLink")],1),e._v(". It runs simple validity tests on different genesis examples.")]),e._v(" "),o("p",[e._v("Take your time to understand how it works, as this testing pattern is reused elsewhere. "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L16-L53",target:"_blank",rel:"noopener noreferrer"}},[e._v("Three cases"),o("OutboundLink")],1),e._v(" are tested: "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L16-L20",target:"_blank",rel:"noopener noreferrer"}},[e._v("case 1"),o("OutboundLink")],1),e._v(", "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L21-L39",target:"_blank",rel:"noopener noreferrer"}},[e._v("case 2"),o("OutboundLink")],1),e._v(", and "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L40-L53",target:"_blank",rel:"noopener noreferrer"}},[e._v("case 3"),o("OutboundLink")],1),e._v(". In each case, there is a "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L13",target:"_blank",rel:"noopener noreferrer"}},[e._v("made-up genesis object"),o("OutboundLink")],1),e._v(", an "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L14",target:"_blank",rel:"noopener noreferrer"}},[e._v("expected validity result"),o("OutboundLink")],1),e._v(", and "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L12",target:"_blank",rel:"noopener noreferrer"}},[e._v("some text"),o("OutboundLink")],1),e._v(" to help the reader make sense of it. This "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L11",target:"_blank",rel:"noopener noreferrer"}},[e._v("array of cases"),o("OutboundLink")],1),e._v(" is then run through the "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/types/genesis_test.go#L56-L63",target:"_blank",rel:"noopener noreferrer"}},[e._v("test proper"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("The unit test you add is more modest. Your test checks that the starting id on a default genesis is "),o("code",[e._v("1")]),e._v(":")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBUZXN0RGVmYXVsdEdlbmVzaXNTdGF0ZV9FeHBlY3RlZEluaXRpYWxOZXh0SWQodCAqdGVzdGluZy5UKSB7CiAgICByZXF1aXJlLkVxdWFsVmFsdWVzKHQsCiAgICAgICAgJmFtcDt0eXBlcy5HZW5lc2lzU3RhdGV7CiAgICAgICAgICAgIFN0b3JlZEdhbWVMaXN0OiBbXXR5cGVzLlN0b3JlZEdhbWV7fSwKICAgICAgICAgICAgU3lzdGVtSW5mbzogICAgIHR5cGVzLlN5c3RlbUluZm97dWludDY0KDEpfSwKICAgICAgICB9LAogICAgICAgIHR5cGVzLkRlZmF1bHRHZW5lc2lzKCkpCn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/genesis_test.go#L67-L74"}}),e._v(" "),o("p",[e._v("To run it, use "),o("code",[e._v("go test")]),e._v(" with the package name:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyB0ZXN0IGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMveC9jaGVja2Vycy90eXBlcwo="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzIFwKICAgIGNoZWNrZXJzX2kgXAogICAgZ28gdGVzdCBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL3gvY2hlY2tlcnMvdHlwZXMK"}})],1)],1),e._v(" "),o("p",[e._v("This should return something like:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"b2sgICAgICBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL3gvY2hlY2tlcnMvdHlwZXMgICAgIDAuODE0cwo="}}),e._v(" "),o("p",[e._v("Alternatively, call it from the folder itself:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjZCB4L2NoZWNrZXJzL3R5cGVzLyAmYW1wOyZhbXA7IGdvIHRlc3QK"}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC12ICQocHdkKTovY2hlY2tlcnMgXAogICAgLXcgL2NoZWNrZXJzL3gvY2hlY2tlcnMvdHlwZXMgXAogICAgY2hlY2tlcnNfaSBcCiAgICBnbyB0ZXN0Cg=="}})],1)],1),e._v(" "),o("HighlightBox",{attrs:{type:"best-practice"}},[o("p",[e._v("You want your tests to pass when everything is okay, but you also want them to fail when something is wrong. Make sure your new test fails by temporarily changing "),o("code",[e._v("uint64(1)")]),e._v(" to "),o("code",[e._v("uint64(2)")]),e._v(". You should get the following:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"LS0tIEZBSUw6IFRlc3REZWZhdWx0R2VuZXNpc1N0YXRlX0V4cGVjdGVkSW5pdGlhbE5leHRJZCAoMC4wMHMpCiAgICBnZW5lc2lzX3Rlc3QuZ286Njg6CiAgICAgICAgRXJyb3IgVHJhY2U6ICAgIGdlbmVzaXNfdGVzdC5nbzo2OAogICAgICAgIEVycm9yOiAgICAgICAgICBOb3QgZXF1YWw6CiAgICAgICAgICAgICAgICBleHBlY3RlZDogJmFtcDt0eXBlcy5HZW5lc2lzU3RhdGV7UGFyYW1zOnR5cGVzLlBhcmFtc3t9LCBTeXN0ZW1JbmZvOnR5cGVzLlN5c3RlbUluZm97TmV4dElkOjB4Mn0sIFN0b3JlZEdhbWVMaXN0OltddHlwZXMuU3RvcmVkR2FtZXt9fQogICAgICAgICAgICAgICAgYWN0dWFsICA6ICZhbXA7dHlwZXMuR2VuZXNpc1N0YXRle1BhcmFtczp0eXBlcy5QYXJhbXN7fSwgU3lzdGVtSW5mbzp0eXBlcy5TeXN0ZW1JbmZve05leHRJZDoweDF9LCBTdG9yZWRHYW1lTGlzdDpbXXR5cGVzLlN0b3JlZEdhbWV7fX0KCiAgICAgICAgICAgICAgICBEaWZmOgogICAgICAgICAgICAgICAgLS0tIEV4cGVjdGVkCiAgICAgICAgICAgICAgICArKysgQWN0dWFsCiAgICAgICAgICAgICAgICBAQCAtNCwzICs0LDMgQEAKICAgICAgICAgICAgICAgICAgICBTeXN0ZW1JbmZvOiAodHlwZXMuU3lzdGVtSW5mbykgewogICAgICAgICAgICAgICAgLSAgTmV4dElkOiAodWludDY0KSAyCiAgICAgICAgICAgICAgICArICBOZXh0SWQ6ICh1aW50NjQpIDEKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgIFRlc3Q6ICAgICAgICAgICBUZXN0RGVmYXVsdEdlbmVzaXNTdGF0ZV9FeHBlY3RlZEluaXRpYWxOZXh0SWQKRkFJTApGQUlMICAgIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMveC9jaGVja2Vycy90eXBlcyAgICAgIDAuMTg3cwpGQUlMCg=="}}),e._v(" "),o("p",[e._v("This appears complex, but the significant aspect is this:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"RGlmZjoKLS0tIEV4cGVjdGVkCisrKyBBY3R1YWwKLSAgTmV4dElkOiAodWludDY0KSAyCisgIE5leHRJZDogKHVpbnQ2NCkgMQo="}}),e._v(" "),o("p",[e._v("For "),o("em",[e._v("expected")]),e._v(" and "),o("em",[e._v("actual")]),e._v(" to make sense, you have to ensure that they are correctly placed in your call. When in doubt, go to the "),o("code",[e._v("require")]),e._v(" function definition:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBFcXVhbFZhbHVlcyh0IFRlc3RpbmdULCBleHBlY3RlZCBpbnRlcmZhY2V7fSwgYWN0dWFsIGludGVyZmFjZXt9LCBtc2dBbmRBcmdzIC4uLmludGVyZmFjZXt9KSB7Li4ufQo=",url:"https://github.com/stretchr/testify/blob/v1.7.0/require/require.go#L202"}})],1),e._v(" "),o("h3",{attrs:{id:"debug-your-unit-test"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#debug-your-unit-test"}},[e._v("#")]),e._v(" Debug your unit test")]),e._v(" "),o("p",[e._v("Your first unit test is a standard Go unit test. If you use an IDE like Visual Studio Code and have Go installed locally, it is ready to assist you with running the test in debug mode. Next to the function name is a small green tick or arrow. If you hover below it, a faint red dot appears:")]),e._v(" "),o("p",[o("tm-image",{attrs:{src:"/hands-on-exercise/1-ignite-cli/images/go_test_debug_button.png"}})],1),e._v(" "),o("p",[e._v("This red dot is a potential breakpoint. Add one on the "),o("code",[e._v("types.DefaultGenesis()")]),e._v(" line. The dot is now bright and stays there:")]),e._v(" "),o("p",[o("tm-image",{attrs:{src:"/hands-on-exercise/1-ignite-cli/images/go_test_debug_breakpoint.png"}})],1),e._v(" "),o("p",[e._v("Right-click on the green tick, and choose "),o("kbd",[e._v("Debug Test")]),e._v(". If it asks you to install a package, accept. Eventually it stops at the breakpoint and displays the current variables and a panel for stepping actions:")]),e._v(" "),o("p",[o("tm-image",{attrs:{src:"/hands-on-exercise/1-ignite-cli/images/go_test_debug_stopped_at_breakpoint.png"}})],1),e._v(" "),o("p",[e._v("If you are struggling with a test, create separate variables in order to inspect them in debug. From there, follow your regular step-by-step debugging process. If you are not familiar with debugging, "),o("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/debugging-go-code-with-visual-studio-code",target:"_blank",rel:"noopener noreferrer"}},[e._v("this online tutorial"),o("OutboundLink")],1),e._v(" will be helpful.")]),e._v(" "),o("h3",{attrs:{id:"more-unit-tests"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#more-unit-tests"}},[e._v("#")]),e._v(" More unit tests")]),e._v(" "),o("p",[e._v("With a simple yet successful unit test, you can add more consequential ones to test your helper methods.")]),e._v(" "),o("p",[e._v("First, create a file that declares some constants that you will reuse throughout:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0ZXN0dXRpbAoKY29uc3QgKAogICAgQWxpY2UgPSAmcXVvdDtjb3Ntb3Mxam1qZnEwdHBscDl0bXg0djl1ZW13NzJ5NGQyd2E1bnIzeG45ZDMmcXVvdDsKICAgIEJvYiAgID0gJnF1b3Q7Y29zbW9zMXh5eHMzc2tmM2Y0amZxZXV2ODl5eWFxdmpjNmxmZmF2eHFoYzhnJnF1b3Q7CiAgICBDYXJvbCA9ICZxdW90O2Nvc21vczFlMHc1dDUzbnJxN3A2NmZ5ZTZjOHAweW55aGY2eTI0bDR5dXhkNyZxdW90OwopCg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/testutil/constants.go"}}),e._v(" "),o("p",[e._v("Create a new file "),o("code",[e._v("x/checkers/types/full_game_test.go")]),e._v(" and declare it in "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L1",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("package types_test")]),o("OutboundLink")],1),e._v(". Since you are going to repeat some actions, it is worth adding a reusable function:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Y29uc3QgKAogICAgYWxpY2UgPSB0ZXN0dXRpbC5BbGljZQogICAgYm9iICAgPSB0ZXN0dXRpbC5Cb2IKKQoKZnVuYyBHZXRTdG9yZWRHYW1lMSgpIHR5cGVzLlN0b3JlZEdhbWUgewogICAgcmV0dXJuIHR5cGVzLlN0b3JlZEdhbWV7CiAgICAgICAgQmxhY2s6IGFsaWNlLAogICAgICAgIFJlZDogICBib2IsCiAgICAgICAgSW5kZXg6ICZxdW90OzEmcXVvdDssCiAgICAgICAgQm9hcmQ6IHJ1bGVzLk5ldygpLlN0cmluZygpLAogICAgICAgIFR1cm46ICAmcXVvdDtiJnF1b3Q7LAogICAgfQp9Cg==",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L13-L27"}}),e._v(" "),o("p",[e._v("Now you can test the function to get the black player's address. One test for the happy path, and another for the error:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBUZXN0Q2FuR2V0QWRkcmVzc0JsYWNrKHQgKnRlc3RpbmcuVCkgewogICAgYWxpY2VBZGRyZXNzLCBlcnIxIDo9IHNkay5BY2NBZGRyZXNzRnJvbUJlY2gzMihhbGljZSkKICAgIGJsYWNrLCBlcnIyIDo9IEdldFN0b3JlZEdhbWUxKCkuR2V0QmxhY2tBZGRyZXNzKCkKICAgIHJlcXVpcmUuRXF1YWwodCwgYWxpY2VBZGRyZXNzLCBibGFjaykKICAgIHJlcXVpcmUuTmlsKHQsIGVycjIpCiAgICByZXF1aXJlLk5pbCh0LCBlcnIxKQp9CgpmdW5jIFRlc3RHZXRBZGRyZXNzV3JvbmdCbGFjayh0ICp0ZXN0aW5nLlQpIHsKICAgIHN0b3JlZEdhbWUgOj0gR2V0U3RvcmVkR2FtZTEoKQogICAgc3RvcmVkR2FtZS5CbGFjayA9ICZxdW90O2Nvc21vczFqbWpmcTB0cGxwOXRteDR2OXVlbXc3Mnk0ZDJ3YTVucjN4bjlkNCZxdW90OyAvLyBCYWQgbGFzdCBkaWdpdAogICAgYmxhY2ssIGVyciA6PSBzdG9yZWRHYW1lLkdldEJsYWNrQWRkcmVzcygpCiAgICByZXF1aXJlLk5pbCh0LCBibGFjaykKICAgIHJlcXVpcmUuRXF1YWxFcnJvcih0LAogICAgICAgIGVyciwKICAgICAgICAmcXVvdDtibGFjayBhZGRyZXNzIGlzIGludmFsaWQ6IGNvc21vczFqbWpmcTB0cGxwOXRteDR2OXVlbXc3Mnk0ZDJ3YTVucjN4bjlkNDogZGVjb2RpbmcgYmVjaDMyIGZhaWxlZDogaW52YWxpZCBjaGVja3N1bSAoZXhwZWN0ZWQgM3huOWQzIGdvdCAzeG45ZDQpJnF1b3Q7KQogICAgcmVxdWlyZS5FcXVhbEVycm9yKHQsIHN0b3JlZEdhbWUuVmFsaWRhdGUoKSwgZXJyLkVycm9yKCkpCn0K",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L29-L46"}}),e._v(" "),o("p",[e._v("You can do the same for "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L48-L65",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("Red")]),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Test that "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L67-L71",target:"_blank",rel:"noopener noreferrer"}},[e._v("you can parse a game"),o("OutboundLink")],1),e._v(", even "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L73-L79",target:"_blank",rel:"noopener noreferrer"}},[e._v("if it has been tampered with"),o("OutboundLink")],1),e._v(", except "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L81-L88",target:"_blank",rel:"noopener noreferrer"}},[e._v("if the tamper is wrong"),o("OutboundLink")],1),e._v(" or "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/types/full_game_test.go#L90-L97",target:"_blank",rel:"noopener noreferrer"}},[e._v("if the turn is wrongly saved"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Also make sure that a default test created by Ignite CLI is correct in using the default values of "),o("code",[e._v("SystemInfo")]),e._v(" instead of erasing them:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGZ1bmMgbmV0d29ya1dpdGhTeXN0ZW1JbmZvT2JqZWN0cyh0ICp0ZXN0aW5nLlQpICgqbmV0d29yay5OZXR3b3JrLCB0eXBlcy5TeXN0ZW1JbmZvKSB7CiAgICAgICAgLi4uCi0gICAgICBzeXN0ZW1JbmZvIDo9ICZhbXA7dHlwZXMuU3lzdGVtSW5mb3t9CisgICAgICBzeXN0ZW1JbmZvIDo9IHN0YXRlLlN5c3RlbUluZm8KICAgICAgICBudWxsaWZ5LkZpbGwoJmFtcDtzeXN0ZW1JbmZvKQogICAgICAgIC4uLgotICAgICAgcmV0dXJuIG5ldHdvcmsuTmV3KHQsIGNmZyksICpzdGF0ZS5TeXN0ZW1JbmZvCisgICAgICByZXR1cm4gbmV0d29yay5OZXcodCwgY2ZnKSwgc3RhdGUuU3lzdGVtSW5mbwogICAgfQo=",url:"https://github.com/cosmos/b9-checkers-academy-draft/blob/full-game-object/x/checkers/client/cli/query_system_info_test.go#L24-L30"}}),e._v(" "),o("p",[e._v("Interested in integration tests? Skip ahead to the "),o("RouterLink",{attrs:{to:"/hands-on-exercise/2-ignite-cli-adv/7-integration-tests.html"}},[e._v("section")]),e._v(" where you learn about them.")],1),e._v(" "),o("h2",{attrs:{id:"interact-via-the-cli"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#interact-via-the-cli"}},[e._v("#")]),e._v(" Interact via the CLI")]),e._v(" "),o("p",[e._v("Ignite CLI created a set of files for you. It is time to see whether you can already interact with your new checkers blockchain.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Start the chain in its shell:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBpZ25pdGUgY2hhaW4gc2VydmUgLS1yZXNldC1vbmNlCg=="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgcnVuIC0tcm0gLWl0IFwKICAgIC0tbmFtZSBjaGVja2VycyBcCiAgICAtdiAkKHB3ZCk6L2NoZWNrZXJzIFwKICAgIC13IC9jaGVja2VycyBcCiAgICBjaGVja2Vyc19pIFwKICAgIGlnbml0ZSBjaGFpbiBzZXJ2ZSAtLXJlc2V0LW9uY2UK"}}),e._v(" "),o("HighlightBox",{attrs:{type:"note"}},[o("p",[e._v("The throwaway container is started with the name "),o("code",[e._v("checkers")]),e._v(", so that you can connect to it for the next commands.")])])],1)],1),e._v(" "),o("p",[e._v("This ends and holds with:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Li4uCvCfjI0gVGVuZGVybWludCBub2RlOiBodHRwOi8vMC4wLjAuMDoyNjY1Nwrwn4yNIEJsb2NrY2hhaW4gQVBJOiBodHRwOi8vMC4wLjAuMDoxMzE3CvCfjI0gVG9rZW4gZmF1Y2V0OiBodHRwOi8vMC4wLjAuMDo0NTAwCg=="}})],1),e._v(" "),o("li",[o("p",[e._v("Check the values saved in "),o("code",[e._v("SystemInfo")]),e._v(". Look at the relevant "),o("code",[e._v("client/cli")]),e._v(" file, which Ignite CLI created to find out what command is relevant. Here it is "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/client/cli/query_system_info.go#L14",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("query_system_info.go")]),o("OutboundLink")],1),e._v(". You can also ask the CLI:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgLS1oZWxwCg=="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIC0taGVscAo="}}),e._v(" "),o("p",[e._v("Note how it connects to the newly created container named "),o("code",[e._v("checkers")]),e._v(".")])],1)],1),e._v(" "),o("p",[e._v("Which returns something like:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"QXZhaWxhYmxlIENvbW1hbmRzOgouLi4Kc2hvdy1zeXN0ZW0taW5mbyBzaG93cyBzeXN0ZW1JbmZvCg=="}}),e._v(" "),o("p",[e._v("Therefore, you call it:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgc2hvdy1zeXN0ZW0taW5mbwo="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIHNob3ctc3lzdGVtLWluZm8K"}})],1)],1),e._v(" "),o("p",[e._v("This returns:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"U3lzdGVtSW5mbzoKICBuZXh0SWQ6ICZxdW90OzEmcXVvdDsK"}}),e._v(" "),o("p",[e._v("This is as expected. No games have been created yet, so the game counter is still at "),o("code",[e._v("1")]),e._v(".")]),e._v(" "),o("HighlightBox",{attrs:{type:"note"}},[o("p",[e._v("You may encounter an error like the following:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Y29tbWFuZCBub3QgZm91bmQgY2hlY2tlcnNkCg=="}}),e._v(" "),o("p",[e._v("This indicates that you likely have not configured Go correctly. Refer back to "),o("code",[e._v("GOPATH")]),e._v(" in our "),o("RouterLink",{attrs:{to:"/tutorials/4-golang-intro/1-install.html"}},[e._v("Go introduction")]),e._v(".")],1)],1)],1),e._v(" "),o("li",[o("p",[e._v("The "),o("code",[e._v("--output")]),e._v(" flag allows you to get your results in a JSON format, which might be useful if you would like to use a script to parse the information. When you use the "),o("code",[e._v("--help")]),e._v(" flag, you see which flags are available for a specific command:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgc2hvdy1zeXN0ZW0taW5mbyAtLWhlbHAK"}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIHNob3ctc3lzdGVtLWluZm8gLS1oZWxwCg=="}})],1)],1),e._v(" "),o("p",[e._v("Among the output, you see:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Li4uCi1vLCAtLW91dHB1dCBzdHJpbmcgICBPdXRwdXQgZm9ybWF0ICh0ZXh0fGpzb24pIChkZWZhdWx0ICZxdW90O3RleHQmcXVvdDspCg=="}}),e._v(" "),o("p",[e._v("Now try again a bit differently:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgc2hvdy1zeXN0ZW0taW5mbyAtLW91dHB1dCBqc29uCg=="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIHNob3ctc3lzdGVtLWluZm8gLS1vdXRwdXQganNvbgo="}})],1)],1),e._v(" "),o("p",[e._v("This should print:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"eyZxdW90O1N5c3RlbUluZm8mcXVvdDs6eyZxdW90O25leHRJZCZxdW90OzomcXVvdDsxJnF1b3Q7fX0K"}})],1),e._v(" "),o("li",[o("p",[e._v("You can similarly confirm there are no "),o("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/stored-game/x/checkers/client/cli/query_stored_game.go#L14",target:"_blank",rel:"noopener noreferrer"}},[e._v("stored games"),o("OutboundLink")],1),e._v(":")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgcXVlcnkgY2hlY2tlcnMgbGlzdC1zdG9yZWQtZ2FtZQo="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHF1ZXJ5IGNoZWNrZXJzIGxpc3Qtc3RvcmVkLWdhbWUK"}})],1)],1),e._v(" "),o("p",[e._v("This should print:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"cGFnaW5hdGlvbjoKICBuZXh0X2tleTogbnVsbAogIHRvdGFsOiAmcXVvdDswJnF1b3Q7CnN0b3JlZEdhbWU6IFtdCg=="}})],1)]),e._v(" "),o("p",[e._v("Remember how you wrote "),o("code",[e._v("--no-message")]),e._v("? That was to not create messages or transactions, which would directly update your checkers storage. Soft-confirm there are no commands available:")]),e._v(" "),o("CodeGroup",[o("CodeGroupItem",{attrs:{title:"Local",active:""}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjaGVja2Vyc2QgdHggY2hlY2tlcnMgLS1oZWxwCg=="}})],1),e._v(" "),o("CodeGroupItem",{attrs:{title:"Docker"}},[o("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBkb2NrZXIgZXhlYyAtaXQgY2hlY2tlcnMgXAogICAgY2hlY2tlcnNkIHR4IGNoZWNrZXJzIC0taGVscAo="}})],1)],1),e._v(" "),o("HighlightBox",{attrs:{type:"synopsis"}},[o("p",[e._v("To summarize, this section has explored:")]),e._v(" "),o("ul",[o("li",[e._v("How to begin creating an original blockchain application, in this case a checkers game, identifying and prioritizing the basic core game features to build a foundation for future improvements.")]),e._v(" "),o("li",[e._v("How to define a checkers rule set by searching for and obtaining an existing implementation, rather than needlessly duplicating complex coding work.")]),e._v(" "),o("li",[e._v("The minimum game information it is necessary to store, and how to store it making use of Ignite CLI.")]),e._v(" "),o("li",[e._v("The Protobuf objects created by Ignite CLI, which locates objects in different files depending on their use and updates them to include informative comments indicating where code has been added.")]),e._v(" "),o("li",[e._v("The files created by Ignite CLI which you can and should update, for example by setting the default genesis values.")]),e._v(" "),o("li",[e._v("The Protobuf services and service interfaces created by Ignite CLI that you will fill with objects and messages when scaffolding a new module.")]),e._v(" "),o("li",[e._v("How to add helper functions which you can add to perform operations on the strings that represent your stored games, such as getting the game creator and players and introducing your own errors.")]),e._v(" "),o("li",[e._v("How to add, run, and debug unit tests to check the functionality of your code.")]),e._v(" "),o("li",[e._v("How to use Ignite CLI to confirm that you can interact with your new checkers blockchain.")])])])],1)}),[],!1,null,null,null);t.default=s.exports}}]);