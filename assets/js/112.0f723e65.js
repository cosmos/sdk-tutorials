(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{731:function(e,t,i){"use strict";i.r(t);var a=i(1),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"solo-machine-client"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#solo-machine-client"}},[e._v("#")]),e._v(" Solo Machine Client")]),e._v(" "),i("HighlightBox",{attrs:{type:"learning"}},[i("p",[e._v("In this section, you will:")]),e._v(" "),i("ul",[i("li",[e._v("Get a high-level overview of the solo machine client and the specification for solo machines.")]),e._v(" "),i("li",[e._v("Dive into how the solo machine client works.")]),e._v(" "),i("li",[e._v("Learn about the benefits of using the client.")]),e._v(" "),i("li",[e._v("Explore a solo machine implementation.")])])]),e._v(" "),i("p",[e._v("IBC is the Inter-Blockchain Communication protocol, so its scope must be limited for use within blockchains right? Well, not quite. IBC was indeed conceived as a solution for interoperability between blockchains, or more generally between distributed ledgers. However, at the same time the design of the protocol aimed to be as universal and extensible as possible. It aims to "),i("strong",[e._v("set a minimal set of requirements or interfaces a state machine must satisfy to communicate with remote counterparties")]),e._v(". This includes replicated state machines (i.e. blockchains), but the interfaces can also be satisfied by other data systems, such as "),i("em",[e._v("solo machines")]),e._v(".")]),e._v(" "),i("p",[e._v("A solo machine is a standalone process that can interact with blockchains through IBC. It can store key information, like signed messages and private keys, but has no consensus algorithm of its own. The "),i("em",[e._v("solo machine client")]),e._v(" can be seen as a verification algorithm capable of authenticating messages sent from a solo machine. With solo machines, one can access the IBC transport layer and blockchains (including features built on them) within the Interchain without developing one's own blockchain.")]),e._v(" "),i("p",[e._v("Anything from a web application hosted on a server, to a browser, to the mobile in your pocket is a solo machine. And these systems are capable of speaking IBC!")]),e._v(" "),i("p",[e._v("This is made possible using the IBC solo machine client.")]),e._v(" "),i("HighlightBox",{attrs:{type:"note"}},[i("p",[e._v("Note that we are discussing two different things here. On the one hand is the solo machine, the actual standalone machine used to sign messages to interact with IBC-enabled chains (see the examples above).\n"),i("br"),i("br"),e._v("\nOn the other hand is the "),i("em",[e._v("solo machine client")]),e._v(", which is the on-chain client allowing us to verify messages "),i("em",[e._v("sent by")]),e._v(" the solo machine on a remote counterparty chain.\n"),i("br"),i("br"),e._v("\nThe solo machine itself still stores a light client representing the chain it wants to communicate with through IBC.\n"),i("br"),i("br"),e._v("\nMake sure not to mix these up when talking about solo machines!")])]),e._v(" "),i("h2",{attrs:{id:"how-does-it-work"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#how-does-it-work"}},[e._v("#")]),e._v(" How does it work?")]),e._v(" "),i("p",[e._v("Unlike a typical "),i("RouterLink",{attrs:{to:"/academy/3-ibc/4-clients.html"}},[e._v("IBC light client")]),e._v(", which uses Merkle proofs to verify the validity of messages sent from a counterparty, a solo machine client keeps track of state by simply checking the authenticity of digital signatures.")],1),e._v(" "),i("p",[e._v("Even though solo machines don’t have a provable consensus algorithm, they are still capable of "),i("strong",[e._v("storing a public/private key pair and can also support multi-signature keys")]),e._v(".")]),e._v(" "),i("p",[i("tm-image",{attrs:{src:"/academy/3-ibc/images/solomachine.png"}})],1),e._v(" "),i("p",[e._v("As an example, when blockchain A communicates with a solo machine over IBC, it registers the solo machine’s public key(s) in its (blockchain A’s) state machine through the "),i("em",[e._v("solo machine client")]),e._v(". Verifying the validity of a message sent from the solo machine is as simple as ensuring that the message was signed by its private key (as shown in Figure 1 above).")]),e._v(" "),i("p",[e._v("This is a significantly simpler and more cost-efficient mechanism of state verification compared to the full-fledged light client-based model.")]),e._v(" "),i("HighlightBox",{attrs:{type:"info"}},[i("p",[e._v("A solo machine with a single key pair can be suitable for a PoA-like/trusted setup — applicable for various enterprise solutions. The client is also capable of updating keys, so a single key pair can be rotated on a regular basis for security. Using a threshold signature or multi-signature design offers the same security guarantees as an externally-verified bridging solution, but with the additional capability of interacting and communicating over IBC.")])]),e._v(" "),i("h2",{attrs:{id:"why-use-a-solo-machine-client"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#why-use-a-solo-machine-client"}},[e._v("#")]),e._v(" Why use a solo machine client?")]),e._v(" "),i("p",[e._v("There are three key benefits to using an IBC solo machine client:")]),e._v(" "),i("ol",[i("li",[e._v("It provides access to the IBC transport layer — and as a result, all the chains and ecosystems connected to it (as well as the features and applications built on top).")]),e._v(" "),i("li",[e._v("It removes the economic and operational overhead that comes with developing an entire blockchain in order to use IBC.")]),e._v(" "),i("li",[e._v("It is suitable to directly interoperate with chains where implementing a regular IBC light client can be complex (for example, on Ethereum due to its probabilistic finality).")])]),e._v(" "),i("p",[e._v("The transport layer of IBC — responsible for the transport, authentication, and ordering of data packets — is a powerful standard for blockchain interoperability. It offers access to a variety of IBC applications such as token transfers, cross-chain oracle data feeds, cross-chain governance, and fee middleware, as well as features like Interchain Accounts, Interchain Queries, and more. The use of a solo machine not only grants access to this trust-minimized, general-purpose, and ever growing interoperability framework, but one can do so without even having to develop a blockchain.")]),e._v(" "),i("p",[e._v("Another exciting feature of using a solo machine is that it can leverage Interchain Accounts (ICA). In short, ICA allows a (controller) chain/solo machine to control an account on another (host) chain/solo machine. This opens up a plethora of interesting use-cases. For example, a solo machine acting as the controller can delegate funds to be staked on a host chain. The benefit here is that the private keys associated with the controller account (on the solo machine in this example) can be rotated without having to undelegate on the host side; instead, you update the private key on the controller and then redelegate.")]),e._v(" "),i("p",[e._v("The solo machine can also be used to mint/burn tokens, request and receive oracle data (by using BandChain for example), use ICA for cross-chain/machine composability, and more. Given that any IBC-level application can be leveraged by a solo machine, the possibilities are virtually endless, and up to the imagination of developers making use of this client.")]),e._v(" "),i("HighlightBox",{attrs:{type:"reading"}},[i("p",[e._v("Crypto.com is the quintessential example of a centralized exchange bringing the IBC solo machine to production by issuing tokens on their public blockchain, Crypto.org. This allows Crypto.com to issue pegged DOT and XLM (Polkadot and Stellar’s native tokens respectively) which are of the ICS-20 (fungible token transfer) level. Hence the tokens can be sent to any chain that’s IBC-enabled and used within DeFi protocols.\n"),i("br"),i("br"),e._v("\nAs mentioned in "),i("a",{attrs:{href:"https://medium.com/crypto-org-chain/crypto-org-chain-issues-dot-token-via-ibc-solo-machine-b0f58e605b0e",target:"_blank",rel:"noopener noreferrer"}},[e._v("Crypto.org’s blog post"),i("OutboundLink")],1),e._v(", "),i("em",[e._v("without")]),e._v(" an IBC solo machine an entity looking to issue tokens would be required to develop a standalone blockchain, connect it to IBC, and maintain/procure the relayer infrastructure required for system liveness. This naturally demands greater resources relative to deploying a solo machine.\n"),i("br"),i("br"),e._v("\nRead more about Crypto.org's use of solo machines in "),i("a",{attrs:{href:"https://crypto.org/docs/resources/solo-machine.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("their docs"),i("OutboundLink")],1),e._v(".")])]),e._v(" "),i("h2",{attrs:{id:"solo-machine-client-2"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#solo-machine-client-2"}},[e._v("#")]),e._v(" Solo machine client")]),e._v(" "),i("p",[e._v("The ibc-go implementation contains a solo machine client, "),i("code",[e._v("06-solomachine")]),e._v(", which enables Cosmos SDK chains to interact with solo machines over IBC. In this section, a high-level overview is provided into the "),i("a",{attrs:{href:"https://github.com/cosmos/ibc/tree/main/spec/client/ics-006-solo-machine-client",target:"_blank",rel:"noopener noreferrer"}},[e._v("specification for solo machines"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("HighlightBox",{attrs:{type:"docs"}},[i("p",[e._v("The content provided here will remain high level and focused at the specification. If you wish to take a more in-depth look at the ibc-go "),i("code",[e._v("06-solomachine")]),e._v(" implementation, you can refer to either "),i("a",{attrs:{href:"https://ibc.cosmos.network/main/ibc/light-clients/solomachine/solomachine.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("the docs"),i("OutboundLink")],1),e._v(" or "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/tree/v7.0.0/modules/light-clients/06-solomachine",target:"_blank",rel:"noopener noreferrer"}},[e._v("the code"),i("OutboundLink")],1),e._v(".")])]),e._v(" "),i("h3",{attrs:{id:"solo-machine-client-state-and-consensus-state"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#solo-machine-client-state-and-consensus-state"}},[e._v("#")]),e._v(" Solo machine client state and consensus state")]),e._v(" "),i("p",[e._v("If you paid close attention to the previous section on light client development and the introduction on solo machine (clients), you may already have an idea of how a solo machine implementation might look.")]),e._v(" "),i("p",[e._v("From the light client development section, you know that light client developers should be mainly concerned with these interfaces:")]),e._v(" "),i("ul",[i("li",[i("code",[e._v("ClientState")])]),e._v(" "),i("li",[i("code",[e._v("ConsensusState")])]),e._v(" "),i("li",[i("code",[e._v("ClientMessage")])])]),e._v(" "),i("p",[e._v("Furthermore, from the introduction you can derive that:")]),e._v(" "),i("ul",[i("li",[e._v("The solo machine client will need access to the public key of the solo machine to verify signatures, so you would expect this to be stored in state.")]),e._v(" "),i("li",[e._v("To verify the signature that a packet or client message is signed with, the client will need functionality to handle this.")])]),e._v(" "),i("HighlightBox",{attrs:{type:"remember"}},[i("p",[e._v("The solo machine client is a reminder of the power of the generalized client interfaces for IBC light clients. Because of it, significantly different data systems like solo machines and blockchains can still be represented through a unified interface, and therefore can communicate.\n"),i("br"),i("br"),e._v("\nHowever, because a solo machine is a lot less complex than a full-fledged blockchain, you will notice that a lot of the development work for the solo machine client is simplified.")])]),e._v(" "),i("h4",{attrs:{id:"clientstate"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#clientstate"}},[e._v("#")]),e._v(" "),i("code",[e._v("ClientState")])]),e._v(" "),i("p",[e._v("The "),i("code",[e._v("ClientSate")]),e._v(" is rather simple. It will contain the "),i("code",[e._v("ConsensusState")]),e._v(" and a field to indicate whether the client is frozen:")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW50ZXJmYWNlIENsaWVudFN0YXRlIHsKICBmcm96ZW46IGJvb2xlYW4KICBjb25zZW5zdXNTdGF0ZTogQ29uc2Vuc3VzU3RhdGUKfQo="}}),e._v(" "),i("p",[e._v("It must of course also implement the "),i("code",[e._v("ClientState")]),e._v(" methods defined in "),i("a",{attrs:{href:"https://github.com/cosmos/ibc/tree/main/spec/core/ics-002-client-semantics#clientstate",target:"_blank",rel:"noopener noreferrer"}},[e._v("the spec"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("h4",{attrs:{id:"consensusstate"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#consensusstate"}},[e._v("#")]),e._v(" "),i("code",[e._v("ConsensusState")])]),e._v(" "),i("p",[e._v("Next to the public key, the "),i("code",[e._v("ConsensusSate")]),e._v(" also contains a timestamp and diversifier. The diversifier is an arbitrary string, chosen when the client is created, designed to allow the same public key to be re-used across different solo machine clients (potentially on different chains) without this being considered misbehavior.")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW50ZXJmYWNlIENvbnNlbnN1c1N0YXRlIHsKICBzZXF1ZW5jZTogdWludDY0IC8vIGRlcHJlY2F0ZWQKICBwdWJsaWNLZXk6IFB1YmxpY0tleQogIGRpdmVyc2lmaWVyOiBzdHJpbmcKICB0aW1lc3RhbXA6IHVpbnQ2NAp9Cg=="}}),e._v(" "),i("p",[e._v("It must of course also implement the "),i("code",[e._v("ConsensusState")]),e._v(" methods defined in "),i("a",{attrs:{href:"https://github.com/cosmos/ibc/tree/main/spec/core/ics-002-client-semantics#consensusstate",target:"_blank",rel:"noopener noreferrer"}},[e._v("the spec"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("h3",{attrs:{id:"verifying-signatures"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#verifying-signatures"}},[e._v("#")]),e._v(" Verifying signatures")]),e._v(" "),i("p",[e._v("The essence of the solo machine/solo machine client pair is that we can verify signatures based on public/private key cryptography. The public key is stored in the "),i("code",[e._v("ConsensusState")]),e._v(" of the solo machine client, and can be used to verify signatures signed with the solo machine private key corresponding to the available public key. This signature verification is used in the following situations:")]),e._v(" "),i("ul",[i("li",[e._v("When updating the "),i("code",[e._v("ConsensusState")]),e._v(" with a new public key or diversifier through submitting a "),i("code",[e._v("Header")]),e._v(".")]),e._v(" "),i("li",[e._v("When submitting evidence of "),i("code",[e._v("Misbehaviour")]),e._v(" to freeze a malicious client.")]),e._v(" "),i("li",[e._v("When verifying packet commitments.")])]),e._v(" "),i("h4",{attrs:{id:"signing-data"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#signing-data"}},[e._v("#")]),e._v(" Signing data")]),e._v(" "),i("p",[e._v("The solo machine will sign over some data, "),i("code",[e._v("SignBytes")]),e._v(":")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW50ZXJmYWNlIFNpZ25CeXRlcyB7CiAgc2VxdWVuY2U6IHVpbnQ2NAogIHRpbWVzdGFtcDogdWludDY0CiAgZGl2ZXJzaWZpZXI6IHN0cmluZwogIHBhdGg6IFtdYnl0ZQogIGRhdGE6IFtdYnl0ZQp9Cg=="}}),e._v(" "),i("p",[e._v("It also stores a "),i("code",[e._v("Signature")]),e._v(" including the data bytes and a timestamp:")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW50ZXJmYWNlIFNpZ25hdHVyZSB7CiAgZGF0YTogW11ieXRlCiAgdGltZXN0YW1wOiB1aW50NjQKfQo="}}),e._v(" "),i("p",[e._v("This signature is then added to a message, e.g. the "),i("code",[e._v("Header")]),e._v(":")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW50ZXJmYWNlIEhlYWRlciB7CiAgc2VxdWVuY2U6IHVpbnQ2NCAvLyBkZXByZWNhdGVkCiAgdGltZXN0YW1wOiB1aW50NjQKICBzaWduYXR1cmU6IFNpZ25hdHVyZQogIG5ld1B1YmxpY0tleTogUHVibGljS2V5CiAgbmV3RGl2ZXJzaWZpZXI6IHN0cmluZwp9Cg=="}}),e._v(" "),i("h4",{attrs:{id:"client-message-signature-verification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#client-message-signature-verification"}},[e._v("#")]),e._v(" Client message signature verification")]),e._v(" "),i("p",[e._v("Remember from the section on light client development that the client can be updated (with new state or evidence of misbehavior) by submitting a "),i("code",[e._v("ClientMessage")]),e._v(".")]),e._v(" "),i("p",[e._v("The "),i("code",[e._v("ClientMessage")]),e._v(" will be passed onto the client by submitting a "),i("code",[e._v("MsgUpdateClient")]),e._v(". Although IBC messages are typically submitted by relayers, it can be advantageous to integrate a relayer directly into the solo machine's server in certain cases, such as with crypto.com's implementation. The "),i("code",[e._v("02-client")]),e._v("'s "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/blob/v7.0.0/modules/core/02-client/keeper/client.go#L48",target:"_blank",rel:"noopener noreferrer"}},[i("code",[e._v("UpdateClient")]),i("OutboundLink")],1),e._v(" method will then handle the client message by using "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/blob/02-client-refactor-beta1/modules/core/exported/client.go#L98-L109",target:"_blank",rel:"noopener noreferrer"}},[e._v("these four methods on the "),i("code",[e._v("ClientState")]),e._v(" interface"),i("OutboundLink")],1),e._v(":")]),e._v(" "),i("ul",[i("li",[i("code",[e._v("VerifyClientMessage")])]),e._v(" "),i("li",[i("code",[e._v("CheckForMisbehaviour")])]),e._v(" "),i("li",[i("code",[e._v("UpdateStateOnMisbehaviour")])]),e._v(" "),i("li",[i("code",[e._v("UpdateState")])])]),e._v(" "),i("p",[e._v("You can inspect the "),i("a",{attrs:{href:"https://github.com/cosmos/ibc/tree/main/spec/client/ics-006-solo-machine-client",target:"_blank",rel:"noopener noreferrer"}},[e._v("solo machine specification"),i("OutboundLink")],1),e._v(" for more details, but take a look at the "),i("a",{attrs:{href:"https://github.com/cosmos/ibc/tree/main/spec/client/ics-006-solo-machine-client#validity-predicate",target:"_blank",rel:"noopener noreferrer"}},[i("code",[e._v("verifyClientMessage")]),i("OutboundLink")],1),e._v(" where a "),i("code",[e._v("switch")]),e._v(" statement is used to differentiate betweeen submitting a header or evidence of misbehavior.")]),e._v(" "),i("p",[e._v("You will notice in both cases some pseudo code that requires to perform the signature checks:")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"YXNzZXJ0KGNoZWNrU2lnbmF0dXJlKGNzLmNvbnNlbnN1c1N0YXRlLnB1YmxpY0tleSwgc2lnbkJ5dGVzLCB7bXNnVHlwZX0uc2lnbmF0dXJlKSkK"}}),e._v(" "),i("p",[e._v("The stored public key is used to check if the signature used to sign the "),i("code",[e._v("signBytes")]),e._v(" was in fact the private key corresponding to it.")]),e._v(" "),i("p",[e._v("In ibc-go this is performed in the "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/blob/v7.0.0/modules/light-clients/06-solomachine/proof.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("solo machine's "),i("code",[e._v("proof.go")]),e._v(" file"),i("OutboundLink")],1),e._v(" by the "),i("code",[e._v("VerifySignature")]),e._v(" function.")]),e._v(" "),i("ExpansionPanel",{attrs:{title:"Body of client message verification functions"}},[i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"ZnVuY3Rpb24gdmVyaWZ5Q2xpZW50TWVzc2FnZShjbGllbnRNc2c6IENsaWVudE1lc3NhZ2UpIHsKICBzd2l0Y2ggdHlwZW9mKENsaWVudE1lc3NhZ2UpIHsKICAgIGNhc2UgSGVhZGVyOgogICAgICB2ZXJpZnlIZWFkZXIoY2xpZW50TWVzc2FnZSkKICAgIC8vIG1pc2JlaGF2aW91ciBvbmx5IHN1cHBwb3J0ZWQgZm9yIGN1cnJlbnQgcHVibGljIGtleSBhbmQgZGl2ZXJzaWZpZXIgb24gc29sbyBtYWNoaW5lCiAgICBjYXNlIE1pc2JlaGF2aW91cjoKICAgICAgdmVyaWZ5TWlzYmVoYXZpb3VyKGNsaWVudE1lc3NhZ2UpCiAgfQp9CgpmdW5jdGlvbiB2ZXJpZnlIZWFkZXIoaGVhZGVyOiBoZWFkZXIpIHsKICBjbGllbnRTdGF0ZSA9IHByb3ZhYmxlU3RvcmUuZ2V0KCZxdW90O2NsaWVudHMve2NsaWVudE1zZy5pZGVudGlmaWVyfS9jbGllbnRTdGF0ZSZxdW90OykKICBhc3NlcnQoaGVhZGVyLnRpbWVzdGFtcCAmZ3Q7PSBjbGllbnRzdGF0ZS5jb25zZW5zdXNTdGF0ZS50aW1lc3RhbXApCiAgaGVhZGVyRGF0YSA9IHsKICAgIG5ld1B1YktleTogaGVhZGVyLm5ld1B1YktleSwKICAgIG5ld0RpdmVyc2lmaWVyOiBoZWFkZXIubmV3RGl2ZXJzaWZpZXIsCiAgfQogIHNpZ25CeXRlcyA9IFNpZ25CeXRlcygKICAgIHNlcXVlbmNlOiBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5zZXF1ZW5jZSwKICAgIHRpbWVzdGFtcDogaGVhZGVyLnRpbWVzdGFtcCwKICAgIGRpdmVyc2lmaWVyOiBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5kaXZlcnNpZmllciwKICAgIHBhdGg6IFtdYnl0ZXsmcXVvdDtzb2xvbWFjaGluZTpoZWFkZXImcXVvdDt9LAogICAgdmFsdWU6IG1hcnNoYWwoaGVhZGVyRGF0YSkKICApCiAgYXNzZXJ0KGNoZWNrU2lnbmF0dXJlKGNzLmNvbnNlbnN1c1N0YXRlLnB1YmxpY0tleSwgc2lnbkJ5dGVzLCBoZWFkZXIuc2lnbmF0dXJlKSkKfQoKZnVuY3Rpb24gdmVyaWZ5TWlzYmVoYXZpb3VyKG1pc2JlaGF2aW91cjogTWlzYmVoYXZpb3VyKSB7CiAgY2xpZW50U3RhdGUgPSBwcm92YWJsZVN0b3JlLmdldCgmcXVvdDtjbGllbnRzL3tjbGllbnRNc2cuaWRlbnRpZmllcn0vY2xpZW50U3RhdGUmcXVvdDspCiAgczEgPSBtaXNiZWhhdmlvdXIuc2lnbmF0dXJlT25lCiAgczIgPSBtaXNiZWhhdmlvdXIuc2lnbmF0dXJlVHdvCiAgcHVia2V5ID0gY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUucHVibGljS2V5CiAgZGl2ZXJzaWZpZXIgPSBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5kaXZlcnNpZmllcgogIHRpbWVzdGFtcCA9IGNsaWVudFN0YXRlLmNvbnNlbnN1c1N0YXRlLnRpbWVzdGFtcAogIC8vIGFzc2VydCB0aGF0IHRoZSBzaWduYXR1cmVzIHZhbGlkYXRlIGFuZCB0aGF0IHRoZXkgYXJlIGRpZmZlcmVudAogIHNpZ0J5dGVzMSA9IFNpZ25CeXRlcygKICAgIHNlcXVlbmNlOiBtaXNiZWhhdmlvdXIuc2VxdWVuY2UsCiAgICB0aW1lc3RhbXA6IHMxLnRpbWVzdGFtcCwKICAgIGRpdmVyc2lmaWVyOiBkaXZlcnNpZmllciwKICAgIHBhdGg6IHMxLnBhdGgsCiAgICBkYXRhOiBzMS5kYXRhCiAgKQogIHNpZ0J5dGVzMiA9IFNpZ25CeXRlcygKICAgIHNlcXVlbmNlOiBtaXNiZWhhdmlvdXIuc2VxdWVuY2UsCiAgICB0aW1lc3RhbXA6IHMyLnRpbWVzdGFtcCwKICAgIGRpdmVyc2lmaWVyOiBkaXZlcnNpZmllciwKICAgIHBhdGg6IHMyLnBhdGgsCiAgICBkYXRhOiBzMi5kYXRhCiAgKQogIC8vIGVpdGhlciB0aGUgcGF0aCBvciBkYXRhIG11c3QgYmUgZGlmZmVyZW50IGluIG9yZGVyIGZvciB0aGUgbWlzYmVoYXZpb3VyIHRvIGJlIHZhbGlkCiAgYXNzZXJ0KHMxLnBhdGggIT0gczIucGF0aCB8fCBzMS5kYXRhICE9IHMyLmRhdGEpCiAgYXNzZXJ0KGNoZWNrU2lnbmF0dXJlKHB1YmtleSwgc2lnQnl0ZXMxLCBtaXNiZWhhdmlvdXIuc2lnbmF0dXJlT25lLnNpZ25hdHVyZSkpCiAgYXNzZXJ0KGNoZWNrU2lnbmF0dXJlKHB1YmtleSwgc2lnQnl0ZXMyLCBtaXNiZWhhdmlvdXIuc2lnbmF0dXJlVHdvLnNpZ25hdHVyZSkpCn0K"}})],1),e._v(" "),i("h4",{attrs:{id:"state-signature-verification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#state-signature-verification"}},[e._v("#")]),e._v(" State signature verification")]),e._v(" "),i("p",[e._v("Similarly, to verify if the signature that signed a state transition is valid, remember that a light client has to implement "),i("code",[e._v("VerifyMembership")]),e._v(" and "),i("code",[e._v("VerifyNonMembership")]),e._v(" methods.")]),e._v(" "),i("p",[e._v("There you will find similar pseudo code relating to signature verification:")]),e._v(" "),i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"cHJvdmVuID0gY2hlY2tTaWduYXR1cmUoY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUucHVibGljS2V5LCBzaWduQnl0ZXMsIHByb29mLnNpZykK"}}),e._v(" "),i("p",[e._v("In ibc-go this is performed in the "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/blob/v7.0.0/modules/light-clients/06-solomachine/proof.go",target:"_blank",rel:"noopener noreferrer"}},[e._v("solo machine's "),i("code",[e._v("proof.go")]),e._v(" file"),i("OutboundLink")],1),e._v(" by the "),i("code",[e._v("VerifySignature")]),e._v(" function.")]),e._v(" "),i("ExpansionPanel",{attrs:{title:"Body of state verification functions"}},[i("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"ZnVuY3Rpb24gdmVyaWZ5TWVtYmVyc2hpcCgKICBjbGllbnRTdGF0ZTogQ2xpZW50U3RhdGUsCiAgLy8gcHJvdmlkZWQgaGVpZ2h0IGlzIHVubmVjZXNzYXJ5IGZvciBzb2xvIG1hY2hpbmUKICAvLyBzaW5jZSBjbGllbnRTdGF0ZSBtYWludGFpbnMgdGhlIGV4cGVjdGVkIHNlcXVlbmNlCiAgaGVpZ2h0OiB1aW50NjQsCiAgLy8gZGVsYXlQZXJpb2QgaXMgdW5zdXBwb3J0ZWQgb24gc29sbyBtYWNoaW5lcwogIC8vIHRodXMgdGhlc2UgZmllbGRzIGFyZSBpZ25vcmVkCiAgZGVsYXlUaW1lUGVyaW9kOiB1aW50NjQsCiAgZGVsYXlCbG9ja1BlcmlvZDogdWludDY0LAogIHByb29mOiBDb21taXRtZW50UHJvb2YsCiAgcGF0aDogQ29tbWl0bWVudFBhdGgsCiAgdmFsdWU6IFtdYnl0ZQopOiBFcnJvciB7CiAgLy8gdGhlIGV4cGVjdGVkIHNlcXVlbmNlIHVzZWQgaW4gdGhlIHNpZ25hdHVyZQogIGFib3J0VHJhbnNhY3Rpb25Vbmxlc3MoIWNsaWVudFN0YXRlLmZyb3plbikKICBhYm9ydFRyYW5zYWN0aW9uVW5sZXNzKHByb29mLnRpbWVzdGFtcCAmZ3Q7PSBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS50aW1lc3RhbXApCiAgc2lnbkJ5dGVzID0gU2lnbkJ5dGVzKAogICAgc2VxdWVuY2U6IGNsaWVudFN0YXRlLmNvbnNlbnN1c1N0YXRlLnNlcXVlbmNlLAogICAgdGltZXN0YW1wOiBwcm9vZi50aW1lc3RhbXAsCiAgICBkaXZlcnNpZmllcjogY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUuZGl2ZXJzaWZpZXIsCiAgICBwYXRoOiBwYXRoLlN0cmluZygpLAogICAgZGF0YTogdmFsdWUsCiAgKQogIHByb3ZlbiA9IGNoZWNrU2lnbmF0dXJlKGNsaWVudFN0YXRlLmNvbnNlbnN1c1N0YXRlLnB1YmxpY0tleSwgc2lnbkJ5dGVzLCBwcm9vZi5zaWcpCiAgaWYgIXByb3ZlbiB7CiAgICByZXR1cm4gZXJyb3IKICB9CgogIC8vIGluY3JlbWVudCBzZXF1ZW5jZSBvbiBlYWNoIHZlcmlmaWNhdGlvbiB0byBwcm92aWRlCiAgLy8gcmVwbGF5IHByb3RlY3Rpb24KICBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5zZXF1ZW5jZSsrCiAgY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUudGltZXN0YW1wID0gcHJvb2YudGltZXN0YW1wCiAgLy8gdW5saWtlIG90aGVyIGNsaWVudHMsIHdlIG11c3Qgc2V0IHRoZSBjbGllbnQgc3RhdGUgaGVyZSBiZWNhdXNlIHdlCiAgLy8gbXV0YXRlIHRoZSBjbGllbnRTdGF0ZSAoaW5jcmVtZW50IHNlcXVlbmNlIGFuZCBzZXQgdGltZXN0YW1wKQogIC8vIHRodXMgdGhlIHZlcmlmaWNhdGlvbiBtZXRob2RzIGFyZSBzdGF0ZWZ1bCBmb3IgdGhlIHNvbG8gbWFjaGluZQogIC8vIGluIG9yZGVyIHRvIHByZXZlbnQgcmVwbGF5IGF0dGFja3MKICBwcm92YWJsZVN0b3JlLnNldCgmcXVvdDtjbGllbnRzL3tpZGVudGlmaWVyfS9jbGllbnRTdGF0ZSZxdW90OywgY2xpZW50U3RhdGUpCiAgcmV0dXJuIG5pbAp9CgpmdW5jdGlvbiB2ZXJpZnlOb25NZW1iZXJzaGlwKAogIGNsaWVudFN0YXRlOiBDbGllbnRTdGF0ZSwKICAvLyBwcm92aWRlZCBoZWlnaHQgaXMgdW5uZWNlc3NhcnkgZm9yIHNvbG8gbWFjaGluZQogIC8vIHNpbmNlIGNsaWVudFN0YXRlIG1haW50YWlucyB0aGUgZXhwZWN0ZWQgc2VxdWVuY2UKICBoZWlnaHQ6IHVpbnQ2NCwKICAvLyBkZWxheVBlcmlvZCBpcyB1bnN1cHBvcnRlZCBvbiBzb2xvIG1hY2hpbmVzCiAgLy8gdGh1cyB0aGVzZSBmaWVsZHMgYXJlIGlnbm9yZWQKICBkZWxheVRpbWVQZXJpb2Q6IHVpbnQ2NCwKICBkZWxheUJsb2NrUGVyaW9kOiB1aW50NjQsCiAgcHJvb2Y6IENvbW1pdG1lbnRQcm9vZiwKICBwYXRoOiBDb21taXRtZW50UGF0aAopOiBFcnJvciB7CiAgYWJvcnRUcmFuc2FjdGlvblVubGVzcyghY2xpZW50U3RhdGUuZnJvemVuKQogIGFib3J0VHJhbnNhY3Rpb25Vbmxlc3MocHJvb2YudGltZXN0YW1wICZndDs9IGNsaWVudFN0YXRlLmNvbnNlbnN1c1N0YXRlLnRpbWVzdGFtcCkKICBzaWduQnl0ZXMgPSBTaWduQnl0ZXMoCiAgICBzZXF1ZW5jZTogY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUuc2VxdWVuY2UsCiAgICB0aW1lc3RhbXA6IHByb29mLnRpbWVzdGFtcCwKICAgIGRpdmVyc2lmaWVyOiBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5kaXZlcnNpZmllciwKICAgIHBhdGg6IHBhdGguU3RyaW5nKCksCiAgICBkYXRhOiBuaWwsCiAgKQogIHByb3ZlbiA9IGNoZWNrU2lnbmF0dXJlKGNsaWVudFN0YXRlLmNvbnNlbnN1c1N0YXRlLnB1YmxpY0tleSwgc2lnbkJ5dGVzLCBwcm9vZi5zaWcpCiAgaWYgIXByb3ZlbiB7CiAgICByZXR1cm4gZXJyb3IKICB9CgogIC8vIGluY3JlbWVudCBzZXF1ZW5jZSBvbiBlYWNoIHZlcmlmaWNhdGlvbiB0byBwcm92aWRlCiAgLy8gcmVwbGF5IHByb3RlY3Rpb24KICBjbGllbnRTdGF0ZS5jb25zZW5zdXNTdGF0ZS5zZXF1ZW5jZSsrCiAgY2xpZW50U3RhdGUuY29uc2Vuc3VzU3RhdGUudGltZXN0YW1wID0gcHJvb2YudGltZXN0YW1wCiAgLy8gdW5saWtlIG90aGVyIGNsaWVudHMsIHdlIG11c3Qgc2V0IHRoZSBjbGllbnQgc3RhdGUgaGVyZSBiZWNhdXNlIHdlCiAgLy8gbXV0YXRlIHRoZSBjbGllbnRTdGF0ZSAoaW5jcmVtZW50IHNlcXVlbmNlIGFuZCBzZXQgdGltZXN0YW1wKQogIC8vIHRodXMgdGhlIHZlcmlmaWNhdGlvbiBtZXRob2RzIGFyZSBzdGF0ZWZ1bCBmb3IgdGhlIHNvbG8gbWFjaGluZQogIC8vIGluIG9yZGVyIHRvIHByZXZlbnQgcmVwbGF5IGF0dGFja3MKICBwcm92YWJsZVN0b3JlLnNldCgmcXVvdDtjbGllbnRzL3tpZGVudGlmaWVyfS9jbGllbnRTdGF0ZSZxdW90OywgY2xpZW50U3RhdGUpCiAgcmV0dXJuIG5pbAp9Cg=="}})],1),e._v(" "),i("h2",{attrs:{id:"practical-example"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#practical-example"}},[e._v("#")]),e._v(" Practical example")]),e._v(" "),i("p",[e._v("Ready to experiment?")]),e._v(" "),i("p",[e._v("Crypto.org is the main user of solo machines up to this point and has an implementation in their "),i("a",{attrs:{href:"https://github.com/devashishdxt/stag",target:"_blank",rel:"noopener noreferrer"}},[e._v("stag repo"),i("OutboundLink")],1),e._v(" which you can check out for yourself.")]),e._v(" "),i("HighlightBox",{attrs:{type:"docs"}},[i("p",[e._v("There is also a tutorial that runs both a solo machine (based on the stag repo from above) and a simple Cosmos SDK chain that shows a solo machine walkthrough. You can follow along "),i("a",{attrs:{href:"https://github.com/cosmos/ibc-go/wiki/IBC-solo-machine",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),i("OutboundLink")],1),e._v(".")])]),e._v(" "),i("h2",{attrs:{id:"conclusion"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),i("p",[e._v("IBC offers a unique and powerful framework for trust-minimized interoperability, and the impressive growth since its genesis is a testament to its security, composability, and extensibility.")]),e._v(" "),i("p",[e._v("While implementing light clients has been the standard design to plug into IBC, the options are not limited to this one method, and the solo machine (and client) offers an alternative to implementing IBC light clients. Given its simple proof verification method, the solo machine client is considerably easier to deploy from an engineering standpoint, and an effective solution in deployment scenarios where other potential concerns (eg. security) are mitigated by design.")]),e._v(" "),i("p",[e._v("In conclusion, having access to IBC offers a host of benefits, but it is equally important to facilitate ease of access to IBC as much as possible. On this latter point, the solo machine client offers one of the best solutions available today.")]),e._v(" "),i("HighlightBox",{attrs:{type:"synopsis"}},[i("p",[e._v("To summarize, this section has explored:")]),e._v(" "),i("ul",[i("li",[e._v("A solo machine is a standalone process that can interact with blockchains through IBC.")]),e._v(" "),i("li",[e._v("It can store key information but has no consensus algorithm of its own.")]),e._v(" "),i("li",[e._v("The ibc-go implementation contains a solo machine client enabling Cosmos SDK chains to interact with solo machines over IBC.")]),e._v(" "),i("li",[e._v("The benefits of using the solo machine client.")]),e._v(" "),i("li",[e._v("The implementation of solo machines.")])])])],1)}),[],!1,null,null,null);t.default=o.exports}}]);